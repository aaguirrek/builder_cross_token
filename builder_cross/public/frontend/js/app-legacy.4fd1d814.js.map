{"version":3,"file":"js/app-legacy.4fd1d814.js","mappings":"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ACbjuB,IACF/G,KAAK20B,gBAAgB1mB,GAAQlH,EAEjC,CAAE,MAAO/F,GACPhB,KAAKkkB,OAAOjjB,MAAM,gBAAiB,4BAA+BgN,EAAMjN,EAC1E,CAEJ,GAAC,CAAAV,IAAA,UAAAC,MAGD,WAAU,IAAAkJ,EAAA,KACR,OAAO,IAAI0a,SAAS,SAACC,GACd3a,EAAKorB,QAmKRprB,EAAKya,OAAOviB,IAAI,EAAG,UAAW,gBAC9ByiB,EAAQ3a,EAAKorB,UAnKbprB,EAAKya,OAAOviB,IAAI,EAAG,UAAW,eAC9BwiB,QAAQ+F,IAAI,CAGV,oCACA,mCACA,oCACA,oCACA,oCACA,oCACA,oCAEA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,mCACA,oCACA,oCACA,oCACA,mCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,mCACA,oCACA,oCACA,mCACA,oCACA,oCAEA,oCACA,oCACA,oCACA,oCACA,oCAGA,mCACA,mCACA,oCACA,oCAEA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,mCAEA,oCACA,oCACA,oCACA,oCACA,oCACA,mCACA,oCACA,oCACA,mCACA,mCACA,oCACA,mCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCAGA,mCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCAEA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCAEA,kCACA,oCACA,mCACA,oCAEA,oCACA,oCACA,oCACA,kCACA,oCACA,mCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,mCACA,sCAICzF,MAAK,SAAA9V,GACNlF,EAAKorB,OAAS,GACdlmB,EAAOvF,SAAQ,SAAAQ,G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","sources":["webpack://quant-ux/./src/common/Logger.js","webpack://quant-ux/./src/core/Core.js","webpack://quant-ux/./src/core/CoreUtil.js","webpack://quant-ux/./src/core/DistributionUtil.js","webpack://quant-ux/./src/core/Logger.js","webpack://quant-ux/./src/core/ModelGeom.js","webpack://quant-ux/./src/core/ModelResizer.js","webpack://quant-ux/./src/core/ModelUtil.js","webpack://quant-ux/./src/core/ai/StyleImporter.js","webpack://quant-ux/./src/dojo/Evented.js","webpack://quant-ux/./src/dojo/_base/lang.js","webpack://quant-ux/./src/dojo/css.js","webpack://quant-ux/./src/dojo/win.js","webpack://quant-ux/./src/App.vue","webpack://quant-ux/src/App.vue","webpack://quant-ux/./src/App.vue?c036","webpack://quant-ux/./src/App.vue?0e40","webpack://quant-ux/./src/router.js","webpack://quant-ux/./src/main.js","webpack://quant-ux/./src/services/AbstractService.js","webpack://quant-ux/./src/services/UserService.js","webpack://quant-ux/./src/services/ModelService.js","webpack://quant-ux/./src/services/PublicModelService.js","webpack://quant-ux/./src/services/CommentService.js","webpack://quant-ux/./src/services/HelpService.js","webpack://quant-ux/./src/services/ImageService.js","webpack://quant-ux/./src/services/KeyCloakService.js","webpack://quant-ux/./src/services/NotificationService.js","webpack://quant-ux/./src/services/AIService.js","webpack://quant-ux/./src/services/Services.js","webpack://quant-ux/./src/services/SymbolService.js","webpack://quant-ux/./src/services/WebSocketService.js","webpack://quant-ux/webpack/bootstrap","webpack://quant-ux/webpack/runtime/amd define","webpack://quant-ux/webpack/runtime/amd options","webpack://quant-ux/webpack/runtime/chunk loaded","webpack://quant-ux/webpack/runtime/compat get default export","webpack://quant-ux/webpack/runtime/create fake namespace object","webpack://quant-ux/webpack/runtime/define property getters","webpack://quant-ux/webpack/runtime/ensure chunk","webpack://quant-ux/webpack/runtime/get javascript chunk filename","webpack://quant-ux/webpack/runtime/get mini-css chunk filename","webpack://quant-ux/webpack/runtime/global","webpack://quant-ux/webpack/runtime/hasOwnProperty shorthand","webpack://quant-ux/webpack/runtime/load script","webpack://quant-ux/webpack/runtime/make namespace object","webpack://quant-ux/webpack/runtime/publicPath","webpack://quant-ux/webpack/runtime/css loading","webpack://quant-ux/webpack/runtime/jsonp chunk loading","webpack://quant-ux/webpack/startup"],"sourcesContent":["\nvar vommonLoggingQueue = []\nvar vommonLoggingQueuePos = 0\nvar vommonLoggingQueueMax = 50\nvar vommonLoggingDebugLevel = 0\nvar vommonLoggingErrorListener = null\n\n\nexport default class Logger {\n\n\tconstructor(className) {\n\t\tif (!className.toLowerCase) {\n\t\t\tconsole.warn('Logger.constructor called with params', className)\n\t\t}\n\t\tthis.debugLevel = -1\n\t\tthis.serverDebugLevel = 2\n\t\tthis.prefix = null\n\t\tthis.url = \"https://backbuild.buildhub.pe/rest/log/error\"\n\t\tthis.className = className;\n\t}\n\n\tstatic setErrorCallback(callback) {\n\t\tvommonLoggingErrorListener = callback\n\t}\n\n\tsetUser (){\n\t}\n\n\twriteQueue (){\n\t\tvar q = \"\";\n\t\ttry{\n\t\t\tvommonLoggingQueue.sort(function(a,b){\n\t\t\t\treturn b.t -a.t;\n\t\t\t});\n\t\t\tfor(var i=0; i < vommonLoggingQueue.length - 1; i++){\n\t\t\t\tif(vommonLoggingQueue[i]){\n\t\t\t\t\tq+= vommonLoggingQueue[i].m +\"\\n\";\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e){\n\t\t\tconsole.error(e)\n\t\t}\n\t\treturn q;\n\t}\n\n\n\tsendError (e){\n\t\tif (vommonLoggingErrorListener) {\n\t\t\tvommonLoggingErrorListener(e, this.writeQueue())\n\t\t} else {\n\t\t\tconsole.error('sendError() >> ', e)\n\t\t}\n\t}\n\n\terror (meth, message, error) {\n\t\tvar m = this.className + \".\" + meth;\n\t\tconsole.error(m + \" >> \" + message);\n\t\tif(error){\n\t\t\tconsole.error(error.message);\n\t\t\tconsole.error(error.stack);\n\t\t}\n\t\tthis.saveLog('ERROR', meth, message)\n\t}\n\n\twarn (method, message, obj){\n\t\tthis.warning(0, method, message, obj);\n\t\tthis.saveLog('WARN', method, message)\n\t}\n\n\tinfo (method, message, data1){\n\t\tthis.log(1, method, message, data1);\n\t}\n\n\tdebug (method, message, data1){\n\t\tthis.log(4, method, message, data1);\n\t}\n\n\twarning (level,method, message, obj){\n\t\tvar m = this.className + \".\"+method;\n\t\tif(vommonLoggingDebugLevel >= level){\n\t\t\tif(this.prefix){\n\t\t\t\tif(m.indexOf(this.prefix) == 0){\n\t\t\t\t\tif (obj) {\n\t\t\t\t\t\tconsole.warn(m + \" >> \" + message, obj);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.warn(m + \" >> \" + message);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else{\n\t\t\t\tif (obj) {\n\t\t\t\t\tconsole.warn(m + \" >> \" + message, obj);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn(m + \" >> \" + message);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tlog (level, method, message, obj){\n\t\tvar m = this.className + \".\"+method;\n\t\tif(vommonLoggingDebugLevel > level){\n\t\t\tif(this.prefix){\n\t\t\t\tif(m.indexOf(this.prefix) == 0){\n\t\t\t\t\tif (obj){\n\t\t\t\t\t\tconsole.info(m + \" >> \" + message, obj);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.info(m + \" >> \" + message);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif (obj !== undefined){\n\t\t\t\t\tconsole.info(m + \" >> \" + message, obj);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.info(m + \" >> \" + message);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.saveLog('LOG', method, message)\n\t}\n\n\tsaveLog(level, method, message) {\n\t\tvar m = level + ':: ' + this.className + \".\" + method + \" >> \" + message;\n\t\tconst entry = {\n\t\t\tt: new Date().getTime(),\n\t\t\tl: level,\n\t\t\tm : m+ \" >> \" + message\n\t\t}\n\t\tvommonLoggingQueue[vommonLoggingQueuePos] = entry;\n\t\tvommonLoggingQueuePos = (vommonLoggingQueuePos+1) % vommonLoggingQueueMax;\n\t}\n}","  /* eslint-disable */\nimport lang from '../dojo/_base/lang'\nimport Evented from '../dojo/Evented'\nimport ModelGeom from './ModelGeom'\nimport ModelResizer from './ModelResizer'\nimport ModelUtil from './ModelUtil'\nimport * as DistributeUtil  from './DistributionUtil'\n\n// FIXME: I believe we do not need  evented\nexport default class Core extends Evented {\n\n    constructor() {\n        super()\n    }\n\n\n\n    /**\n     * Gets all teh widgets that are in the container! The method\n     * takes the order into account\n     * @param {} widgets\n     * @param {*} container\n     */\n    getParentWidgets(widget, model) {\n        const result = []\n        /*\n         * Loop over sorted list\n         */\n        const sortedWidgets = this.getOrderedWidgets(model.widgets)\n        for (let i = 0; i < sortedWidgets.length; i++) {\n            const container = sortedWidgets[i]\n            //console.debug('Repeater.core', container.name, container.isContainer, container.id, widget.id)\n            /**\n             * if the widget is the potential container, we can stop,\n             * because everz thing after is above.\n             */\n            if (container.id != widget.id) {\n                if (container.isContainer) {\n                    //console.debug('  Repeater.core', widget.x, container.x)\n                    if (this._isContainedInBox(widget, container)) {\n                        result.push(container)\n                    }\n                }\n            } else {\n                //console.debug('Repeater.core.exit')\n                break;\n            }\n        }\n        return result;\n    }\n\n    getObjectLength(o) {\n        if (o) {\n            return Object.keys(o).length;\n        } else {\n            return 0;\n        }\n    }\n\n    /**********************************************************************\n     * Clone Tool\n     **********************************************************************/\n    getClones(ids, target) {\n\n        const result = [];\n        const previews = [];\n\n        // 1) get bounding box\n        const boudingBox = this.getBoundingBox(ids);\n\n        let xFactor = 1;\n        if (boudingBox.x > target.x) {\n            xFactor = -1;\n        }\n\n        let yFactor = 1;\n        if (boudingBox.y > target.y) {\n            yFactor = -1;\n        }\n\n        const xCount = Math.floor(target.w / boudingBox.w);\n        const yCount = Math.floor(target.h / boudingBox.h);\n        const xSpace = Math.round((target.w - xCount * boudingBox.w) / Math.max(1, xCount - 1));\n        const ySpace = Math.round((target.h - yCount * boudingBox.h) / Math.max(1, yCount - 1));\n        //console.debug(\"getClones > x: \", xCount,xSpace, \" y:\", yCount, ySpace, \" >> bb: \", boudingBox.w, boudingBox.h, boudingBox.y)\n\n        const offSets = {};\n        for (let i = 0; i < ids.length; i++) {\n            let id = ids[i];\n            var box = this.getBoxById(id);\n            offSets[id] = {\n                x: box.x - boudingBox.x,\n                y: box.y - boudingBox.y,\n                box: box\n            };\n        }\n\n        // now create grid but not at 0,0\n        let count = 0;\n        for (let x = 0; x < xCount; x++) {\n            for (let y = 0; y < yCount; y++) {\n                if (x != 0 || y != 0) {\n                    let id;\n                    for (let i = 0; i < ids.length; i++) {\n                        id = ids[i];\n                        const offset = offSets[id];\n                        //console.debug(id,offset.x, offset.y , offset.box.h + ySpace + offset.y)\n                        const clone = {\n                            w: boudingBox.w,\n                            h: boudingBox.h,\n                            x: boudingBox.x + (x * (boudingBox.w + xSpace) + offset.x) * xFactor,\n                            y: boudingBox.y + (y * (boudingBox.h + ySpace) + offset.y) * yFactor,\n                            z: offset.box.z,\n                            group: count,\n                            cloneOff: id\n                        };\n                        result.push(clone);\n                    }\n                    /**\n                     * FIXME: Should this be in the loop?\n                     */\n                    const preview = {\n                        w: boudingBox.w,\n                        h: boudingBox.h,\n                        x: boudingBox.x + x * (boudingBox.w + xSpace) * xFactor,\n                        y: boudingBox.y + y * (boudingBox.h + ySpace) * yFactor,\n                        z: 0,\n                        cloneOff: id\n                    };\n                    previews.push(preview);\n                    count++;\n                }\n            }\n        }\n        return {\n            previews: previews,\n            clones: result\n        };\n    }\n\n    /***************************************************************************\n     * UI Geometrix helpers\n     ***************************************************************************/\n\n    getBoundingBox(ids) {\n        return ModelGeom.getBoundingBox(ids, this.model);\n    }\n\n    getBoundingBoxByBoxes(boxes) {\n        return ModelGeom.getBoundingBoxByBoxes(boxes);\n    }\n\n    getBoxById(id) {\n        return ModelGeom.getBoxById(id, this.model)\n    }\n\n    getParentScreen(widget, model) {\n        if (!model) {\n            model = this.model\n        }\n        for (let id in model.screens) {\n            const screen = model.screens[id];\n            const i = screen.children.indexOf(widget.id);\n            if (i > -1) {\n                return screen;\n            }\n        }\n        return null;\n    }\n\n    getWidgetPostionInScreen(widget, model) {\n        const screen = this.getParentScreen(widget, model);\n        if (screen) {\n            return {\n                x: widget.x - screen.x,\n                y: widget.y - screen.y,\n                w: widget.w,\n                h: widget.h\n            };\n        } else {\n            return {\n                x: widget.x,\n                y: widget.y,\n                w: widget.w,\n                h: widget.h\n            };\n        }\n    }\n\n    /**\n     * Gets the new position for a group child\n     */\n    _getGroupChildResizePosition(widget, oldGroup, newGroup, dif) {\n        console.warn(\"DEPRECATED! _getGroupChildResizePosition()\")\n        return ModelResizer.getGroupChildResizePosition(widget, oldGroup, newGroup, dif)\n    }\n\n    getObjectFromArray(list, key) {\n        var result = {};\n        for (var i = 0; i < list.length; i++) {\n            var item = list[i];\n            var value = item[key];\n            result[value] = item;\n        }\n        return result;\n    }\n\n    getArrayFromObject(obj, key) {\n        console.error('Core.getArrayFromObject() > Deprecated')\n        return ModelUtil.getArrayFromObject(obj, key)\n    }\n\n    getWidgetsByDistanceAndType(widget, types) {\n        var result = [];\n\n        if (this.model) {\n            let screen = this.getParentScreen(widget);\n            let children = screen.children;\n\n            for (let i = 0; i < children.length; i++) {\n                let widgetID = children[i];\n\n                if (widgetID != widget.id) {\n                    let childWidget = this.model.widgets[widgetID];\n                    var type = childWidget.type;\n                    if (types.indexOf(type) >= 0) {\n                        result.push({\n                            d: 0,\n                            y: childWidget.y,\n                            w: childWidget\n                        });\n                    }\n                }\n            }\n            result.sort(function (a, b) {\n                return a.y - b.y;\n            });\n        }\n\n        return result;\n    }\n\n\n    /**********************************************************************\n     * Distribute Tool\n     **********************************************************************/\n    _distributedPositions(type, ids, boundingBox) {\n        return DistributeUtil.distributedPositions(this.model, type, ids, boundingBox)\n    }\n\n\n    /**********************************************************************\n     * Bounding Box\n     **********************************************************************/\n\n    getGroupBoundingBox(ids) {\n        const result = {\n            x: 100000000,\n            y: 100000000,\n            w: 0,\n            h: 0\n        };\n\n        for (let i = 0; i < ids.length; i++) {\n            const id = ids[i];\n            const box = this.model.widgets[id];\n            if (box) {\n                result.x = Math.min(result.x, box.x);\n                result.y = Math.min(result.y, box.y);\n                result.w = Math.max(result.w, box.x + box.w);\n                result.h = Math.max(result.h, box.y + box.h);\n            } else {\n                console.warn(\"getGroupBoundingBox() > No box with id\", id);\n            }\n        }\n\n        result.h -= result.y;\n        result.w -= result.x;\n\n        return result;\n    }\n\n    getScreenAnimation(screen, eventType) {\n        if (screen.animation && screen.animation[eventType]) {\n            return screen.animation[eventType];\n        }\n    }\n\n    getDataBinding(widget) {\n        if (widget && widget.props && widget.props.databinding) {\n            return widget.props.databinding;\n        }\n    }\n\n    getCallbacks(widget) {\n        if( widget && widget.props && widget.props.callbacks) {\n            return widget.props.callbacks;\n        }\n    }\n\n    countProps(obj) {\n        // FIXME: Porto to ES6\n        var count = 0;\n        for (let k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                count++;\n            }\n        }\n        return count;\n    }\n\n    objectEquals(v1, v2) {\n        if (typeof v1 !== typeof v2) {\n            return false;\n        }\n\n        if (typeof v1 === \"function\") {\n            return v1.toString() === v2.toString();\n        }\n\n        if (v1 instanceof Object && v2 instanceof Object) {\n            if (this.countProps(v1) !== this.countProps(v2)) {\n                return false;\n            }\n            var r = true;\n            for (let k in v1) {\n                r = this.objectEquals(v1[k], v2[k]);\n                if (!r) {\n                    return false;\n                }\n            }\n            return true;\n        } else {\n            if (v1 === v2) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n\n    getStyle(element) {\n        return ModelUtil.getStyle(element, this.model)\n    }\n\n\n    getInheritedStyle(model, widgetViewMode) {\n        if (model && model.parentWidget) {\n            var parent = this.model.widgets[model.parentWidget];\n            if (parent) {\n                var style = lang.mixin(\n                    lang.clone(parent[widgetViewMode]),\n                    model[widgetViewMode]\n                );\n                return style;\n            } else {\n                console.warn(\"Layout.getInheritedStyle() > No template found for widget\", model.id, \" with widgetViewMode \", widgetViewMode);\n            }\n        }\n        return model.style;\n    }\n\n    getWidgetById(id, model) {\n\n        if (model.widgets[id]) {\n            return model.widgets[id];\n        }\n        /**\n         * Ok, there seems to be an inherited model id???\n         */\n        var parts = id.split(\"@\");\n        if (parts.length == 2) {\n            var widgetID = parts[0];\n            return model.widgets[widgetID];\n        }\n\n        return null;\n    }\n\n    /**\n     * Gets the right line for a box. In case of\n     * inherited widgets it takes the line of the parent\n     */\n    getLineFrom(box) {\n        var boxID = box.id;\n        if (box.inherited) {\n            boxID = box.inherited;\n        }\n\n        for (var id in this.model.lines) {\n            var line = this.model.lines[id];\n            if (line.from == boxID) {\n                return line;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Returns all lines where line.from is == box.id.\n     *\n     * The lines are ordered by id, which might be wrong...\n     */\n    getFromLines(box, model) {\n        if (!model) {\n            model = this.model\n        }\n        var result = [];\n        for (var id in model.lines) {\n            var line = model.lines[id];\n            if (line.from == box.id) {\n                result.push(line);\n            }\n        }\n        result.sort(function (a, b) {\n            return a.id.localeCompare(b.id);\n        });\n        return result;\n    }\n\n    getGroupHierarchy (id) {\n        const result = []\n        let group = this.getParentGroup(id)\n        if (group) {\n          result.push(group.id)\n          while (group) {\n            group = this.getParentGroup(group.id)\n            if (group) {\n              result.unshift(group.id)\n            }\n          }\n        }\n        return result\n    }\n\n    getCommonParentGroup(selection) {\n\t\tconst parentGroups = new Set()\n\t\tlet result = null\n\t\tfor (let i = 0; i < selection.length; i++) {\n\t\t\tconst widgetID = selection[i];\n\t\t\tconst group = this.getParentGroup(widgetID);\n\t\t\tif (group) {\n\t\t\t\tresult = group\n\t\t\t\tparentGroups.add(group.id)\n\t\t\t} else {\n\t\t\t\t// no group, we need to create a new parent group\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t// if we have one parentGroup we need to create a \n\t\t// new sub group\n\t\tif(parentGroups.size === 1) {\n\t\t\treturn result\n\t\t}\n\t}\n\n    getTopParentGroup(id) {\n        let group = this.getParentGroup(id)\n        if (group) {\n            let i = 0\n            while (group) {\n                let parent = this.getParentGroup(group.id)\n                if (parent) {\n                    group = parent\n                } else {\n                    /**\n                     * In contrast the the Layout copz of this, we do not add\n                     * all children... not sure it this is needed\n                     */\n                    return group\n                }\n                i++\n                if (i > 32) {\n                    console.error('Core.getTopParentGroup() > To deep recursion for widget : ' + id, group)\n                    return null    \n                }\n            }\n        }\n        return null\n    }\n\n    getAllChildGroups (group) {\n        let result = []\n        if (group.groups) {\n            group.groups.forEach(subId => {\n            let sub = this.model.groups[subId]\n            if (sub) {\n                result.push(sub)\n                let children = this.getAllChildGroups(sub)\n                result = result.concat(children)\n            } else {\n                console.warn('getAllGroupChildren() No sub group', subId)\n            }\n          })\n        }\n        return result\n    }\n\n    getAllGroupChildren(group) {\n        // FIXME: Use ModelUtil.getAllGroupChildren(group, this.model)\n        if (!group.children) {\n            return []\n        }\n        let result = group.children.slice(0)\n        if (group.groups) {\n            group.groups.forEach(subId => {\n                const sub = this.model.groups[subId]\n                if (sub) {\n                    const children = this.getAllGroupChildren(sub)\n                    result = result.concat(children)\n                } else {\n                    console.warn('getAllGroupChildren() No sub group', subId)\n                }\n            })\n        }\n        return result\n    }\n\n    getParentGroup(widgetID) {\n\n        if (this.model.groups) {\n            for (let id in this.model.groups) {\n                const group = this.model.groups[id];\n                const i = group.children.indexOf(widgetID);\n                if (i > -1) {\n                    return group;\n                }\n                /**\n                 * Since 2.13 we have subgroups and check this too\n                 */\n                if (group.groups) {\n                    let i = group.groups.indexOf(widgetID);\n                    if (i > -1) {\n                        return group;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n\n    getZoomed(v, zoom, round = true) {\n       return ModelUtil.getZoomed(v, zoom, round)\n    }\n\n    getZoomedCeil(v, zoom, round = true) {\n       return ModelUtil.getZoomedCeil(v, zoom, round)\n    }\n\n    getUnZoomed(v, zoom) {\n        return Math.round(v / zoom);\n    }\n\n    getZoomedBox(box, zoomX, zoomY, round = true) {\n        return ModelUtil.getZoomedBox(box, zoomX, zoomY, round)\n    }\n\n    getZoomedBoxCopy (box, zoomX, zoomY) {\n        let result = {\n            isZoomed: true,\n            x: this.getZoomed(box.x, zoomX),\n            y: this.getZoomed(box.y, zoomY),\n            w: this.getZoomed(box.w, zoomX),\n            h: this.getZoomed(box.h, zoomY)\n        }\n\n        if (box.min) {\n            result.min = {\n                h: this.getZoomed(box.min.h, zoomY),\n                w: this.getZoomed(box.min.w, zoomX)\n            }\n        }\n\n        return result\n    }\n\n    getUnZoomedBoxCopy (box, zoomX, zoomY) {\n        let result = {\n            isZoomed: false,\n            x: this.getUnZoomed(box.x, zoomX),\n            y: this.getUnZoomed(box.y, zoomY),\n            w: this.getUnZoomed(box.w, zoomX),\n            h: this.getUnZoomed(box.h, zoomY)\n        }\n\n        if (box.min) {\n            result.min = {\n                h: this.getUnZoomed(box.min.h, zoomY),\n                w: this.getUnZoomed(box.min.w, zoomX)\n            }\n        }\n\n        return result\n    }\n\n    getUnZoomedBox(box, zoomX, zoomY) {\n        /**\n         * Fall back\n         */\n        if (!zoomY) {\n            zoomY = zoomX;\n        }\n\n        if (box.x) {\n            box.x = this.getUnZoomed(box.x, zoomX);\n        }\n\n        if (box.y) {\n            box.y = this.getUnZoomed(box.y, zoomY);\n        }\n\n        if (box.w) {\n            box.w = this.getUnZoomed(box.w, zoomX);\n        }\n\n        if (box.h) {\n            box.h = this.getUnZoomed(box.h, zoomY);\n        }\n\n        return box;\n    }\n\n    /**\n     * Creates scalled down model and also adds inheritance.\n     *\n     * FIXME: Change name to createViewModel();\n     */\n    createZoomedModel(zoomX, zoomY, isPreview, model) {\n\n        if (!model) {\n            //console.warn('createZoomedModel without model', new Error.stack)\n            model = this.model;\n        }\n        /**\n         * Fall back\n         */\n        if (!zoomY) {\n            zoomY = zoomX;\n        }\n        const zoomedModel = lang.clone(model);\n        zoomedModel.isZoomed = true;\n\n        this.getZoomedBox(zoomedModel.screenSize, zoomX, zoomY);\n\n        for (let id in zoomedModel.widgets) {\n            this.getZoomedBox(zoomedModel.widgets[id], zoomX, zoomY);\n        }\n\n        for (let id in zoomedModel.screens) {\n            const zoomedScreen = this.getZoomedBox(\n                zoomedModel.screens[id],\n                zoomX,\n                zoomY\n            );\n\n            /**\n             * This has a tiny tiny bug that makes copy of the same screen jump as x and y and rounded()\n             * To fix this, we should take the relative and x and y in the parent and round that...\n             *\n             * scalledWidget.x = scalledScreen.x + (orgWidget.x - orgScreen.x)*zoomX\n             *\n             * As an alternative we could stop using Math.round() ...\n             */\n            for (let i = 0; i < zoomedScreen.children.length; i++) {\n                const wid = zoomedScreen.children[i];\n                const zoomWidget = zoomedModel.widgets[wid];\n                const orgWidget = model.widgets[wid];\n                if (orgWidget) {\n                    /**\n                     * When we copy a screen we might not have the org widget yet\n                     */\n                    const orgScreen = model.screens[zoomedScreen.id];\n                    const difX = this.getZoomed(orgWidget.x - orgScreen.x, zoomX);\n                    const difY = this.getZoomed(orgWidget.y - orgScreen.y, zoomY);\n                    if (orgWidget.parentWidget) {\n                        if (zoomWidget.x >= 0) {\n                            zoomWidget.x = zoomedScreen.x + difX;\n                        }\n                        if (zoomWidget.y >= 0) {\n                            zoomWidget.y = zoomedScreen.y + difY;\n                        }\n                    } else {\n                        zoomWidget.x = zoomedScreen.x + difX;\n                        zoomWidget.y = zoomedScreen.y + difY;\n                    }\n                }\n            }\n        }\n\n        for (let id in zoomedModel.lines) {\n            const line = zoomedModel.lines[id];\n            for (let i = 0; i < line.points.length; i++) {\n                this.getZoomedBox(line.points[i], zoomX, zoomY);\n            }\n        }\n\n        /**\n         * Now do inheritance here\n         */\n        const inheritedModel = this.createInheritedModel(zoomedModel);\n\n        return inheritedModel;\n    }\n\n\n    createInheritedModel(model) {\n        /**\n         * Build lookup map for overwrites\n         */\n        const overwritenWidgets = {};\n        for (let screenID in model.screens) {\n            let screen = model.screens[screenID];\n            overwritenWidgets[screenID] = {};\n            for (let i = 0; i < screen.children.length; i++) {\n                let widgetID = screen.children[i];\n                let widget = model.widgets[widgetID];\n                if (widget && widget.parentWidget) {\n                    overwritenWidgets[screenID][widget.parentWidget] = widgetID;\n                }\n            }\n        }\n\n        // Todo: we could check if the model is zoomed and not clone...\n        let inModel = lang.clone(model);\n        inModel.inherited = true;\n\n\n        /**\n         * add container widgets\n         */\n        this.createContaineredModel(inModel)\n\n        /**\n         * add screen segments\n         */\n        this.createScreenSegmentModel(inModel)\n\n        /**\n         * add widgets from parent (master) screens\n         */\n        for (let screenID in inModel.screens) {\n            /**\n             * *ATTENTION* We read from the org model, otherwise we have\n             * issues in the loop as we change the screen.\n             */\n            let inScreen = inModel.screens[screenID]\n            let screen = model.screens[screenID];\n            if (screen.parents && screen.parents.length > 0) {\n                /**\n                 * add widgets from parent screens\n                 */\n                for (let i = 0; i < screen.parents.length; i++) {\n                    let parentID = screen.parents[i];\n                    if (parentID != screenID) {\n                        if (model.screens[parentID]) {\n                            /**\n                             * *ATTENTION* We read from the org model, otherwise we have\n                             * issues in the loop as we change the screen!\n                             */\n                            let parentScreen = model.screens[parentID];\n\n                            /**\n                             * Also copy rulers\n                             */\n                            this._addRulersFromParent(inScreen, parentScreen)\n\n                            /**\n                             * Since 2.1.3 we also copy the color\n                             */\n                            this._addBackgroundFromParent(inScreen, parentScreen, model)\n\n                            let difX = parentScreen.x - screen.x;\n                            let difY = parentScreen.y - screen.y;\n\n                            let parentChildren = parentScreen.children;\n                            for (var j = 0; j < parentChildren.length; j++) {\n                                let parentWidgetID = parentChildren[j];\n\n                                /**\n                                 * *ATTENTION* We read from the org model, otherwise we have\n                                 * issues in the loop as we change the screen!\n                                 */\n                                let parentWidget = model.widgets[parentWidgetID];\n                                if (parentWidget) {\n                                    let overwritenWidgetID = overwritenWidgets[screenID][parentWidgetID];\n                                    if (!overwritenWidgetID) {\n                                        let copy = lang.clone(parentWidget);\n\n                                        /**\n                                         * Super important the ID mapping!!\n                                         */\n                                        copy.id = parentWidget.id + \"@\" + screenID;\n                                        copy.inherited = parentWidget.id;\n                                        copy.inheritedScreen = screenID;\n                                        copy.masterScreen = parentID\n                                        copy.inheritedOrder = i + 1;\n\n                                        /**\n                                         * Now lets also put it at the right position!\n                                         */\n                                        copy.x -= difX;\n                                        copy.y -= difY;\n\n                                        /**\n                                         * We write the new widget to the inherited model!\n                                         *\n                                         */\n                                        inModel.widgets[copy.id] = copy;\n                                        inModel.screens[screenID].children.push(copy.id);\n\n                                        /**\n                                         * Also add a to the inherited copies\n                                         * so we can to live updates in canvas\n                                         */\n                                        let parentCopy = inModel.widgets[parentWidget.id];\n                                        if (!parentCopy.copies) {\n                                            parentCopy.copies = [];\n                                        }\n                                        parentCopy.copies.push(copy.id);\n                                    } else {\n                                        let overwritenWidget = inModel.widgets[overwritenWidgetID];\n\n                                        if (overwritenWidget) {\n                                            //console.debug(\"inheried() \",overwritenWidgetID,  overwritenWidget.style.background)\n                               \n                                            overwritenWidget.props = this.mixin(lang.clone(parentWidget.props), overwritenWidget.props, true);\n                                            overwritenWidget.style = this.mixin(lang.clone(parentWidget.style), overwritenWidget.style, true);\n                                            //console.debug(\"   ->\", overwritenWidget.style.background, overwritenWidget.style._mixed.background)\n                                            if (overwritenWidget.hover) {\n                                                overwritenWidget.hover = this.mixin(lang.clone(parentWidget.hover), overwritenWidget.hover, true);\n                                            }\n                                            if (overwritenWidget.error) {\n                                                overwritenWidget.error = this.mixin(lang.clone(parentWidget.error), overwritenWidget.error, true);\n                                            }\n\n                                            /**\n                                             * Also add a reference to the *INHERITED* copies\n                                             * so we can to live updates in canvas\n                                             */\n                                            let parentCopy = inModel.widgets[parentWidget.id];\n                                            if (!parentCopy.inheritedCopies) {\n                                                parentCopy.inheritedCopies = [];\n                                            }\n                                            parentCopy.inheritedCopies.push(overwritenWidget.id);\n\n                                            /**\n                                             * Also inherited positions\n                                             */\n                                            if (overwritenWidget.parentWidgetPos) {\n                                                overwritenWidget.x = parentWidget.x - difX;\n                                                overwritenWidget.y = parentWidget.y - difY;\n                                                overwritenWidget.w = parentWidget.w;\n                                                overwritenWidget.h = parentWidget.h;\n                                            }\n                                            overwritenWidget._inheried = true;\n                                        } else {\n                                            console.error(\"createInheritedModel() > No overwriten widget in model\");\n                                        }\n                                    }\n                                } else {\n                                    console.warn(\"createInheritedModel() > no parent screen child with id > \" + parentID + \">\" + parentWidget);\n                                }\n                            }\n                        } else {\n                            let parentScreen = model.screens[parentID];\n                            console.warn(\"createInheritedModel() > Deteced Self inheritance...\" + parentID, screen, parentScreen);\n                        }\n                    } else {\n                        console.warn(\"createInheritedModel() > no parent screen with id > \" + parentID);\n                    }\n                }\n            }\n        }\n\n        /**\n         * Inline designtokens. must come last, otherwise master screen widgets are not correctly filled.\n         */\n        inModel = ModelUtil.inlineModelDesignTokens(inModel)\n\n        /**\n         * Since 4.0.60 we want to inline also all template variants\n         */\n        inModel = ModelUtil.inlineAllTemplateVariants(inModel)\n        return inModel;\n    }\n\n\n    _addRulersFromParent(screen, parent) {\n        if (parent.rulers) {\n            if (!screen.rulers) {\n                screen.rulers = []\n            }\n            parent.rulers.forEach(ruler => {\n                let copy = lang.clone(ruler);\n                copy.inherited = ruler.id\n                screen.rulers.push(copy)\n            })\n        }\n    }\n\n    _addBackgroundFromParent(screen, parent, model) {\n        if (model.version >= 2) {\n            // FIXME: we need a flag to decide if we overwrite the color or not?\n            // if (parent.style && screen.style) {\n            //    screen.style.background = parent.style.background\n            // }\n        }\n    }\n\n    createScreenSegmentModel(inModel) {\n        // TODO: why not build a lookup map (screenID, List[Widgets]), so \n        // we don't have to do the forEach loop down?\n        let screenSegments = []\n        for (let widgetID in inModel.widgets) {\n            let widget = inModel.widgets[widgetID]\n            if (widget.type === 'ScreenSegment') {\n                screenSegments.push(widget)\n            }\n        }\n        if (screenSegments.length < 0) {\n            // we could already step out in here\n            // return\n        }\n        for (let screenID in inModel.screens) {\n            let screen = inModel.screens[screenID];\n            if (screen.segment) {\n                screenSegments.forEach(segment => {\n                    /**\n                     * make sure we have a backwards reference from the widgets rendered\n                     * in the segment for fast updates in the renderfactory\n                     */\n                    if (segment.props && segment.props.screenID && screen.id === segment.props.screenID) {\n                        for (let i = 0; i < screen.children.length; i++) {\n                            let widgetID = screen.children[i];\n                            let widget = inModel.widgets[widgetID];\n                            if (widget) {\n                                if (!widget.segmentParent) {\n                                    widget.segmentParent = []\n                                }\n                                widget.segmentParent.push(segment.id)\n                            } else {\n                                console.warn('Core.createScreenSegmentModel() No widget with id', widgetID, 'in', screenID)\n                            }\n                        }\n                    }\n                })\n            }\n        }\n    }\n\n    createContaineredModel(inModel) {\n        for (let screenID in inModel.screens) {\n            const screen = inModel.screens[screenID];\n            for (let i = 0; i < screen.children.length; i++) {\n                const widgetID = screen.children[i];\n                const widget = inModel.widgets[widgetID];\n                if (widget) {\n                    if (widget.isContainer) {\n                        let children = this.getContainedChildWidgets(widget, inModel, screen)\n                        widget.children = children.map(w => w.id)\n                    }\n                }\n            }\n        }\n        // containers do not work on canvas???\n    }\n\n    getContainedChildWidgets(container, model, scrn) {\n        const result = []\n        /*\n         * Loop over sorted list.\n         * TODO: make this faster. We could get the screen of the container,\n         * and then just loop over the screen children\n         * \n         * //sortChildren(screen.children, model)\n         */\n        const sortedWidgets = this.sortChildren(scrn.children, model) //this.getOrderedWidgets(model.widgets) ////sortChildren(screen.children, model)\n        let found = false\n        for (let i = 0; i < sortedWidgets.length; i++) {\n            const widget = sortedWidgets[i]\n            if (container.id != widget.id) {\n                if (found && this._isContainedInBox(widget, container)) {\n                    widget.container = container.id\n                    result.push(widget)\n                }\n            } else {\n                found = true\n            }\n        }\n        return result;\n    }\n\n    static addContainerChildrenToModel(model) {\n        /**\n         * Add here some function to add the virtual children, so that stuff\n         * works also in the analytic canvas. This would mean we would have to\n         * copy all the code from the Repeater to here...\n         */\n        return model\n    }\n\n\n    mixin(a, b, keepTrack) {\n        if (a && b) {\n            b = lang.clone(b);\n            if (keepTrack) {\n                b._mixed = {};\n            }\n\n            for (var k in a) {\n                if (b[k] === undefined || b[k] === null) {\n                    b[k] = a[k];\n                    if (keepTrack) {\n                        b._mixed[k] = true;\n                    }\n                }\n            }\n        }\n        return b;\n    }\n\n    mixinNotOverwriten(a, b) {\n        if (a && b) {\n            var mixed = {};\n            if (b._mixed) {\n                mixed = b._mixed;\n            }\n            //console.debug(\"mixinNotOverwriten\", overwriten)\n            for (var k in a) {\n                if (b[k] === undefined || b[k] === null || mixed[k]) {\n                    b[k] = a[k];\n                }\n            }\n        }\n        return b;\n    }\n\n    getStartScreen(model) {\n        if (!model) {\n            model = this.model;\n        }\n        for (var id in model.screens) {\n            var screen = model.screens[id];\n            try{\n                if(frappe.preload==\"0\" && frappe.param===screen.name){\n                    return screen;\n                }\n            }catch(e){}\n            if (screen.props.start) {\n                console.log(\"frappe.param\")\n                return screen;\n            }\n        }\n        return null;\n    }\n\n\n    stripHTML(s) {\n        if (!s)\n            s = \"\";\n        s = s.replace(/<\\/?[^>]+(>|$)/g, \"\");\n        s = s.replace(/%/g, \"$perc;\"); // Mongo cannot deal with % on undo\n        return s;\n    }\n\n    unStripHTML(s) {\n        if (!s) {\n            s = \"\";\n        }\n        s = s.replace(/\\$perc;/g, \"%\");\n        return s;\n    }\n\n    setInnerHTML(e, txt) {\n        if (e) {\n            txt = this.stripHTML(txt);\n            txt = txt.replace(/\\n/g, \"<br>\");\n            txt = txt.replace(/\\$perc;/g, \"%\"); // Mongo cannot deal with % on undo\n            e.innerHTML = txt;\n        } else {\n            console.warn(\"setInnerHTML() > No node to set test > \", txt);\n        }\n    }\n\n    setTextContent(e, txt) {\n        if (e) {\n            txt = this.stripHTML(txt);\n            txt = txt.replace(/\\n/g, \"<br>\");\n            txt = txt.replace(/\\$perc;/g, \"%\"); // Mongo cannot deal with % on undo\n            e.textContent = txt;\n        } else {\n            console.warn(\"setTextContent() > No node to set test > \", txt);\n        }\n    }\n\n    _isContainedInBox(obj, parent) {\n        if (parent) {\n            if (\n                obj.x >= parent.x &&\n                obj.x + obj.w <= parent.w + parent.x &&\n                (obj.y >= parent.y && obj.y + obj.h <= parent.y + parent.h)\n            ) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n\n    getHoverScreen(box) {\n        return this._getHoverScreen(box, this.model);\n    }\n\n    _getHoverScreen(box, model) {\n        return ModelGeom.getHoverScreen(box, model);\n    }\n\n    _isBoxChild(obj, parent) {\n        if (\n            obj.x + obj.w < parent.x ||\n            parent.x + parent.w < obj.x ||\n            obj.y + obj.h < parent.y ||\n            parent.y + parent.h < obj.y\n        ) {\n            return false;\n        }\n        return true;\n    }\n\n\n    /**\n     * Zvalue\n     */\n\n    getNormalizeWidgetZValues(values) {\n        /**\n         * convert values to a sorted list!\n         */\n        const list = [];\n        for (let id in values) {\n            list.push({\n                id: id,\n                z: values[id]\n            });\n        }\n        this.sortWidgetList(list);\n\n        let z = 0;\n        let lastZ = null;\n        let result = {};\n        for (let i = 0; i < list.length; i++) {\n            let w = list[i];\n            if (lastZ === null || lastZ != w.z) {\n                z++;\n                lastZ = w.z;\n            }\n            result[w.id] = z;\n        }\n\n        return result;\n    }\n\n    getMinZValue(widgets) {\n        let min = 100000;\n        let l = 0;\n        for (let id in widgets) {\n            const w = widgets[id];\n            min = Math.min(w.z, min);\n            l++;\n        }\n        if (l > 0) {\n            return min;\n        } else {\n            return 0;\n        }\n    }\n\n    getMaxZValue(widgets) {\n        let max = -10000;\n        let l = 0;\n        for (let id in widgets) {\n            const w = widgets[id];\n            max = Math.max(w.z, max);\n            l++;\n        }\n        if (l > 0) {\n            return max;\n        } else {\n            return 0;\n        }\n    }\n\n    getZValues(widgets) {\n        const values = {};\n        for (let id in widgets) {\n            const widget = widgets[id];\n            this.fixMissingZValue(widget);\n            values[id] = widget.z;\n        }\n        return values;\n    }\n\n    isFixedWidget(w) {\n        if (w.style && w.style.fixed) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * FIX for old models without z-value\n     */\n    fixMissingZValue(box) {\n        if (box.z === null || box.z === undefined) {\n            box.z = 0;\n        }\n    }\n\n\n    /**\n     * Get children\n     */\n    getOrderedWidgets(widgets, useIds = true) {\n        const result = [];\n        for (let id in widgets) {\n            const widget = widgets[id];\n            if (widget) {\n                this.fixMissingZValue(widget);\n                result.push(widget);\n            }\n        }\n        this.sortWidgetList(result, useIds);\n        return result;\n    }\n\n    /**\n     * Sort Screen children to render them in the correct order!\n     *\n     * Pass the children as parameter\n     */\n    sortChildren(children, model, useIds = true) {\n        if (!model) {\n            model = this.model\n        }\n        const result = [];\n        for (let i = 0; i < children.length; i++) {\n            const widgetID = children[i];\n            const widget = model.widgets[widgetID];\n            if (widget) {\n                this.fixMissingZValue(widget);\n                result.push(widget);\n            }\n        }\n        this.sortWidgetList(result, useIds);\n        return result;\n    }\n\n    /**\n     * This method is super important for the correct rendering!\n     *\n     * We sort by:\n     *\n     *  1) style.fixed: fixed elements will be renderd last, therefore they come\n     *  as the last elements in the list\n     *\n     * \t2) inherited : inherited values come first. They shall be rendered below the\n     *  widget of the new screen\n     *\n     *  3) z : High z values come later\n     *\n     *  4) id: if the z value is the same, sort by id, which means the order the widgets have been\n     *  added to the screen.\n     */\n    sortWidgetList(result, useIds = false) {\n\n        /**\n         * Inline function to determine if a widget is fixed.\n         * we have to check if style exists, because the Toolbar.onToolWidgetLayer()\n         * call the method without styles.\n         */\n        let isFixed = (w) => {\n            if (w.style && w.style.fixed) {\n                return true;\n            }\n            return false;\n        };\n\n        result.sort((a, b) => {\n            let aFix = isFixed(a);\n            let bFix = isFixed(b);\n\n\n            /**\n             * 1) Sort by fixed. If both are fixed or not fixed,\n             * continue sorting by inherited.\n             */\n            if (aFix == bFix) {\n\n                /**\n                 * 2) If both are inherited continue sorting by z & id.\n                 */\n                if (!a.inherited && !b.inherited) {\n                    /**\n                     * 2.a) if the have the same z, soet by id. This should be highly decrecated!\n                     */\n                    if (a.z == b.z && (a.id && b.id) && useIds) {\n                        //console.warn('Order BY ID DPRECATED', a.z, b.z, a, b.id)\n                        return a.id.localeCompare(b.id);\n                    }\n\n                    /**\n                     * 2.b) Sort by z. Attention, Chrome\n                     * needs -1, 0, 1 or one. > does not work\n                     */\n                    return a.z - b.z;\n                }\n\n                /**\n                 * 3) If both are not inherited,\n                 * continue sorting by z, because they\n                 * will not be in the same screen\n                 */\n                if (a.inherited && b.inherited) {\n\n                    /**\n                     * 3.a) Sort by z. Attention, Chrome\n                     * needs -1, 0, 1 or one. > does not work\n                     */\n                    return a.z - b.z;\n                }\n\n\n                if (a.inherited) {\n                    return -1;\n                }\n\n                return 1;\n            }\n            if (aFix) {\n                return 1;\n            }\n            return -1;\n        });\n    }\n\n\n    getModelChildren(screen) {\n        var result = [];\n\n        for (let id in this.model.widgets) {\n            let pos = screen.children.indexOf(id);\n            if (pos >= 0) {\n                result.push(this.model.widgets[id]);\n            }\n        }\n\n        return result;\n    }\n\n\n    /***************************************************************************\n     * Line helpers\n     ***************************************************************************/\n\n    getLinesForWidget(widget) {\n\n        /**\n         * In case of an inherited widget, use the lines of the master\n         */\n        if (widget.inherited && this.model.widgets[widget.inherited]) {\n            widget = this.model.widgets[widget.inherited];\n        }\n\n        var widgetID = widget.id;\n        var lines = this.getFromLines(widget);\n        if (lines && lines.length > 0) {\n            return lines;\n        }\n\n        var group = this.getParentGroup(widgetID);\n        if (group) {\n            var groupLine = this.getFromLines(group);\n            if (groupLine && groupLine.length > 0) {\n                return groupLine;\n            }\n        }\n\n        /**\n         * Since 2.1.3 we use might have sub groups.\n         */\n        var topGroup = this.getTopParentGroup(widgetID);\n        if (topGroup) {\n            let groupLine = this.getFromLines(topGroup);\n            if (groupLine && groupLine.length > 0) {\n                return groupLine;\n            }\n        }\n    }\n\n    getToLines(box) {\n        var result = [];\n\n        for (var id in this.model.lines) {\n            var line = this.model.lines[id];\n            if (line.to == box.id) {\n                result.push(line);\n            }\n        }\n\n        return result;\n    }\n\n    getLines(box, deep) {\n        var result = [];\n\n        var _ids = {};\n\n        for (let id in this.model.lines) {\n            let line = this.model.lines[id];\n            if (line.to == box.id || line.from == box.id) {\n                result.push(line);\n                _ids[line.id] = true;\n            }\n        }\n\n        if (box.children && deep) {\n            for (let i = 0; i < box.children.length; i++) {\n                let childID = box.children[i];\n                for (let id in this.model.lines) {\n                    let line = this.model.lines[id];\n                    if (!_ids[line.id]) {\n                        if (line.from == childID || line.to == childID) {\n                            result.push(line);\n                        }\n                    }\n                }\n            }\n        }\n\n        return result;\n    }\n\n    hasLine(widget) {\n        for (let id in this.model.lines) {\n            let line = this.model.lines[id];\n            if (line.from == widget.id) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    getLine(widget) {\n        for (let id in this.model.lines) {\n            let line = this.model.lines[id];\n            if (line.from == widget.id) {\n                return line;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * For all line drawing this function returns the widget, or in case of an\n     * group the bounding box!\n     */\n    getFromBox(line) {\n        let fromPos = this.model.widgets[line.from];\n\n        if (!fromPos) {\n            fromPos = this.model.screens[line.from];\n        }\n\n        if (!fromPos && this.model.groups) {\n            /**\n             * no widget, must be a group\n             */\n            const group = this.model.groups[line.from];\n            if (group) {\n                const children = this.getAllGroupChildren(group)\n                fromPos = this.getBoundingBox(children);\n            }\n        }\n\n        return fromPos;\n    }\n\n    getToBox(line) {\n        var to = this.model.screens[line.to];\n        if (!to) {\n            to = this.model.widgets[line.to];\n        }\n        return to;\n    }\n\n    static getChildScreens(model, screen) {\n        return Object.values(model.screens).map(s => {\n            if (s.parents) {\n                if (s.parents.indexOf(screen.id) >= 0) {\n                    return s\n                }\n            }\n            return null\n        }).filter(s => s !== null)\n    }\n\n    static getMasterScreens(model, screen) {\n        let result = []\n        if (screen.parents) {\n            for (let i = 0; i < screen.parents.length; i++) {\n                let parentID = screen.parents[i];\n                if (parentID != screen.id) {\n                    let parentScreen = model.screens[parentID];\n                    if (parentScreen) {\n                        result.push(parentScreen)\n                    }\n                }\n            }\n        }\n        return result\n    }\n\n    getAllRulers(model, screen) {\n        let result = []\n        if (screen.rulers) {\n            result = result.concat(screen.rulers)\n        }\n        let parents = Core.getMasterScreens(model, screen)\n        parents.forEach(parentScreen => {\n            if (parentScreen.rulers) {\n                result = result.concat(parentScreen.rulers)\n            }\n        })\n        return result\n    }\n\n    getSortedScreenChildren(model, screen, isReverse = true) {\n        let widgets = {}\n        for (let i = 0; i < screen.children.length; i++) {\n            let widgetID = screen.children[i];\n            let widget = model.widgets[widgetID];\n            if (widget) {\n                widgets[widget.id] = widget\n            }\n        }\n        let result = this.getOrderedWidgets(widgets);\n        if (isReverse) {\n            return result.reverse()\n        }\n        return result\n    }\n}","import Core from './Core'\n\n/**\n * Static import of Core\n */\nclass CoreUtil extends Core{\n\n    constructor () {\n        super()\n    }\n\n}\nexport default new CoreUtil()","\nimport ModelUtil from \"./ModelUtil\";\nimport ModelGeom from \"./ModelGeom\";\nimport Logger from \"./Logger\";\n\nexport function getDistributionMatrix(model, ids) {\n    return {\n        horizontal: getDistributionSets(model, 'vertical', ids).length,\n        vertical: getDistributionSets(model, 'horizontal', ids).length\n    }\n}\n\nexport function getDistributionSets (model, type, ids) {\n    Logger.log(1, 'DistributionUtil.getDistributionSets() > enter')\n    /**\n     * 1) get all subsets (rows or columns) depending on type\n     */\n    const sets = [];\n    for (let i = 0; i < ids.length; i++) {\n        const widgetID = ids[i];\n        const widget = model.widgets[widgetID];\n        if (widget) {\n            /**\n             * Attention: This seems counter intuitive. But for vertical,\n             * we have to find columns (x axis) and for horizontal we need\n             * rows (z - axis).\n             */\n            if (type == \"vertical\") {\n                const start = widget.x;\n                const end = widget.x + widget.w;\n                _addToDisSet(sets, widget, start, end);\n            } else {\n                const start = widget.y;\n                const end = widget.y + widget.h;\n                _addToDisSet(sets, widget, start, end);\n            }\n        }\n    }\n    return sets\n}\n\nexport function distributedPositions(model, type, ids, boundingBox) {\n    Logger.log(1, 'DistributionUtil.distributedPositions() > enter')\n    /**\n     * 1) get all subsets (rows or columns) depending on type\n     */\n    const sets = getDistributionSets(model, type, ids, boundingBox)\n\n    /**\n     * Now resize for every set!\n     */\n    const result = {};\n    let distances = [];\n    for (let i = 0; i < sets.length; i++) {\n        const set = sets[i];\n        const temp = _distributedPositionsInSubSet(model, type, set.children, boundingBox);\n        const tempPositions = temp.positions;\n        for (let id in tempPositions) {\n            if (!result[id]) {\n                result[id] = tempPositions[id];\n            }\n        }\n        distances = distances.concat(temp.distances);\n    }\n\n\n\n    return {\n        positions: result,\n        distances: distances\n    };\n}\n\n\nfunction _addToDisSet(sets, widget, start, end) {\n    const overlapps = [];\n\n    for (let i = 0; i < sets.length; i++) {\n        const set = sets[i];\n        const overlap = _getDisOverlap(start, end, set.start, set.end);\n        if (overlap > 0) {\n            set.start = Math.min(set.start, start);\n            set.end = Math.max(set.end, end);\n            set.children.push(widget.id);\n            set.pos = i;\n            overlapps.push(set);\n        }\n    }\n    if (overlapps.length == 0) {\n        sets.push({\n            start: start,\n            end: end,\n            children: [widget.id]\n        });\n    }\n\n    /**\n     * If an element is in two sets, the sets should be merged!\n     * It is not super important, as we would have in worst\n     * case one set, which would fuck up rending in worst case...\n     * Actually it should not happen often (or at all)\n     */\n    if (overlapps.length > 1) {\n        const merged = {\n            start: start,\n            end: end,\n            children: []\n        };\n        for (let i = 0; i < overlapps.length; i++) {\n            const temp = overlapps[i];\n            merged.start = Math.min(merged.start, temp.start);\n            merged.end = Math.max(merged.end, temp.end);\n            merged.children = merged.children.concat(temp.children);\n            sets.splice(temp.pos, 1);\n        }\n    }\n}\n\nfunction _getDisOverlap(a, b, c, d) {\n    //return Math.max(0, Math.min(max1, max2) - Math.max(min1, min2))\n    return (\n        Math.min(Math.max(a, b), Math.max(c, d)) -\n        Math.max(Math.min(c, d), Math.min(a, b))\n    );\n}\n\n\nfunction _distributedPositionsInSubSet(model, type, ids, boundingBox) {\n    const result = {};\n\n    /**\n     * 1) find groups... This can be bounding boxes or single widgets\n     */\n    const boxes = _getSelectionGroupPositions(model, ids);\n\n    /**\n     * 2) Now we calculate the positions\n     */\n    const positions = _getDistributedPositions(type, boxes, boundingBox);\n    const distances = [];\n    /**\n     * 3) now we fit the group children to their parents...\n     */\n    for (let id in positions) {\n        const newPos = positions[id];\n        if (newPos.children) {\n            for (var widgetID in newPos.children) {\n                var widgetPos = newPos.children[widgetID];\n                widgetPos.x = newPos.x + widgetPos.offSetX;\n                widgetPos.y = newPos.y + widgetPos.offSetY;\n                result[widgetID] = widgetPos;\n            }\n        } else {\n            result[id] = newPos;\n        }\n\n        if (newPos.distanceX || newPos.distanceY) {\n            distances.push({\n                x: newPos.distanceX,\n                y: newPos.distanceY\n            });\n        }\n    }\n\n    return {\n        positions: result,\n        distances: distances\n    };\n}\n\n\nfunction _getDistributedPositions(type, boxes, boundingBox) {\n    const positions = {};\n\n    boxes.sort(function (a, b) {\n        if (type == \"vertical\") {\n            return a.y - b.y;\n        } else {\n            return a.x - b.x;\n        }\n    });\n    let sum = 0;\n    for (let i = 0; i < boxes.length; i++) {\n        var box = boxes[i];\n        if (type == \"vertical\") {\n            sum += box.h;\n        } else {\n            sum += box.w;\n        }\n    }\n    let last = boxes[boxes.length - 1];\n    if (type == \"vertical\") {\n        sum = boundingBox.h - sum;\n    } else {\n        sum = boundingBox.w - sum;\n    }\n\n    let space = sum / (boxes.length - 1);\n    last = 0;\n    let lastBox = null;\n    for (let i = 0; i < boxes.length; i++) {\n        const widget = boxes[i];\n\n        const widgetPos = {\n            x: widget.x,\n            y: widget.y,\n            h: widget.h,\n            w: widget.w,\n            children: widget.children\n        };\n        if (i == 0) {\n            if (type == \"vertical\") {\n                widgetPos.y = boundingBox.y;\n                last = widgetPos.y + widgetPos.h;\n            } else {\n                widgetPos.x = boundingBox.x;\n                last = widgetPos.x + widgetPos.w;\n            }\n        } else if (i == boxes.length - 1) {\n            if (type == \"vertical\") {\n                widgetPos.y = Math.round(boundingBox.y + boundingBox.h - widget.h);\n            } else {\n                widgetPos.x = Math.round(boundingBox.x + boundingBox.w - widget.w);\n            }\n        } else {\n            if (type == \"vertical\") {\n                widgetPos.y = Math.round(last + space);\n                last = Math.round(widgetPos.y + widgetPos.h);\n            } else {\n                widgetPos.x = Math.round(last + space);\n                last = Math.round(widgetPos.x + widgetPos.w);\n            }\n        }\n\n        /**\n         * Also store distance so we can show later!\n         */\n        if (lastBox) {\n            if (type == \"vertical\") {\n                widgetPos.distanceY = {\n                    y: lastBox.y + lastBox.h,\n                    h: widgetPos.y - (lastBox.y + lastBox.h),\n                    x: Math.round(widgetPos.x + widgetPos.w / 2)\n                };\n            } else {\n                //console.debug(\"distHor\", widgetPos.x - (lastBox.x +lastBox.w))\n                widgetPos.distanceX = {\n                    x: lastBox.x + lastBox.w,\n                    w: widgetPos.x - (lastBox.x + lastBox.w),\n                    y: Math.round(widgetPos.y + widgetPos.h / 2)\n                };\n            }\n        }\n\n        positions[widget.id] = widgetPos;\n        lastBox = widgetPos;\n    }\n    return positions;\n}\n\n/**\n* Get widget positions and bounding boxes for groups...\n*/\nfunction _getSelectionGroupPositions(model, ids) {\n   const groups = {};\n   for (let i = 0; i < ids.length; i++) {\n        const widgetID = ids[i];\n        const widget = model.widgets[widgetID];\n        const group = ModelUtil.getParentGroup(model, widgetID);\n        if (group) {\n            const bbx = ModelGeom.getBoundingBox(group.children, model);\n            if (!groups[group.id]) {\n               bbx.children = {};\n               groups[group.id] = bbx;\n            }\n           \n            groups[group.id].children[widgetID] = {\n                x: widget.x,\n                y: widget.y,\n                h: widget.h,\n                w: widget.w,\n                offSetX: widget.x - bbx.x,\n                offSetY: widget.y - bbx.y\n            };\n            \n       } else {\n           groups[widgetID] = {\n               x: widget.x,\n               y: widget.y,\n               h: widget.h,\n               w: widget.w\n           };\n       }\n   }\n\n  \n   return ModelUtil.getArrayFromObject(groups, \"id\");\n}\n\n\n\nexport function _distributedPositionsBak (model, type, widgets, boundingBox) {\n    var positions = {};\n\n    var temp = [];\n    for (let i = 0; i < widgets.length; i++) {\n      let widgetID = widgets[i];\n      let widget = model.widgets[widgetID];\n      temp.push(widget);\n    }\n\n    temp.sort(function(a, b) {\n      if (type == \"vertical\") {\n        return a.y - b.y;\n      } else {\n        return a.x - b.x;\n      }\n    });\n\n    var sum = 0;\n    for (let i = 0; i < widgets.length; i++) {\n      let widget = temp[i];\n      if (type == \"vertical\") {\n        sum += widget.h;\n      } else {\n        sum += widget.w;\n      }\n    }\n    var last = temp[temp.length - 1];\n    if (type == \"vertical\") {\n      sum = boundingBox.h - sum;\n    } else {\n      sum = boundingBox.w - sum;\n    }\n\n    var space = sum / (widgets.length - 1);\n    last = 0;\n\n    for (let i = 0; i < temp.length; i++) {\n      let widget = temp[i];\n      var widgetPos = { x: widget.x, y: widget.y, h: widget.h, w: widget.w };\n      if (i == 0) {\n        if (type == \"vertical\") {\n          widgetPos.y = boundingBox.y;\n          last = widgetPos.y + widgetPos.h;\n        } else {\n          widgetPos.x = boundingBox.x;\n          last = widgetPos.x + widgetPos.w;\n        }\n      } else if (i == temp.length - 1) {\n        if (type == \"vertical\") {\n          widgetPos.y = Math.round(boundingBox.y + boundingBox.h - widget.h);\n        } else {\n          widgetPos.x = Math.round(boundingBox.x + boundingBox.w - widget.w);\n        }\n      } else {\n        if (type == \"vertical\") {\n          widgetPos.y = Math.round(last + space);\n          last = Math.round(widgetPos.y + widgetPos.h);\n        } else {\n          widgetPos.x = Math.round(last + space);\n          last = Math.round(widgetPos.x + widgetPos.w);\n        }\n      }\n      positions[widget.id] = widgetPos;\n    }\n\n    Logger.log(0,\"DistrubtionUtil.calculateDistributedPositions\", \"enter > \" +type +\" > space : \" + space);\n\n    return positions;\n  }\n\n\nexport function getLines(model, selection) {\n    let boundingBox = getBoundingBox(model, selection)\n    let xLines = {}\n    let yLines = {}\n    selection.forEach(id => {\n        let box = getBoxById(model, id)\n        if (box) {\n            let left = box.x - boundingBox.x\n            addLine(xLines, left, id, 'left', boundingBox.w)\n\n            let right = box.x + box.w - boundingBox.x\n            addLine(xLines, right, id, 'right', boundingBox.w)\n\n            let top = box.y - boundingBox.y\n            addLine(yLines, top, id, 'top', boundingBox.h)\n\n            let bottom = box.y + box.h - boundingBox.y\n            addLine(yLines, bottom, id, 'bottom', boundingBox.h)\n        }\n    });\n    return {\n        xLines: xLines,\n        yLines: yLines,\n        boundingBox: boundingBox\n    }\n}\n\nfunction addLine (result, line, id, attach, max) {\n    if (line > 0 && line < max){\n        if (!result[line]) {\n            result[line] = {\n                lines: []\n            }\n        }\n        result[line].lines.push({\n            id: id,\n            attach: attach\n        })\n    }\n    \n}\n\n\nfunction getBoundingBox (model, ids) {\n    var result = { x: 100000000, y: 100000000, w: 0, h: 0 , isBoundingBox: true, ids: ids};\n\n    for (var i = 0; i < ids.length; i++) {\n      var id = ids[i];\n      var box = getBoxById(model, id);\n      if (box) {\n        result.x = Math.min(result.x, box.x);\n        result.y = Math.min(result.y, box.y);\n        result.w = Math.max(result.w, box.x + box.w);\n        result.h = Math.max(result.h, box.y + box.h);\n      } else {\n        console.warn(\"getBoundingBox() > No box with id\", id);\n      }\n    }\n    result.h -= result.y;\n    result.w -= result.x;\n    return result;\n}\n\n\nfunction getBoxById (model, id) {\n    if (model.widgets[id]) {\n        return model.widgets[id];\n    }\n\n    if (model.screens[id]) {\n        return model.screens[id];\n    }\n\n    if (model.templates && model.templates[id]) {\n        return model.templates[id];\n    }\n    return null;\n}","class Logger {\n\n  constructor () {\n      this.logLevel = 0\n  }\n\n  setLogLevel (l) {\n      this.logLevel = l\n  }\n\n  warn(msg, obj) {\n      if (obj !== undefined) {\n          console.warn(msg, obj)\n      } else {\n          console.warn(msg)\n      }\n  }\n  error(msg, obj) {\n      if (obj !== undefined) {\n          console.error(msg, obj)\n      } else {\n          console.error(msg)\n      }\n  }\n  log(level, msg, obj, obj2 = '') {\n      if (level < this.logLevel) {\n          if (obj !== undefined) {\n              console.info(msg, obj, obj2)\n          } else {\n              console.info(msg)\n          }\n      }\n  }\n}\nexport default new Logger()","\n/**\n * A class that should in the long run contain all the geometric functions\n * that are somehow scattered around, Core.js and Util.vue\n */\nclass ModelGeom {\n\n\n    getBoundingBox (ids, model) {\n        const result = { x: 100000000, y: 100000000, w: 0, h: 0 , isBoundingBox: true, ids: ids};\n     \n        for (let i = 0; i < ids.length; i++) {\n            const id = ids[i];\n            const box = this.getBoxById(id, model);\n            if (box) {\n                result.x = Math.min(result.x, box.x);\n                result.y = Math.min(result.y, box.y);\n                result.w = Math.max(result.w, box.x + box.w);\n                result.h = Math.max(result.h, box.y + box.h);\n            } else {\n                console.warn(\"getBoundingBox() > No box with id\", id);\n            }\n        }\n        result.h -= result.y;\n        result.w -= result.x;\n        return result;\n    }\n\n    getBoundingBoxByBoxes (boxes) {\n        const result = { x: 100000000, y: 100000000, w: 0, h: 0, isBoundingBox: true};\n\n        for (let i = 0; i < boxes.length; i++) {\n            const box = boxes[i];\n            result.x = Math.min(result.x, box.x);\n            result.y = Math.min(result.y, box.y);\n            result.w = Math.max(result.w, box.x + box.w);\n            result.h = Math.max(result.h, box.y + box.h);\n        }\n\n        result.h -= result.y;\n        result.w -= result.x;\n\n        return result;\n    }\n\n    getMinZValueByIDs(ids, model) {\n        let min = 100000;\n        let l = 0;\n        ids.forEach(id => {\n            const w = model.widgets[id];\n            if (w) {\n                min = Math.min(w.z, min);\n                l++;\n            } else {\n                console.debug('getMinZValueByIDs() > cannot find', id)\n            }\n        })\n        if (l > 0) {\n            return min;\n        } else {\n            return 0;\n        }\n    }\n\n    getBoxById (id, model) {\n        if (model.widgets[id]) {\n            return model.widgets[id];\n        }\n\n        if (model.screens[id]) {\n            return model.screens[id];\n        }\n\n        if (model.templates && model.templates[id]) {\n            return model.templates[id];\n        }\n\n        /**\n         * Ok, there seems to be an inherited model id???\n         *\n         *\n         */\n        if (!id || !id.split) {\n            console.debug(\"getBoxById() > ID is wrong: \" + id);\n            return null;\n        }\n        var parts = id.split(\"@\");\n        if (parts.length == 2) {\n            var widgetID = parts[0];\n            var screenID = parts[1];\n\n            var screen = model.screens[screenID];\n            var parentWidget = model.widgets[widgetID];\n            if (screen && parentWidget) {\n                /**\n                 * Would getParentScreen() also work???\n                 */\n                var parentScreen = this.getHoverScreen(parentWidget, model);\n\n                if (parentScreen) {\n\n                    var difX = parentScreen.x - screen.x;\n                    var difY = parentScreen.y - screen.y;\n\n                    var copiedParentWidget = this.clone(parentWidget);\n\n                    /**\n                     * Super important the ID mapping!!\n                     */\n                    copiedParentWidget.id = id;\n                    copiedParentWidget.inherited = parentWidget.id;\n                    copiedParentWidget.inheritedOrder = 1;\n\n                    /**\n                     * Now lets also put it at the right position!\n                     */\n                    copiedParentWidget.x -= difX;\n                    copiedParentWidget.y -= difY;\n\n                    return copiedParentWidget;\n                } else {\n                    console.warn('ModelGeom.getBoxById() > No parent Screen', id)\n                }\n            } else {\n                console.warn(\"getBoxById() > No screen or widget for inherited id \",id);\n            }\n        }\n        return null;\n    }\n\n    getParentScreen (widget, model) {\n        for (let id in model.screens) {\n            const screen = model.screens[id];\n            const i = screen.children.indexOf(widget.id);\n            if (i > -1) {\n                return screen;\n            }\n        }\n        return null;\n    }\n\n    getHoverScreen (box, model) {\n        if (!box.w) {\n            box.w = 0;\n        }\n        if (!box.h) {\n            box.h = 0;\n        }\n        for (let id in model.screens) {\n            const screen = model.screens[id]\n            if (this._isBoxChild(box, screen)) {\n                return screen;\n            }\n        }\n        return null;\n    }\n\n    _isBoxChild (obj, parent) {\n        if (\n            obj.x + obj.w < parent.x ||\n            parent.x + parent.w < obj.x ||\n            obj.y + obj.h < parent.y ||\n            parent.y + parent.h < obj.y\n        ) {\n            return false;\n        }\n        return true;\n    }\n\n    clone (obj) {\n        if (!obj) {\n            return null\n        }\n        let _s = JSON.stringify(obj)\n        return JSON.parse(_s)\n    }\n}\n\nexport default new ModelGeom()","class ModelResizer {\n\n    getRulerMoveUpdates (model, screen, ruler, oldV, newV) {\n        // console.debug('getRulerMoveUpdates', oldV, newV)\n        let result = {}\n        let resize = false\n        if (ruler.props && ruler.props.resize) {\n            resize = ruler.props.resize\n        }\n        try {\n            /**\n             * find all attached widgets\n             */\n            let children = screen.children;\n            for(let i=0; i< children.length; i++){\n                let id = children[i];\n                let widget = model.widgets[id];\n                if (widget) {\n                    if (ruler.type === 'y') {\n                        if (Math.abs(widget.y - (screen.y + oldV)) < 1) {\n                            if (resize) {\n                                result[id] = {\n                                    w: widget.w,\n                                    h: widget.h + (oldV - newV),\n                                    x: widget.x,\n                                    y: screen.y + newV\n                                }\n                            } else {\n                                result[id] = {\n                                    w: widget.w,\n                                    h: widget.h,\n                                    x: widget.x,\n                                    y: screen.y + newV\n                                }\n                            }\n                            \n                        }\n                        if (Math.abs((widget.y + widget.h) - (screen.y + oldV)) < 1) {\n                            if (resize) {\n                                result[id] = {\n                                    w: widget.w,\n                                    h: widget.h - (oldV - newV),\n                                    x: widget.x,\n                                    y: widget.y\n                                }\n                            } else {\n                                result[id] = {\n                                    w: widget.w,\n                                    h: widget.h,\n                                    x: widget.x,\n                                    y: screen.y + newV - widget.h\n                                }\n                            } \n                        }\n                    }\n                    if (ruler.type === 'x') {\n                        if (Math.abs(widget.x - (screen.x + oldV)) < 1) {\n                            if (resize) {\n                                result[id] = {\n                                    w: widget.w + (oldV - newV),\n                                    h: widget.h,\n                                    x: screen.x + newV,\n                                    y: widget.y\n                                }\n                            } else {\n                                result[id] = {\n                                    w: widget.w,\n                                    h: widget.h,\n                                    x: screen.x + newV,\n                                    y: widget.y\n                                }\n                            }\n                        }\n                        if (Math.abs((widget.x + widget.w) - (screen.x + oldV)) < 1) {\n                            if (resize) {\n                                result[id] = {\n                                    w: widget.w - (oldV - newV),\n                                    h: widget.h,\n                                    x: widget.x,\n                                    y: widget.y\n                                }\n                            } else {\n                                result[id] = {\n                                    w: widget.w,\n                                    h: widget.h,\n                                    x: screen.x + newV - widget.w,\n                                    y: widget.y\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        } catch (e){\n            console.error('ModelResizer.getRulerMoveUpdates()', e)\n        }\n       \n        return result\n    }\n\n    /**\n    * Gets the new position for a group child\n    */\n    getGroupChildResizePosition (widget, oldBoundingBox, newBoundingBox, dif) {\n        console.warn('DEPRECATED! getGroupChildResizePosition()')\n        if (widget.props && widget.props.resize && this.oneIsTrue(widget.props.resize)) {       \n            return this.getResponsiveChildPosition(widget, oldBoundingBox, newBoundingBox, dif)\n        } else {\n            return this.getRelativeChildPosition(widget, oldBoundingBox, newBoundingBox, dif)\n        }\n    }\n\n    oneIsTrue (resize) {\n        return resize.up || resize.down || resize.left || resize.right || resize.fixedHorizontal || resize.fixedVertical\n    }\n\n    getResponsiveChildPosition (widget, oldBoundingBox, newBoundingBox, dif) {\n\n        let resize = widget.props.resize\n\n        var newModel = {\n            x: widget.x, \n            y: widget.y, \n            h: widget.h, \n            w: widget.w,\n            id : widget.id\n        };\n\n        var relPos = {\n            x: ((widget.x - oldBoundingBox.x) / oldBoundingBox.w) * 1.0,\n            y: ((widget.y - oldBoundingBox.y) / oldBoundingBox.h) * 1.0\n        };\n\n        let difLeft = widget.x - oldBoundingBox.x\n        let difRight = (oldBoundingBox.x + oldBoundingBox.w) - (widget.x + widget.w)\n        let difUp = widget.y - oldBoundingBox.y\n        let difDown = (oldBoundingBox.y + oldBoundingBox.h) - (widget.y + widget.h)\n       \n        /**\n         * Update Y Axis\n         */\n        if (resize.left && resize.right) {\n            newModel.x = newBoundingBox.x + difLeft\n            newModel.w = ((newBoundingBox.x + newBoundingBox.w) - difRight) - newModel.x\n        } else if (resize.left) {\n            if (!resize.fixedHorizontal) {\n                newModel.w = widget.w * dif.w\n            }\n            newModel.x = newBoundingBox.x + difLeft\n        } else if (resize.right) {\n            if (!resize.fixedHorizontal) {\n                newModel.w = widget.w * dif.w\n            }\n            newModel.x = (newBoundingBox.x + newBoundingBox.w) - (difRight + newModel.w)\n        } else {\n            newModel.x = newBoundingBox.x + newBoundingBox.w * relPos.x\n            if (!resize.fixedHorizontal) {\n                newModel.w = widget.w * dif.w\n            }\n        }\n\n        /**\n         * Update X Axis\n         */\n        if (resize.up && resize.down) {\n            newModel.y = newBoundingBox.y + difUp\n            newModel.h = ((newBoundingBox.y + newBoundingBox.h) - difDown) - newModel.y\n        } else if (resize.up) {\n            if (!resize.fixedVertical) {\n                newModel.h = widget.h * dif.h\n            }\n            newModel.y = newBoundingBox.y + difUp\n        } else if (resize.down) {\n            if (!resize.fixedVertical) {\n                newModel.h = widget.h * dif.h\n            }\n            newModel.y = (newBoundingBox.y + newBoundingBox.h) - (difDown + newModel.h)\n        } else {\n            newModel.y = newBoundingBox.y + newBoundingBox.h * relPos.y\n            if (!resize.fixedVertical) {\n                newModel.h = widget.h * dif.h\n            }\n        }\n\n        return newModel\n    }\n\n    /**\n     * This is the normal resizing! \n     */\n    getRelativeChildPosition (widget, oldGroup, newGroup, dif) {\n        /**\n         * get relative position of the widget in group\n         */\n        var relPos = {\n            x: ((widget.x - oldGroup.x) / oldGroup.w) * 1.0,\n            y: ((widget.y - oldGroup.y) / oldGroup.h) * 1.0\n        };\n\n        /**\n         * Resize rules are:\n         *\n         * 1) For x and y : if child box is 10 % away from border.\n         *    So new x must be also that amount away.\n         *\n         * 2) For w and h: just multiply with new width\n         */\n        var newPos = {\n            x: newGroup.x + newGroup.w * relPos.x,\n            y: newGroup.y + newGroup.h * relPos.y,\n            w: widget.w * dif.w,\n            h: widget.h * dif.h\n        };\n        return newPos;\n    }\n\n    getResizePosition (pos, model, type, resizeModel){\n        var newModel = {\n            x:model.x, \n            y: model.y, \n            h: model.h, \n            w: model.w,\n            id : model.id\n        };\n    \n        /**\n         * get min height for screens\n         */\n        var minH = (resizeModel.min) ? resizeModel.min.h : -1;\n        var minW = (resizeModel.min) ? resizeModel.min.w : -1;\n   \n        // FIXME: Do something like if (leftUp || leftDown).. else...\n\n        if(type==\"LeftUp\"){\n            if(minH < 0 || minH < (newModel.h - pos.y)){\n                newModel.h -= pos.y;\n                newModel.y += pos.y;\n            } else {\n                newModel.y += newModel.h - minH;\n                newModel.h = minH;\n            }\n            \n            if(minW < 0 || minW < (newModel.w - pos.x)){\n                newModel.w -= pos.x;\n                newModel.x += pos.x;\n            } else {\n                newModel.w += newModel.w - minW;\n                newModel.w = minW;\n            }\n        } else if(type==\"RightUp\"){\n            // up\n            if(minH < 0 || minH < (newModel.h - pos.y)){\n                newModel.h -= pos.y;\n                newModel.y += pos.y;\n            } else {\n                newModel.y += newModel.h - minH;\n                newModel.h = minH;\n            }\n            \n            // right\n            if(minW > 0){\n                newModel.w = Math.max(minW, newModel.w + pos.x);\n            } else {\n                newModel.w += pos.x;\n            }\n        } else if(type==\"RightDown\"){\n            // down\n            if(minH > 0){\n                newModel.h = Math.max(minH, newModel.h + pos.y);\n            } else {\n                newModel.h += pos.y;\n            }\n            \n            // right\n            if(minW > 0){\n                newModel.w = Math.max(minW, newModel.w + pos.x);\n            } else {\n                newModel.w += pos.x;\n            }\n        } else if(type==\"LeftDown\"){\n            // down\n            if(minH > 0){\n                newModel.h = Math.max(minH, newModel.h + pos.y);\n            } else {\n                newModel.h += pos.y;\n            }\n            \n            // left\n            if(minW < 0 || minW < (newModel.w - pos.x)){\n                newModel.w -= pos.x;\n                newModel.x += pos.x;\n            } else {\n                newModel.w += newModel.w - minW;\n                newModel.w = minW;\n            }\n        } else if(type==\"South\"){\n            // down\n            if(minH > 0){\n                // TODO: add here some logic for screen snapping...\n                newModel.h = Math.max(minH, newModel.h + pos.y);\n            } else {\n                newModel.h += pos.y;\n            }\n        } else if(type==\"North\"){\n            // up\n            if(minH < 0 || minH < (newModel.h - pos.y)){\n                newModel.h -= pos.y;\n                newModel.y += pos.y;\n            } else {\n                newModel.y += newModel.h - minH;\n                newModel.h = minH;\n            }\n        } else if(type==\"West\"){\n            // left\n            if(minW < 0 || minW < (newModel.w - pos.x)){\n                newModel.w -= pos.x;\n                newModel.x += pos.x;\n            } else {\n                newModel.w += newModel.w - minW;\n                newModel.w = minW;\n            }\n        } else if(type==\"East\"){\n            // right\n            if(minW > 0){\n                newModel.w = Math.max(minW, newModel.w + pos.x);\n            } else {\n                newModel.w += pos.x;\n            }\n        } else {\n            console.warn(type, \"Not supported\");\n        }\n        return newModel;\n    }\n}\nexport default new ModelResizer()\n","import lang from '../dojo/_base/lang'\nimport Logger from './Logger'\n\nclass ModelUtil {\n\n    constructor() {\n        this.designTokenCssProps = [\n            'color',\n            'fontSize',\n            'fontWeight',\n            'fontFamily',\n            'textAlign',\n            'letterSpacing',\n            'lineHeight',\n            'background',\n            'boxShadow',\n            'paddingTop',\n            'paddingBottom',\n            'paddingLeft',\n            'paddingRight',\n            'borderTopWidth',\n            'borderRightWidth',\n            'borderLeftWidth',\n            'borderBottomWidth',\n            'borderTopColor',\n            'borderBottomColor',\n            'borderRightColor',\n            'borderLeftColor'\n        ].map(t => 'dt-' + t)\n    }\n\n    \n    getAllGroupChildren (group, model) {\n        if (!group.children) {\n          return []\n        }\n        let result = group.children.slice(0)\n        if (group.groups) {\n          group.groups.forEach(subId => {\n            const sub = model.groups[subId]\n            if (sub) {\n              const children = this.getAllGroupChildren(sub, model)\n              result = result.concat(children)\n            } else {\n              console.warn('ModelUtil.getAllGroupChildren() No sub group', subId)\n            }\n          })\n        }\n        return result\n    }\n  \n\n    scaleToSelection(box, pos, type = '') {\n        // for top and bottom we scale by height, otherwise by width\n        if (type === 'North' || type === 'South') {\n            const scale = pos.h / box.h\n            const w =  Math.round(box.w * scale)\n            const offset = (type === 'LeftUp' || type === 'LeftDown') ? (w - pos.w) : 0\n            return {\n                x: pos.x - offset,\n                y: pos.y,\n                w: w,\n                h: pos.h\n            }\n        } else {\n            const scale = pos.w / box.w\n            const h =  Math.round(box.h * scale)\n            const offset = (type === 'LeftUp' || type === 'RightUp' )? (h - pos.h) : 0   \n            return {\n                x: pos.x,\n                y: pos.y - offset,\n                w: pos.w,\n                h: h\n            }\n        }\n    }\n\n    scaleToSelectionWidthOrHeight(box, pos, type = '') {\n        const difW = Math.abs(box.w - pos.w)\n        const difH = Math.abs(box.h - pos.h)\n        // Or should we just make for north and south the heigth scalling\n        if (difW > difH) {\n            const scale = pos.w / box.w\n            const h =  Math.round(box.h * scale)\n            const offset = (type === 'LeftUp' || type === 'RightUp' )? (h - pos.h) : 0   \n            return {\n                x: pos.x,\n                y: pos.y - offset,\n                w: pos.w,\n                h: h\n            }\n            \n        } else {\n            const scale = pos.h / box.h\n            const w =  Math.round(box.w * scale)\n            const offset = (type === 'LeftUp' || type === 'LeftDown') ? (w - pos.w) : 0\n            return {\n                x: pos.x - offset,\n                y: pos.y,\n                w: w,\n                h: pos.h\n            }\n        }\n    }\n\n    isLogicWidget(widget) {\n        return widget && (widget.type === 'LogicOr' || widget.type === \"Rest\" || widget.type === 'Script')\n    }\n\n    inlineAllTemplateVariants (model) {\n        // FIXME: For speedup during rendering, we could also inline all the \n        // templates\n        return model\n    }\n\n    inlineTemplateVariant (template, model) {\n        if (template.variantOf) {\n            let parent = model.templates[template.variantOf]\n            if (parent) {\n                // FIXME: we should be able to do this without copying the parent\n                const copy = lang.clone(parent)\n                this.mixinNewStyles(copy, template)\n                template.style = copy.style\n                template.hover = copy.hover\n                template.error = copy.error\n                template.active = copy.active\n                template.focus = copy.focus\n                return template\n            }\n        }\n        return template\n    }\n\n    inlineModelDesignTokens(model) {\n        /**\n         * This is quite costly. Can we do this smarter? Maybe we could do it in the\n         * RenderFactory (beawre of hover etc). Then we would have to just add here\n         * for all the reference design token the modified?\n         */\n        if (model.designtokens) {\n            for (let widgetID in model.widgets) {\n                let widget = model.widgets[widgetID]\n                this.inlineBoxDesignToken(widget, model)\n            }\n            for (let screenId in model.screens) {\n                let scrn = model.screens[screenId]\n                this.inlineBoxDesignToken(scrn, model)\n            }\n            /**\n             * FIXME Add tempaltes\n             */\n        }\n        return model\n    }\n\n    inlineBoxDesignToken(box, model) {\n        /**\n         * If the box is templates, we copy all the designtokens from the template\n         */\n        if (box && box.template && model.templates && model.templates[box.template]) {\n            let template = model.templates[box.template]\n            if (template.designtokens) {\n                /**\n                 * We could mix this in....\n                 */\n                box.designtokens = template.designtokens\n            }\n        }\n        if (box && box.designtokens) {\n            let designtokens = box.designtokens\n            for (let state in designtokens) {\n                if (!box[state]) {\n                    box[state] = {}\n                }\n                let stateTokens = designtokens[state]\n                for (let cssProp in stateTokens) {\n                    let designTokenId = stateTokens[cssProp]\n                    let designToken = model.designtokens[designTokenId]\n                    if (designToken) {\n                        if (designToken.isComplex) {\n                            box[state][cssProp] = designToken.value[cssProp]\n                        } else {\n                            box[state][cssProp] = designToken.value\n                        }\n                    } else {\n                        console.warn('ModelUtil.inlineBoxDesignToken() > NO token with id or no value:' + designTokenId, designToken)\n                        // console.warn(JSON.stringify(model.designtokens, null, 2))\n                        // console.warn(JSON.stringify(box, null, 2))\n                    }\n                }\n            }\n        }\n        return box\n    }\n\n\n    updateTemplateModifies(model) {\n        /**\n         * We set the template modfied date, so in RenderFlow we \n         * can recognize that we have to update the widget.\n         */\n        if (model && model.templates) {\n            for (let widgetID in model.widgets) {\n                const widget = model.widgets[widgetID]\n                if (widget.template) {\n                    const t = model.templates[widget.template];\n                    if (t) {\n                        widget._templateModified = t.modified\n                    }\n                }\n            }\n        }\n        return model\n    }\n\n    inlineTemplateStyles(model) {\n        for (let widgetID in model.widgets) {\n            const widget = model.widgets[widgetID]\n            if (widget.template) {\n                let hover = this.getTemplatedStyle(widget, model, 'hover')\n                if (hover) {\n                    widget.hover = hover\n                }\n                let error = this.getTemplatedStyle(widget, model, 'error')\n                if (error) {\n                    widget.error = error\n                }\n                let focus = this.getTemplatedStyle(widget, model, 'focus')\n                if (focus) {\n                    widget.focus = focus\n                }\n                let active = this.getTemplatedStyle(widget, model, 'active')\n                if (active) {\n                    widget.active = active\n                }\n            }\n\n        }\n        return model\n    }\n    \n    getStyle (widget, model) {\n        if (widget.template) {\n          if (model.templates) {\n            const template = this.getMergedTemplate(widget.template, model);\n            if (template) {\n          \n              /**\n               * Merge in overwriten styles\n               */\n              const merged = lang.clone(template.style);\n              if (widget.style) {\n                for (let key in widget.style) {\n                   merged[key] = widget.style[key];\n                }\n              }\n              return merged;\n            } else {\n              console.warn(\"ModelUtil.getStyle() > No template found for widget\",widget.id, \" with template \",  widget.template);\n            }\n          }\n        }\n        return widget.style;\n    }\n\n    getMergedTemplate (templateId, model) {\n        const template = model.templates[templateId];\n        /**\n         * Since 4.0.60 templates can inherit other templates\n         */\n        if (template && template.variantOf) {\n            let parent = model.templates[template.variantOf];\n            if (parent) {\n                parent = lang.clone(parent)\n                this.mixinNewStyles(parent, template)\n                // all props are now from the parent now!! Should only be used\n                // to get the template style\n                return parent\n            }\n        }\n        return template\n    }\n\n\n    getTemplatedStyle(widget, model, prop = 'style') {\n        if (widget.template) {\n            if (model.templates) {\n                const template = this.getMergedTemplate(widget.template, model);\n                if (template && template[prop]) {\n                    /**\n                     * Merge in overwriten styles\n                     */\n                    const merged = lang.clone(template[prop])\n                    if (widget[prop]) {\n                        let props = widget[prop]\n                        for (var key in props) {\n                            merged[key] = props[key]\n                        }\n                    }\n                    return merged;\n                }\n            }\n        }\n        return widget[prop];\n    }\n\n    getCopiesOfTemplate (template, model) {\n        if (template.copyOf) {\n            if (model.templates[template.copyOf]) {\n                template = model.templates[template.copyOf]\n            }\n        }\n        return Object.values(model.templates).filter(t => t.copyOf === template.id)\n    } \n\n    getVariantesOfTemplate (template, model) {\n        if (template.variantOf) {\n            if (model.templates[template.variantOf]) {\n                template = model.templates[template.variantOf]\n            }\n        }\n        return Object.values(model.templates).filter(t => t.variantOf === template.id)\n    } \n\n    /**\n     * Create a minimal scalled version.\n     * \n     * FIXME: We could try to improve the rendering even more\n     * by utilizing some cache to avoid object creation.\n     * There are also some downstream bugs, where for instance the\n     * selection hold on to the old version if there was zooming.\n     */\n    createScalledModelFast(model, zoom, round = true) {\n\n        const zoomedModel = {\n            id: model.id, \n            screenSize: {},\n            grid: lang.clone(model.grid),\n            screens: {},\n            widgets: {},\n            groups: {},\n            lines: {},\n            designtokens: {},\n            templates: {}\n        }\n\n        zoomedModel.screenSize = this.getZoomedBoxFast(model.screenSize, zoom, zoom, round);\n\n        for (let id in model.widgets) {\n            const widget = model.widgets[id]\n            const zoomedWidget = this.getZoomedBoxFast(widget,zoom, zoom)\n            zoomedWidget.style = {\n                locked: widget?.style.locked\n            }\n            zoomedWidget.props = widget.props // this is ok, because edits will go through the controller\n            zoomedWidget.z = widget.z\n            zoomedWidget.type = widget.type\n            zoomedWidget.inheritedCopies = widget.inheritedCopies\n            zoomedWidget.copies = widget.copies\n            if (widget.inherited) {\n                zoomedWidget.inherited = widget.inherited\n                zoomedWidget.inheritedScreen = widget.inheritedScreen\n                zoomedWidget.masterScreen = widget.masterScreen\n            }\n            zoomedModel.widgets[id] = zoomedWidget\n        }\n\n        for (let id in model.screens) {\n            const scrn = model.screens[id]\n            const zoomedScreen = this.getZoomedBoxFast(scrn,zoom,zoom)\n            zoomedScreen.segment = scrn.segment\n            zoomedScreen.children = scrn.children.slice()\n            zoomedScreen.rulers = lang.clone(scrn.rulers)\n            zoomedScreen.style = {\n                locked: scrn?.style.locked\n            }\n            zoomedScreen.props = {}    \n            zoomedModel.screens[id] = zoomedScreen  \n        }\n\n        if (model.templates) {\n            zoomedModel.templates = model.templates\n            // for (let id in model.templates) {\n            //     const template = model.templates[id]\n            //     const zoomedTemplate = this.getZoomedBoxFast(template,zoom, zoom)\n            //     console.debug(template, zoomedTemplate)\n            //     zoomedTemplate.style = {\n            //         locked: template?.style.locked\n            //     }\n            //     zoomedTemplate.props = template.props // this is ok, because edits will go through the controller\n            //     zoomedTemplate.z = template.z\n            //     zoomedTemplate.type = template.type\n            //     zoomedModel.templates[id] = zoomedTemplate\n            // }\n        }\n\n        for (let id in model.lines) {\n            const line = model.lines[id];\n            const zoomedLine = {\n                id: line.id,\n                from: line.from,\n                to: line.to,\n                event: line.event,\n                points: []\n            }\n            for (let i = 0; i < line.points.length; i++) {\n                const zoomedPoint = this.getZoomedPointFast(line.points[i], zoom, zoom, round);\n                zoomedLine.points.push(zoomedPoint)\n            }\n            zoomedModel.lines[id] = zoomedLine\n        }\n\n        zoomedModel.groups = model.groups\n\n        return zoomedModel;\n    }\n\n    getZoomedPointFast(box, zoomX, zoomY) {\n        const result = {\n            x: box.x * zoomX,\n            y: box.y * zoomY,\n            isZoomed: true\n        }\n        return result;\n    }\n\n    getZoomedBoxFast(box, zoomX, zoomY) {\n        const result = {\n            id: box.id,\n            name: box.name,\n            x: box.x * zoomX,\n            y: box.y * zoomY,\n            w: box.w * zoomX,\n            h: box.h * zoomY,\n            isZoomed: true\n        }\n\n        if (box.min) {\n            result.min = {\n                h: box.min.h * zoomY,\n                w: box.min.w * zoomX\n            }\n        }\n        box.isZoomed = true;\n        return result;\n    }\n   \n\n    createScalledModel(model, zoom, round = true) {\n        console.error('DEPRECATED: ModelUtil.createScalledModel()')\n\n        if (!round) {\n            Logger.log(1, 'ModelUtil.createScalledModel() > do not round!')\n        }\n\n        //console.time('createScalledModel')\n        const zoomedModel = lang.clone(model);\n        //console.timeEnd('createScalledModel')\n        zoomedModel.isZoomed = true;\n\n        this.getZoomedBox(zoomedModel.screenSize, zoom, zoom, round);\n\n        for (let id in zoomedModel.widgets) {\n            this.getZoomedBox(zoomedModel.widgets[id], zoom, zoom, round);\n        }\n\n        for (let id in zoomedModel.screens) {\n            const zoomedScreen = this.getZoomedBox(\n                zoomedModel.screens[id],\n                zoom,\n                zoom,\n                round\n            );\n\n            /**\n             * This has a tiny tiny bug that makes copy of the same screen jump as x and y and rounded()\n             * To fix this, we should take the relative and x and y in the parent and round that...\n             *\n             * scalledWidget.x = scalledScreen.x + (orgWidget.x - orgScreen.x)*zoomX\n             *\n             * As an alternative we could stop using Math.round() ...\n             */\n            for (let i = 0; i < zoomedScreen.children.length; i++) {\n                const wid = zoomedScreen.children[i];\n                const zoomWidget = zoomedModel.widgets[wid];\n                const orgWidget = model.widgets[wid];\n                if (orgWidget) {\n                    /**\n                     * When we copy a screen we might not have the org widget yet\n                     */\n                    const orgScreen = model.screens[zoomedScreen.id];\n                    const difX = this.getZoomed(orgWidget.x - orgScreen.x, zoom, round);\n                    const difY = this.getZoomed(orgWidget.y - orgScreen.y, zoom, round);\n                    if (orgWidget.parentWidget) {\n                        if (zoomWidget.x >= 0) {\n                            zoomWidget.x = zoomedScreen.x + difX;\n                        }\n                        if (zoomWidget.y >= 0) {\n                            zoomWidget.y = zoomedScreen.y + difY;\n                        }\n                    } else {\n                        zoomWidget.x = zoomedScreen.x + difX;\n                        zoomWidget.y = zoomedScreen.y + difY;\n                    }\n                }\n            }\n        }\n\n        for (let id in zoomedModel.lines) {\n            let line = zoomedModel.lines[id];\n            for (let i = 0; i < line.points.length; i++) {\n                this.getZoomedBox(line.points[i], zoom, zoom, round);\n            }\n        }\n\n        return zoomedModel;\n    }\n\n\n    getZoomedBox(box, zoomX, zoomY, round = true) {\n        if (box.x) {\n            box.x = this.getZoomed(box.x, zoomX, round);\n        }\n\n        if (box.y) {\n            box.y = this.getZoomed(box.y, zoomY, round);\n        }\n        if (box.w) {\n            box.w = this.getZoomedCeil(box.w, zoomX, round);\n        }\n        if (box.h) {\n            box.h = this.getZoomedCeil(box.h, zoomY, round);\n        }\n        if (box.min) {\n            box.min.h = this.getZoomed(box.min.h, zoomY, round);\n            box.min.w = this.getZoomed(box.min.w, zoomX, round);\n        }\n        box.isZoomed = true;\n        return box;\n    }\n  \n    getZoomed(v, zoom, round = true) {\n        if (round) {\n            return Math.round(v * zoom);\n        }\n        return v * zoom\n    }\n\n    getZoomedCeil(v, zoom, round = true) {\n        if (round) {\n            return Math.ceil(v * zoom);\n        }\n        return v * zoom\n    }\n    \n\n    updateInheritedRefs(model) {\n        for (let screenId in model.screens) {\n            const scrn = model.screens[screenId]\n            /**  \n             * We need to update master refs only for screens\n             * that have a master\n             */\n            if (scrn.parents && scrn.parents.length > 0) {\n                this.updateErrorLabelsInScreen(scrn, model)\n            }\n\n        }\n        return model\n    }\n\n    updateErrorLabelsInScreen(scrn, model) {\n        if (!scrn.children) {\n            return\n        }\n        scrn.children.forEach(id => {\n            const widget = model.widgets[id]\n            /**\n             * Inherited input widgets might have errorLabels attached. These will\n             * point to the ids in the master screen and need to be updated.\n             */\n            if (widget && widget.inherited) {\n                if (widget.props && widget.props.refs) {\n                    const errorLabels = widget.props.refs.errorLabels\n                    if (errorLabels) {\n                        /**\n                         * Update all error labels by adding the current screen id\n                         */\n                        const inheritedErrorLabels = errorLabels.map(l => l + '@' + screen.id)\n                        widget.props.refs.errorLabels = inheritedErrorLabels\n                    }\n                }\n            }\n        })\n    }\n\n    setMergedTemplateStyle(widget, template, mode) {\n        if (template[mode]) {\n            if (!widget[mode]) {\n                widget[mode] = {}\n            }\n            let style = template[mode]\n            for (let key in style) {\n                if (widget[mode][key] === undefined) {\n                    widget[mode][key] = style[key]\n                }\n            }\n        }\n    }\n\n    updateTemplateStyle(widget, template, mode) {\n        // copy all widget style back to template\n        // and reset template\n        if (widget[mode]) {\n\t\t\tconst style = widget[mode]\n\t\t\tif (!template[mode]) {\n\t\t\t\ttemplate[mode] = {}\n\t\t\t}\n\t\t\tfor (let key in style) {\n\t\t\t\tconst value = style[key]\n\t\t\t\ttemplate[mode][key] = value\n\t\t\t}\n\t\t\twidget[mode] = {};\n\t\t}\n    }\n\n    setStylesNotInTemplate(widget, template, mode) {\n        if (widget[mode]) {\n            let result = {}\n            if (widget[mode] && template[mode]) {\n                let widgetStyle = widget[mode]\n                let templateStyle = template[mode]\n                for (let key in widgetStyle) {\n                    if (templateStyle[key] !== widgetStyle[key]) {\n                        result[key] = widgetStyle[key]\n                    }\n                }\n            }\n            widget[mode] = result\n        }\n\t}\n\n    getViewModeStyle (widget, model, widgetViewMode) {\n     \n        // we get the default style. This method\n\t\t// will take the template and mix in \n\t\t// the nornal \"style\" overwrites\n\t\tconst normal = this.getTemplatedStyle(widget, model, 'style');\n        const mixed = lang.clone(normal);\n\n        // if we have specific overwrite in the template\n        // for the given widgetViewMode, we mix this in and\n        // overwrite the values\n        if (widget.template && model.templates[widget.template]) {\n            /**\n             * Since 4.0.60 we need to get potentially also a \n             * check variants\n             */\n            const template = this.getMergedTemplate(widget.template, model)\n            if (template && template[widgetViewMode]) {\n                const templateStyle = template[widgetViewMode]\n                for (let key in templateStyle) {\n                    mixed[key] = templateStyle[key];\n                }\n            }\n        }\n        // last we mix in values that are defined \n        // in the widget\n        if ( widget[widgetViewMode]) {\n            const widgetStyle = widget[widgetViewMode];\n            for (let key in widgetStyle){\n                mixed[key] = widgetStyle[key];\n            }\n        }\n        \n        return mixed;\n    }\n\n    getCanvasWidgets (model) {\n        const result = []\n        const widgetsOnScreens = {}\n        Object.values(model.screens).forEach(s => {\n            s.children.forEach(id => {\n                widgetsOnScreens[id] = true\n            })\n        })\n        Object.values(model.widgets).forEach(w => {\n            if (!widgetsOnScreens[w.id]) {\n                result.push(w)\n            }\n        })\n        return result\n    }\n\n\n    getWidgetsByTemplate(templateId, model) {\n        let result = []\n        for (let widgetID in model.widgets) {\n            let widget = model.widgets[widgetID]\n            if (widget.template === templateId) {\n                result.push(widget)\n            }\n        }\n        return result\n    }\n\n    getGroupsByTemplate(templateId, model) {\n        let result = []\n        for (let groupID in model.groups) {\n            let group = model.groups[groupID]\n            if (group.template === templateId) {\n                result.push(group)\n            }\n        }\n        return result\n    }\n\n    mixin (target, source) {\n        const result = lang.clone(target)\n        for (let key in source) {\n            result[key] = source[key]\n        }\n        return result\n    }\n\n    mixinNewStyles (target, source) {\n\t\ttarget.style = this.mixin(target.style, source.style);\n\n\t\tif (target.hover) {\n\t\t\ttarget.hover = this.mixin(target.hover, source.hover);\n\t\t}\n\t\tif (target.error) {\n\t\t\ttarget.error = this.mixin(target.error, source.error);\n\t\t}\n\t\tif (target.active) {\n\t\t\ttarget.active = this.mixin(target.active, source.active);\n\t\t}\n\t\tif (target.focus) {\n\t\t\ttarget.focus = this.mixin(target.focus, source.focus);\n\t\t}\n\t\tif (target.designtokens) {\n\t\t\ttarget.designtokens = lang.clone(target.designtokens);\n\t\t}\n\t}\n\n    getParentGroup(model, widgetID) {\n\n        if (model.groups) {\n            for (let id in model.groups) {\n                const group = model.groups[id];\n                const i = group.children.indexOf(widgetID);\n                if (i > -1) {\n                    return group;\n                }\n                /**\n                 * Since 2.13 we have subgroups and check this too\n                 */\n                if (group.groups) {\n                    let i = group.groups.indexOf(widgetID);\n                    if (i > -1) {\n                        return group;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n\n    getArrayFromObject(obj, key) {\n        const result = [];\n        for (let i in obj) {\n            const item = obj[i];\n            if (key) {\n                item[key] = i;\n            }\n            result.push(item);\n        }\n        return result;\n    }\n\n\n    getObjectFromArray (list, key) {\n        const result = {};\n        for (let i = 0; i < list.length; i++) {\n            const item = list[i];\n            const value = item[key];\n          result[value] = item;\n        }\n        return result;\n    }\n  \n    getZValuesForScreen (model, screenID) {\n\t\tconst result = {};\n\t\tconst screen = model.screens[screenID];\n\t\tif (screen) {\n\t\t\tfor (let i=0; i < screen.children.length; i++){\n\t\t\t\tconst widgetID = screen.children[i];\n\t\t\t\tconst widget = model.widgets[widgetID];\n\t\t\t\tif (widget) {\n\t\t\t\t\tresult[widgetID] = widget.z;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t// for stuff on canvas we need to get all\n\t\t\tconst canvasChildren = this.getCanvasWidgets(model)\n\t\t\tcanvasChildren.forEach(widget => {\n\t\t\t\tresult[widget.id] = widget.z;\n\t\t\t})\n\t\t}\n\t\treturn result;\n\t}\n  \n\n}\n\nexport default new ModelUtil()","const labelStyle = {\n\n    \"fontFamily\": \"Helvetica Neue,Helvetica,Arial,sans-serif\",\n    \"letterSpacing\": 0,\n    \"lineHeight\": 1,\n    \"color\": \"#333333\",\n    \"boxShadow\": null,\n    \"background\": null\n}\n\nconst buttonStyle = {\n    \"fontSize\": 14,\n    \"fontFamily\": \"Helvetica Neue,Helvetica,Arial,sans-serif\",\n    \"textAlign\": \"center\",\n    \"letterSpacing\": 0,\n    \"lineHeight\": 1,\n    \"color\": \"#FFFFFF\",\n    \"paddingTop\": 0,\n    \"paddingBottom\": 0,\n    \"paddingLeft\": 0,\n    \"paddingRight\": 0,\n    \"borderTopRightRadius\": 3,\n    \"borderTopLeftRadius\": 3,\n    \"borderBottomRightRadius\": 3,\n    \"borderBottomLeftRadius\": 3,\n    \"borderTopWidth\": 1,\n    \"borderBottomWidth\": 1,\n    \"borderRightWidth\": 1,\n    \"borderLeftWidth\": 1,\n    \"verticalAlign\": \"middle\",\n    \"borderTopColor\": \"#333333\",\n    \"borderBottomColor\": \"#333333\",\n    \"borderRightColor\": \"#333333\",\n    \"borderLeftColor\": \"#333333\",\n    \"background\": \"#333333\",\n    \"boxShadow\": null\n}\n\nconst containerStyle = {\n    \"fontSize\": 14,\n    \"fontFamily\": \"Helvetica Neue,Helvetica,Arial,sans-serif\",\n    \"textAlign\": \"center\",\n    \"letterSpacing\": 0,\n    \"lineHeight\": 1,\n    \"color\": \"#333333\",\n    \"paddingTop\": 0,\n    \"paddingBottom\": 0,\n    \"paddingLeft\": 0,\n    \"paddingRight\": 0,\n    \"borderTopRightRadius\": 3,\n    \"borderTopLeftRadius\": 3,\n    \"borderBottomRightRadius\": 3,\n    \"borderBottomLeftRadius\": 3,\n    \"borderTopWidth\": 1,\n    \"borderBottomWidth\": 1,\n    \"borderRightWidth\": 1,\n    \"borderLeftWidth\": 1,\n    \"verticalAlign\": \"middle\",\n    \"borderTopColor\": \"#333333\",\n    \"borderBottomColor\": \"#333333\",\n    \"borderRightColor\": \"#333333\",\n    \"borderLeftColor\": \"#333333\",\n    \"background\": \"#ffffff\",\n    \"boxShadow\": null\n}\n\nconst defaultStyle = {\n    \"fontSize\": 14,\n    \"fontFamily\": \"Helvetica Neue,Helvetica,Arial,sans-serif\",\n    \"textAlign\": \"center\",\n    \"letterSpacing\": 0,\n    \"lineHeight\": 1,\n    \"color\": \"#333333\",\n    \"paddingTop\": 0,\n    \"paddingBottom\": 0,\n    \"paddingLeft\": 0,\n    \"paddingRight\": 0,\n    \"borderTopRightRadius\": 3,\n    \"borderTopLeftRadius\": 3,\n    \"borderBottomRightRadius\": 3,\n    \"borderBottomLeftRadius\": 3,\n    \"borderTopWidth\": 1,\n    \"borderBottomWidth\": 1,\n    \"borderRightWidth\": 1,\n    \"borderLeftWidth\": 1,\n    \"verticalAlign\": \"middle\",\n    \"borderTopColor\": \"#333333\",\n    \"borderBottomColor\": \"#333333\",\n    \"borderRightColor\": \"#333333\",\n    \"borderLeftColor\": \"#333333\",\n    \"background\": \"#ffffff\",\n    \"boxShadow\": null\n}\n\nconst defaultImage = {\n    \"borderTopRightRadius\": 0,\n    \"borderTopLeftRadius\": 0,\n    \"borderBottomRightRadius\": 0,\n    \"borderBottomLeftRadius\": 0,\n    \"borderTopWidth\": 0,\n    \"borderBottomWidth\": 0,\n    \"borderRightWidth\": 0,\n    \"borderLeftWidth\": 0,\n    \"borderTopColor\": \"#333333\",\n    \"borderBottomColor\": \"#333333\",\n    \"borderRightColor\": \"#333333\",\n    \"borderLeftColor\": \"#333333\",\n    \"backgroundImage\": null\n}\n\n\n\nexport const screenStyle = {\n    \"background\": \"#FFFFFF\",\n}\n\nconst textboxStyle = {\n    \"fontSize\": 14,\n    \"fontFamily\": \"Helvetica Neue,Helvetica,Arial,sans-serif\",\n    \"textAlign\": \"center\",\n    \"letterSpacing\": 0,\n    \"lineHeight\": 1,\n    \"color\": \"#333333\",\n    \"paddingTop\": 0,\n    \"paddingBottom\": 0,\n    \"paddingLeft\": 4,\n    \"paddingRight\": 4,\n    \"borderTopRightRadius\": 3,\n    \"borderTopLeftRadius\": 3,\n    \"borderBottomRightRadius\": 3,\n    \"borderBottomLeftRadius\": 3,\n    \"borderTopWidth\": 1,\n    \"borderBottomWidth\": 1,\n    \"borderRightWidth\": 1,\n    \"borderLeftWidth\": 1,\n    \"verticalAlign\": \"middle\",\n    \"borderTopColor\": \"#333333\",\n    \"borderBottomColor\": \"#333333\",\n    \"borderRightColor\": \"#333333\",\n    \"borderLeftColor\": \"#333333\",\n    \"background\": \"#FFFFFF\",\n    \"boxShadow\": null\n}\n\n\nconst tableStyle = {\n    \"fontSize\": 14,\n    \"fontFamily\": \"Helvetica Neue,Helvetica,Arial,sans-serif\",\n    \"textAlign\": \"center\",\n    \"letterSpacing\": 0,\n    \"lineHeight\": 1,\n    \"borderTopRightRadius\": 0,\n    \"borderTopLeftRadius\": 0,\n    \"borderBottomRightRadius\": 0,\n    \"borderBottomLeftRadius\": 0,\n    \"borderTopWidth\": 1,\n    \"borderBottomWidth\": 1,\n    \"borderRightWidth\": 1,\n    \"borderLeftWidth\": 1,\n    \"borderTopColor\": \"#333333\",\n    \"borderBottomColor\": \"#333333\",\n    \"borderRightColor\": \"#333333\",\n    \"borderLeftColor\": \"#333333\",\n    \"background\": \"#fff\",\n    \"color\": \"#333333\",\n    \"paddingTop\": 10,\n    \"paddingBottom\": 10,\n    \"paddingLeft\": 5,\n    \"paddingRight\": 5,\n    \"headerFontWeight\": \"800\",\n    \"headerBackground\": \"#333333\",\n    \"headerSticky\": true,\n    \"headerColor\": \"#fff\",\n    \"checkBox\": false,\n    \"checkBoxHookColor\": \"#333333\",\n    \"checkBoxBackground\": \"#ffffff\",\n    \"checkBoxBorderColor\": \"#333333\",\n    \"checkBoxBorderRadius\": 2,\n    \"checkBoxBorderWidth\": 1\n}\n\nconst dropdownStyle = {\n    \"borderTopRightRadius\": 3,\n    \"borderTopLeftRadius\": 3,\n    \"borderBottomRightRadius\": 3,\n    \"borderBottomLeftRadius\": 3,\n    \"borderTopWidth\": 1,\n    \"borderBottomWidth\": 1,\n    \"borderRightWidth\": 1,\n    \"borderLeftWidth\": 1,\n    \"borderTopColor\": \"#333333\",\n    \"borderBottomColor\": \"#333333\",\n    \"borderRightColor\": \"#333333\",\n    \"borderLeftColor\": \"#333333\",\n    \"background\": \"#ffffff\",\n    \"popupBackground\": \"#ffffff\",\n    \"popupColor\": \"#333333\",\n    \"color\": \"#333333\",\n    \"fontSize\": 18,\n    \"fontFamily\": \"Helvetica Neue,Helvetica,Arial,sans-serif\",\n    \"textAlign\": \"left\",\n    \"paddingTop\": 5,\n    \"paddingBottom\": 5,\n    \"paddingLeft\": 6,\n    \"paddingRight\": 6,\n    \"selectedOptionColor\": \"#333333\",\n    \"selectedOptionBackground\": \"#f2f2f2\"\n}\n\nconst checkboxStyle = {\n    \"borderTopRightRadius\": 5,\n    \"borderTopLeftRadius\": 5,\n    \"borderBottomRightRadius\": 5,\n    \"borderBottomLeftRadius\": 5,\n    \"borderTopWidth\": 1,\n    \"borderBottomWidth\": 1,\n    \"borderRightWidth\": 1,\n    \"borderLeftWidth\": 1,\n    \"borderTopColor\": \"#333333\",\n    \"borderBottomColor\": \"#333333\",\n    \"borderRightColor\": \"#333333\",\n    \"borderLeftColor\": \"#333333\",\n    \"background\": \"#ffffff\",\n    \"color\": \"#333333\",\n    \"colorButton\": \"#333333\"\n}\n\nconst radioBoxStyle = checkboxStyle\n\n\nconst defaultStyleKeys = [\n    'borderBottomLeftRadius',\n    'borderBottomRightRadius',\n    'borderTopLeftRadius',\n    'borderTopRightRadius',\n    'borderBottomWidth',\n    'borderRightWidth',\n    'borderLeftWidth',\n    'borderTopWidth',\n\n    'borderTopStyle',\n    'borderBottomStyle',\n    'borderRightStyle',\n    'borderLeftStyle',\n\n    'borderTopColor',\n    'borderRightColor',\n    'borderBottomColor',\n    'borderLeftColor',\n\n    'textAlign',\n    \"verticalAlign\"\n]\n\nconst paddingKeys = [\n    'paddingTop',\n    'paddingBottom',\n    'paddingRight',\n    'paddingLeft',\n]\n\nconst pixelStyles = new Set([\n    'borderBottomLeftRadius',\n    'borderBottomRightRadius',\n    'borderTopLeftRadius',\n    'borderTopRightRadius',\n    \n    'borderBottomWidth',\n    'borderRightWidth',\n    'borderLeftWidth',\n    'borderTopWidth',\n\n    'paddingTop',\n    'paddingBottom',\n    'paddingRight',\n    'paddingLeft',\n\n    'fontSize',\n])\n\nexport function getDefaultStyle() {\n\n    return {\n        Label: labelStyle,\n        Container: containerStyle,\n        Button: buttonStyle,\n        Default: defaultStyle,\n        Screen: screenStyle,\n        TextBox: textboxStyle,\n        Table: tableStyle,\n        Image: defaultImage,\n        DropDown: dropdownStyle,\n        CheckBox: checkboxStyle,\n        RadioBox: radioBoxStyle\n    }\n\n}\n\nexport function getCustomStyle(app, topN = 2) {\n    const counts = getCustomStyleCounts(app, topN)\n\n    return {\n        Label: countToStyle(counts.Label),\n        Container: countToStyle(counts.Container),\n        Button: countToStyle(counts.Button),\n        Default: countToStyle(counts.Default),\n        Screen: countToStyle(counts.Screen),\n        TextBox: countToStyle(counts.TextBox),\n        Table: countToStyle(counts.Table),\n        Image: countToStyle(counts.Image),\n        DropDown: countToStyle(counts.DropDown),\n        CheckBox: countToStyle(counts.CheckBox),\n        RadioBox: countToStyle(counts.RadioBox),\n    }\n}\n\nfunction countToStyle(counts) {\n    const result = {}\n\n    for (let key in counts) {\n        const values = counts[key]\n        if (values.length > 0) {\n            let value = values[0]\n            if (pixelStyles.has(key)) {\n                value = value * 1\n            }\n            result[key] = value\n        }\n    }\n    return result\n}\n\nexport function getCustomStyleCounts(app, topN = 2) {\n    const result = {\n    }\n   \n    result.Label = getMostUsedStyles(getLabels(app), ['color'], topN)\n    result.Container = getMostUsedStyles(getContainer(app), ['background', ...defaultStyleKeys], topN)\n    result.Button = getMostUsedStyles(getButtons(app), ['background', 'color',... defaultStyleKeys], topN)\n    result.Default = getMostUsedStyles(Object.values(app.widgets), ['color', 'background', ...defaultStyleKeys], topN)\n    result.Screen = getMostUsedStyles(Object.values(app.screens), ['background'], topN)\n    result.TextBox = getMostUsedStyles(getInputs(app), ['background', 'color', ...defaultStyleKeys, ...paddingKeys], topN)\n    result.Table = getMostUsedStyles(getTable(app), ['background', 'color', 'headerBackground', 'headerColor', ...defaultStyleKeys], topN) \n    result.CheckBox = getMostUsedStyles(getCheckBox(app), ['color', 'colorButton', 'background', ...defaultStyleKeys], topN)\n    result.RadioBox = getMostUsedStyles(getRadioBox(app), ['color', 'colorButton', 'background', ...defaultStyleKeys], topN)\n    result.DropDown = getMostUsedStyles(getDropDown(app), ['color', 'background', ...defaultStyleKeys], topN)\n    result.Image = getMostUsedStyles(getImage(app), [], topN)\n\n    return result\n}\n\nfunction getImage(app) {\n    return Object.values(app.widgets).filter(widget => {\n        return widget.type === 'Image'\n    })\n}\n\nfunction getDropDown(app) {\n    return Object.values(app.widgets).filter(widget => {\n        return widget.type === 'DropDown'\n    })\n}\n\nfunction getCheckBox(app) {\n    return Object.values(app.widgets).filter(widget => {\n        return widget.type === 'CheckBox' || widget.type === 'LabeledCheckBox'\n    })\n}\n\nfunction getRadioBox(app) {\n    return Object.values(app.widgets).filter(widget => {\n        return widget.type === 'RadioBox' || widget.type === 'LabeledRadioBox'\n    })\n}\n\nfunction getTable(app) {\n    return Object.values(app.widgets).filter(widget => {\n        return widget.type === 'Table'\n    })\n}\n\nexport function getButtons(app) {\n    return Object.values(app.widgets).filter(widget => {\n        return isButton(widget)\n    })\n}\n\nexport function isButton(widget) {\n    return widget.type === 'Button'\n        && widget.props?.label\n        && between(widget.w, 10, 200)\n        && between(widget.h, 10, 100)\n}\n\n\nfunction getContainer(app) {\n    return Object.values(app.widgets).filter(widget => {\n        return isContainer(widget)\n    })\n}\n\nexport function isContainer(widget) {\n    return widget.type === 'Button'\n        && !widget.props?.label\n        && widget.w > 200\n        && widget.h > 200\n}\n\nfunction getLabels(app) {\n    return Object.values(app.widgets).filter(widget => {\n        return widget.type === 'Label'\n    })\n}\n\n\nfunction getInputs(app) {\n    return Object.values(app.widgets).filter(widget => {\n        return widget.type === 'TextBox'\n    })\n}\n\nfunction between(v, min, max) {\n    return v >= min && v <= max\n}\n\nfunction getMostUsedStyles(elements, keys, topN) {\n    const counts = {}\n    elements.forEach(e => {\n        const style = e.style\n        keys.forEach(key => {\n            const value = style[key]\n            if (value) {\n                if (!counts[key]) {\n                    counts[key] = {}\n                }\n                if (!counts[key][value]) {\n                    counts[key][value] = 0\n                }\n\n                counts[key][value]++\n            }\n\n        })\n    })\n\n    const result = {}\n    keys.forEach(key => {\n        const keyCounts = counts[key]\n        if (keyCounts) {\n            const pairs = Object.keys(keyCounts).map(key => {\n                return { key: key, value: keyCounts[key] }\n            })\n            pairs.sort((a, b) => {\n                return b.value - a.value\n            })\n            result[key] = pairs.slice(0, Math.min(topN, pairs.length)).map(e => e.key)\n        }\n\n    })\n    return result\n}\n","export default class Evented {\n\n    constructor() {\n        this._dojoWidgetEventListener = []\n        this._dojoOwnListeners = []\n        this._dojoWidgetEventListenerIds = 0\n    }\n\n    stopEvent(e) {\n        if (e && e.stopPropagation) {\n            e.stopPropagation();\n            e.preventDefault();\n        }\n    }\n\n    own(listener) {\n        if (!listener){\n            console.warn('Evented.own() > passed null', new Error().stack)\n        } else {\n            this._dojoOwnListeners.push(listener)\n        }\n    }\n\n    cleanUpEvented() {\n        this._dojoCleanUpEvent()\n        this._dojoCleanUpOwn()\n    }\n\n    emit(event, value1, value2, value3, value4, value5) {\n        if (this.$emit) {\n            this.$emit(event, value1, value2, value3, value4, value5);\n        }\n        if (this._dojoWidgetEventListener[event]) {\n            let listeners = this._dojoWidgetEventListener[event];\n            listeners.forEach(listener => {\n                listener.callback(value1, value2, value3, value4, value5);\n            });\n        }\n    }\n\n    _dojoCleanUpEvent() {\n        for (let key in this._dojoWidgetEventListener){\n            let listeners = this._dojoWidgetEventListener[key]\n            listeners.forEach(l => {\n                try {\n                    l.remove();\n                } catch (e) {\n                console.error(\"DojoWidget._dojoCleanUpOwn() >> ERROR\", e);\n                }\n            })\n        }\n    }\n\n    _dojoCleanUpOwn() {\n        this._dojoOwnListeners.forEach(l => {\n            try {\n                l.remove();\n            } catch (e) {\n                console.error(\"Evented._dojoCleanUpOwn() >> ERROR\", e);\n            }\n        });\n    }\n\n    on(event, callback) {\n        if (!this._dojoWidgetEventListener[event]) {\n            this._dojoWidgetEventListener[event] = [];\n        }\n        let id = this._dojoWidgetEventListenerIds++\n        let listener = {\n            'event': event,\n            'callback': callback,\n            'id': id,\n            'remove': () => {\n                this._removeListener(event, id)\n            }\n        }\n        this._dojoWidgetEventListener[event].push(listener);\n        return listener\n    }\n\n    _removeListener(event, id) {\n        if (this._dojoWidgetEventListener[event]) {\n            this._dojoWidgetEventListener[event] = this._dojoWidgetEventListener[event].filter(l => l.id !== id)\n        }\n    }\n}","class lang {\n\n    listGroupBy (list, key) {\n        const result = {}\n        list.forEach(element => {\n            const value = element[key]\n            if (!result[value]) {\n                result[value] = []\n            }\n            result[value].push(element)\n        });\n        return result\n    }\n\n    stopEvent(e) {        \n        if (e && e.stopPropagation) {\n            e.stopPropagation();\n            e.preventDefault();\n        }    \n    }\n\n    hitch (scope, method){\n        if(arguments.length > 2){\n            return this._hitchArgs.apply(scope, arguments); // Function\n        }\n        if(!method){\n            method = scope;\n            scope = null;\n        }\n        if(this.isString(method)){\n            if(!scope[method]){ throw(['lang.hitch: scope[\"', method, '\"] is null (scope=\"', scope, '\")'].join('')); }\n            return function(){ return scope[method].apply(scope, arguments || []); }; // Function\n        }\n        return !scope ? method : function(){ return method.apply(scope, arguments || []); }; // Function\n    }\n\n    _hitchArgs (scope, method1){\n        var pre = _toArray(arguments, 2);\n        var named = isString(method1);\n        return function(){\n            var args = _toArray(arguments);\n            var f = named ? (scope)[method1] : method1;\n            return f && f.apply(scope || this, pre.concat(args));\n        };\n    }\n\n    isString (it) {\n        return (typeof it == \"string\" || it instanceof String); // Boolean\n    }\n\n    isArray (it) {\n        return it && (it instanceof Array); // Boolean\n    }\n\n    isObject (it) {\n        return it !== undefined &&\n            (it === null || typeof it == \"object\" || Array.isArray(it)); // Boolean\n    }\n\n    clone (obj) {\n        if (!obj) {\n            return null\n        }\n        let _s = JSON.stringify(obj)\n        return JSON.parse(_s)\n    }\n\n\n    _mixin (dest, source, copyFunc){\n        var name, s, empty = {};\n        for(name in source){\n            s = source[name];\n            if(!(name in dest) || (dest[name] !== s && (!(name in empty) || empty[name] !== s))){\n                dest[name] = copyFunc ? copyFunc(s) : s;\n            }\n        }\n        return dest; // Object\n    }\n\n    mixin (dest){\n        if(!dest){ dest = {}; }\n        for(var i = 1, l = arguments.length; i < l; i++){\n            this._mixin(dest, arguments[i]);\n        }\n        return dest; // Object\n    }\n}\n\nfunction _toArray (obj, offset) {\n    //return (startWith||[]).concat(Array.prototype.slice.call(obj, offset||0));\n    var arr = [];\n    for(var x = offset || 0; x < obj.length; x++){\n        arr.push(obj[x]);\n    }\n    return arr;\n}\n\nfunction isString (it) {\n    // summary:\n    //\t\tReturn true if it is a String\n    // it: anything\n    //\t\tItem to test.\n    return (typeof it == \"string\" || it instanceof String); // Boolean\n}\nexport default new lang()","class css {\n\n    toggle (node, cls) {\n        if (node && node.toLowerCase) {\n            node = document.getElementById(node)\n        }\n        if (node) {\n            if (this.contains(node, cls)) {\n                this.remove(node, cls)\n            } else {\n                this.add(node, cls)\n            }\n        }\n    }\n\n    add (node, cls) {\n        if (cls === undefined || cls === null) {\n            return\n        }\n        if (node && node.toLowerCase) {\n            node = document.getElementById(node)\n          }\n          if (node) {\n              cls = cls.trim()\n              let classes = node.className.split(' ')\n              if (classes.indexOf(cls) < 0) {\n                classes.push(cls)\n              }\n              node.className = classes.join(' ')\n          }\n    }\n\n    contains (node, cls) {\n        /** SVG nodes have no string... */\n        if (node.className && node.className.split) {\n            let classes = node.className.split(' ')\n            return classes.indexOf(cls) >= 0\n        }\n        return false\n    }\n\n    remove (node, cls) {\n        if (cls === undefined || cls === null) {\n            return\n        }\n        if (node && node.toLowerCase) {\n            node = document.getElementById(node)\n        }\n        if (node) {\n            let remove = cls.split(' ')\n            let classes = node.className.split(' ')\n            let result = classes.filter(c => remove.indexOf(c) < 0)\n            node.className = result.join(' ')\n        }\n    }\n}\nexport default new css()","class win {\n\n    constructor () {\n        this.doc =  document\n    }\n\n    body () {\n        return document.getElementsByTagName(\"BODY\")[0]\n    }\n\n    getBox (doc) {\n        doc = doc || window.document;\n        var scrollRoot = doc.documentElement\n        var w = 0\n        var h = 0\n        w = scrollRoot.clientWidth;\n        h = scrollRoot.clientHeight;\n        return {\n            w: w,\n            h: h\n        };\n    }\n}\nexport default new win()","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:['MatcMainCntr', {'MatcWindows': _vm.isWindows}],attrs:{\"id\":\"app\"}},[_c('router-view'),_c('div',{ref:\"message\",staticClass:\"vommondMessage\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\" :class=\"['MatcMainCntr', {'MatcWindows': isWindows}]\">\n    <router-view/>\n    <div class=\"vommondMessage\" ref=\"message\">\n    </div>\n  </div>\n</template>\n\n<style>\n\t@import url(\"./style/css/legacy.css\");\n</style>\n<script>\nimport css from 'dojo/css'\nimport win from 'dojo/win'\nimport Services from 'services/Services'\n\nexport default {\ndata: function() {\n    return {  \n\t\tisWindows:false \n    }\n  },\n  methods: {\n    showSuccess (msg){\n\t\tif (this.$refs.message){\n\t\t\t\tcss.add(this.$refs.message, \"vommondMessageSuccess\");\n\t\t\t\tcss.remove(this.$refs.message, \"vommondMessageError vommondMessageHint\");\n\t\t\t\tthis.$refs.message.innerHTML = msg;\n\t\t\t\tsetTimeout( () => {\n\t\t\t\t\tthis.hideMessage()\n\t\t\t\t},2000);\n\t\t\t}\n\t\t},\n\n\tshowError (msg){\n\t\tif (this.message){\n\t\t\tcss.add(this.$refs.message, \"vommondMessageError\");\n\t\t\tcss.remove(this.$refs.message, \"vommondMessageSuccess vommondMessageHint\");\n\t\t\tthis.$refs.message.innerHTML = msg;\n\t\t\tsetTimeout( () => {\n\t\t\t\tthis.hideMessage()\n\t\t\t},4000);\n\t\t}\n\t},\n\n\tshowHint (msg){\n\t\tif (this.$refs.message){\n\t\t\tcss.add(this.$refs.message, \"vommondMessageHint\");\n\t\t\tcss.remove(this.$refs.message, \"vommondMessageSuccess vommondMessageSuccess\");\n\t\t\tthis.$refs.message.innerHTML = msg;\n\t\t\tsetTimeout( () => {\n\t\t\t\tthis.hideMessage()\n\t\t\t},4000);\n\t\t}\n\t},\n\n\thideMessage (){\n\t\tcss.remove(this.$refs.message, \"vommondMessageSuccess vommondMessageError vommondMessageHint\");\n\t},\n\n\thandler4xx (url, res) {\n\t\tif (res.status === 401) {\n\t\t\talert('Something is wrong. Please login again!')\n\t\t\tServices.getUserService().logout()\n\t\t\tthis.$router.push('/')\n\t\t\tthis.$root.$emit('MatcLogout', Services.getUserService().GUEST)\n\t\t}\n\t\tif (res.tokenTimedOut) {\n\t\t\talert('Your session has expired. Please login again')\n\t\t\tServices.getUserService().logout()\n\t\t\tthis.$router.push('/')\n\t\t\tthis.$root.$emit('MatcLogout', Services.getUserService().GUEST)\n\t\t}\n\t},\n\tinitNLS () {\n\t\tconst language = Services.getUserService().getLanguage()\n\t\tthis.$root.$i18n.locale = language\n\t},\n\tinitScroll () {\n\t\tif (navigator.platform.indexOf('Win') > -1 || location.href.indexOf(\"os=win\") > -1) {\n\t\t\tthis.isWindows = true\n\t\t}\n\t}\n  },\n  async mounted () {\n\tServices.setErrorHandler((url, res) => {\n\t\tthis.handler4xx(url, res)\n\t})\n\tthis.$root.$on('Success', (msg) => {\n\t\tthis.showSuccess(msg)\n\t})\n\tthis.$root.$on('Error', (msg) => {\n\t\tthis.showError(msg)\n\t})\n\tthis.$root.$on('Hint', (msg) => {\n\t\tthis.showHint(msg)\n\t})\n\tthis.$root.$on('UserLogin', (user) => {\n\t\tServices.getUserService().setUser(user)\n\t})\n\tcss.remove(win.body(), 'MatcPublic')\n\tthis.initNLS()\n\tthis.initScroll()\n  }\n}\n</script>\n\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=161e2c83\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=161e2c83&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nVue.use(VueRouter)\n\n\nlet matcRoutes = []\n\nmatcRoutes.push({path:'my-account.html', component: () => import(/* webpackChunkName: \"about\" */ 'views/user/Account.vue'), meta: {hasHeader: true}})\nmatcRoutes.push({path:'404.html', component: () => import(/* webpackChunkName: \"about\" */ 'views/404.vue'), meta: {hasHeader: true}})\nmatcRoutes.push({path:'logout.html', component: () => import(/* webpackChunkName: \"about\" */ 'views/LogoutPage.vue'), meta: {hasHeader: true}})\nmatcRoutes.push({path:'help.html', component: () => import(/* webpackChunkName: \"about\" */ 'views/Help.vue'), meta: {hasHeader: true}})\nmatcRoutes.push({path:'help/:topic.html', component: () => import(/* webpackChunkName: \"about\" */ 'views/Help.vue'), meta: {hasHeader: true}})\nmatcRoutes.push({path:'help/:topic/:subtopic.html', component: () => import(/* webpackChunkName: \"about\" */ 'views/Help.vue'), meta: {hasHeader: true}})\n\n// Studio\nmatcRoutes.push({path:'', component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Studio.vue'),  meta: {hideHeader: true}})\nmatcRoutes.push({path:'apps/my-apps.html', component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Studio.vue'), meta: {hideHeader: true}})\nmatcRoutes.push({path:'apps/logged_in.html', component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Studio.vue'),  meta: {hideHeader: true}})\nmatcRoutes.push({path:'apps/:id.html', component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Studio.vue'), meta: {hideHeader: true}})\nmatcRoutes.push({path:'apps/:id/:tab.html', component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Studio.vue'), meta: {hideHeader: true}})\nmatcRoutes.push({path:'apps/:id/replay/:session.html', component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Studio.vue'), meta: {hideHeader: true}})\nmatcRoutes.push({path:'apps/create-app.html', component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Create.vue'), meta: {hideHeader: true}})\nmatcRoutes.push({path:'apps/tryout.html', component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Create.vue'), meta: {hideHeader:true}})\n\n\n// Apps\n// matcRoutes.push({path:'', component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Apps.vue'),  meta: {isDarkHeader: true}})\n// matcRoutes.push({path:'apps/my-apps.html', name: \"apps_list\", meta: {isHome:true, analytics:true}, component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Apps.vue')})\n// matcRoutes.push({path:'apps/logged_in.html', meta: {isHome:true}, component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Apps.vue')})\n// matcRoutes.push({path:'apps/create-app.html',  name: \"apps_create\",  meta: {isHome:false}, component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Create.vue')})\n// matcRoutes.push({path:'apps/tryout.html',  name: \"apps_tryout\", component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Create.vue'), meta: {isTryout:true, isHome:false}})\n// matcRoutes.push({path:'apps/:id.html',  name: \"apps_overview\", component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Overview.vue'), meta: {analytics:true}})\n// matcRoutes.push({path:'apps/:id/:tab.html', name: \"apps_overview_tab\", component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Overview.vue'), meta: {analytics:true, analyticsKey:'tab'}})\n// matcRoutes.push({path:'apps/:id/replay/:session.html', name: \"apps_video\", component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Overview.vue')})\n\n\nmatcRoutes.push({path:'register', component: () => import(/* webpackChunkName: \"apps\" */ 'views/QUXregisteer.vue')})\n\nexport default new VueRouter({\n  routes: [\n    {\n      path: '/',\n      name: 'SimulatorPage',\n      component: () => import(/* webpackChunkName: \"simulator\" */ 'views/simulator/SimulatorPage.vue')\n    },\n    {\n      path: '/tos.html',\n      name: 'Tos',\n      component: () => import(/* webpackChunkName: \"simulator\" */ 'views/Tos.vue'),\n      meta: {hasHeader: true}\n    },\n    {\n      path: '/privacy.html',\n      name: 'Privacy',\n      component: () => import(/* webpackChunkName: \"simulator\" */ 'views/Privacy.vue'),\n      meta: {hasHeader: true}\n    },\n    {\n      path: '/test.html',\n      name: 'TestPage',\n      component: () => import(/* webpackChunkName: \"matc\" */ 'views/simulator/TestPage.vue')\n    },\n    {\n      path: '/test/mobile/:id.html',\n      name: 'TestPageMobile',\n      component: () => import(/* webpackChunkName: \"matc\" */ 'views/simulator/TestMobile.vue')\n    },\n    {\n      path: '/apps/:id/create.html',\n      name: 'Editor',\n      component: () => import(/* webpackChunkName: \"design\" */ 'views/apps/Design.vue')\n    },\n    {\n      path: '/apps/:id/design/:sid.html',\n      name: 'ScreenEditor',\n      component: () => import(/* webpackChunkName: \"design\" */ 'views/apps/Design.vue')\n    },\n    {\n      path: '/share.html',\n      name: 'SharePage',\n      component: () => import(/* webpackChunkName: \"design\" */ 'views/apps/Share.vue')\n    },\n    {\n      path: '/apps/:id/analyze/workspace.html',\n      name: 'AnalyticCanvasPage',\n      meta: {viewMode: 'Heatmap'},\n      component: () => import(/* webpackChunkName: \"design\" */ 'views/apps/Design.vue')\n    },\n    {\n      path: '/examples/:id/analyze/workspace.html',\n      name: 'ExampleAnalyticCanvasPage',\n      meta: {isPublic:true, viewMode: 'Heatmap'},\n      component: () => import(/* webpackChunkName: \"design\" */ 'views/apps/Design.vue')\n    },\n    {\n      path: '/buildhub',\n      name: '',\n      children: matcRoutes,\n      component: () => import(/* webpackChunkName: \"matc\" */ 'views/QUX.vue')\n     \n     //component: () => import(/* webpackChunkName: \"simulator\" */ 'views/simulator/login.vue')\n    },\n    {\n      path: '/api/login/:usr/:pwd',\n      name: 'loginApi',\n      children: matcRoutes,\n      component: () => import(/* webpackChunkName: \"matc\" */ 'views/QUXLogin.vue')\n    },\n    {\n      path: '/registratadordeUsuarios',\n      name: 'registro',\n      children: matcRoutes,\n      component: () => import(/* webpackChunkName: \"matc\" */ 'views/QUXregisteer.vue')\n    },\n    {\n      path: '/test/DojoTest.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/DojoTest.vue')\n    },\n    {\n      path: '/test/Canvas.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/CanvasTest.vue')\n    },\n    {\n      path: '/test/Rest.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/RestSettingsTest.vue')\n    },\n    {\n      path: '/test/Sim.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/SimulatorTest.vue')\n    },\n    {\n      path: '/test/Rule.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/RuleTest.vue')\n    },\n    {\n      path: '/test/DataBindingTree.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/DataBindingTreeTest.vue')\n    },\n    {\n      path: '/test/Tree.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/TreeTest.vue')\n    },\n    {\n      path: '/test/Layer.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/LayerTest.vue')\n    },\n    {\n      path: '/test/Table.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/TableConfTest.vue')\n    },\n    {\n      path: '/test/SVG.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/SVGEditorTest.vue')\n    },\n    {\n      path: '/test/Figma.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/FigmaTest.vue')\n    },\n    {\n      path: '/test/Import.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/ImportDialogTest.vue')\n    },\n    {\n      path: '/test/Task.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/TaskPerfGramTest.vue')\n    },\n    {\n      path: '/test/Task.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/TaskCreateDialogTest.vue')\n    },\n    {\n      path: '/test/Color.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/ColorPickerTest.vue')\n    },\n    {\n      path: '/test/Export.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/ExportTest.vue')\n    },\n    {\n      path: '/test/WS.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/WebSocketTest.vue')\n    },\n    {\n      path: '/test/StyledTable.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/StyledTableTest.vue')\n    },\n    {\n      path: '/test/CondStyle.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/ConditionalStyleTest.vue')\n    },\n    {\n      path: '/test/JS.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/JSSandboxTest.vue')\n    },\n    {\n      path: '/test/Perf.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/PerfTest.vue')\n    },\n    {\n      path: '/test/BigData.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/BigDataTest.vue')\n    },\n    {\n      path: '/test/HTMLImporter.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/HTMlImporterTest.vue')\n    },\n    {\n      path: '/test/DesignGPT.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/DesignGPTTest.vue')\n    },\n    {\n      path: '/test/DesignGPTChat.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/DesignGPTChatTest.vue')\n    },\n    {\n      path: '/test/Outlier.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/OutlierTest.vue')\n    },\n    {\n      path: '/test/Responsive.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/ResponsiveTest.vue')\n    },\n    {\n      path: '/test/Form.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/FormTest.vue')\n    },\n    {\n      path: '/test/VSlider.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/VSliderTest.vue')\n    },\n    {\n      path: '/test/CanvasComment.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/CanvasCommentTest.vue')\n    },\n    {\n      path: '/test/Chat.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/ChatHelpTest.vue')\n    }\n  ]\n})","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport VueI18n from 'vue-i18n'\nimport Services from 'services/Services'\nimport { createPinia, PiniaVuePlugin } from 'pinia'\n\nasync function start() {\n  await Services.initConfig()\n  let conf = await Services.getConfig()\n  if (conf.auth === 'keycloak') {\n    const keycloakService = Services.getUserService()\n    await keycloakService.setConf(conf)\n  }\n\n  \n  Vue.use(VueI18n)\n  Vue.use(PiniaVuePlugin)\n  Vue.config.productionTip = false\n    \n  const pinia = createPinia()\n  new Vue({\n    router,\n    pinia,\n    i18n: new VueI18n({\n      locale: 'en',\n      fallbackLocale: 'en',\n      messages: {\n        'en': require('./nls/en.json'),\n        'es': require('./nls/es.json'),\n        'en-uk': require('./nls/en.json'),\n        'en-us': require('./nls/en.json'),\n        'cn': require('./nls/cn.json'),\n        'de': require('./nls/de.json'),\n        'pt-br': require('./nls/pt_br.json'),\n        'pt': require('./nls/pt_br.json')\n      }\n    }),\n    render: h => h(App)\n  }).$mount('#app')\n}\n\nstart()","export default class AbstractService {\n\n    constructor () {\n        this.token = null\n    }\n\n    setToken (token) {\n        this.token = token\n    }\n\n    _createDefaultHeader() {\n        if (this.token) {\n            let headers = new Headers({\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'Authorization': 'Bearer ' + this.token\n            })\n            this.addHeaders(headers)\n            return headers\n        } else {\n            let headers = new Headers({\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            })\n            this.addHeaders(headers)\n            return headers\n        }\n    }\n\n    /**\n     * Expention point for child classes. The can add custom headers\n     * to a request by overwritting this method.\n     */\n    addHeaders() {}\n\n    _getChached (url, successCallback, errorCallback) {\n        this.logger.log(6, '_getChached', 'enter ', url)\n        return new Promise((resolve, reject) => {\n            /**\n             * 1st check cache\n             */\n            if (this._cache && this._cache[url]) {\n                this.logger.log(6, '_getChached', 'exit (cache) ')\n                resolve(this._cache[url])\n                return\n            }\n\n\n             /**\n              * else do fetch\n              */\n            fetch(url, {\n                method: 'get',\n                headers: this._createDefaultHeader()\n            }).then((res) => {\n                if (res.status === 200) {\n                    res.json().then(j => {\n                        this.logger.log(6, '_getChached', 'exit (fetch)')\n                        if (!this._cache) {\n                            this._cache = {}\n                        }\n                        this._cache[url] = j\n                        resolve(j)\n                        if (successCallback) {\n                            successCallback(j)\n                        }\n                    })\n                } else {\n                    this.onError(url, res)\n                    if (errorCallback) {\n                        errorCallback(new Error('Could not load ...'))\n                    }\n                    reject(new Error('Could not load ' + url))\n                }\n            }).catch((err) => {\n                if (errorCallback) {\n                    errorCallback(err)\n                }\n                reject(err)\n            })\n        })\n    }\n\n    _get(url, successCallback, errorCallback) {\n        this.logger.log(6, '_get', 'enter ' + url)\n        return new Promise((resolve, reject) => {\n            fetch(url, {\n                method: 'get',\n                headers: this._createDefaultHeader()\n            }).then((res) => {\n                if (res.status === 200) {\n                    res.json().then(j => {\n                        this.logger.log(6, '_get', 'exit ')\n                        resolve(j)\n                        if (successCallback) {\n                            successCallback(j)\n                        }\n                    })\n                } else {\n                    this.onError(url, res)\n                    if (errorCallback) {\n                        errorCallback(new Error('Could not load ...'))\n                    }\n                    reject(new Error('Could not load ' + url))\n                }\n            }).catch((err) => {\n                if (errorCallback) {\n                    errorCallback(err)\n                }\n                reject(err)\n            })\n        })\n    }\n\n    _post(url, data, successCallback, errorCallback) {\n        this.logger.log(6, '_post', 'enter ' + url)\n        return new Promise((resolve, reject) => {\n            fetch(url, {\n                method: 'post',\n                body: JSON.stringify(data),\n                headers: this._createDefaultHeader()\n            }).then((res) => {\n                if (res.status === 200) {\n                    res.json().then(j => {\n                        this.logger.log(6, '_post', 'exit ')\n                        if (successCallback) {\n                            successCallback(j)\n                        }\n                        resolve(j)\n                    })\n                } else {\n                    this.onError(url, res)\n                    if (errorCallback) {\n                        errorCallback(new Error('Could not _post ...'))\n                    }\n                    reject(new Error('Could not post ' + url))\n                }\n            }).catch((err) => {\n                if (errorCallback) {\n                    errorCallback(err)\n                }\n                reject(err)\n            })\n        })\n    }\n\n    _put(url, data, successCallback, errorCallback) {\n        this.logger.log(6, '_put', 'enter ' + url)\n        return new Promise((resolve, reject) => {\n            fetch(url, {\n                method: 'put',\n                body: JSON.stringify(data),\n                headers: this._createDefaultHeader()\n            }).then((res) => {\n                if (res.status === 200) {\n                    res.json().then(j => {\n                        this.logger.log(6, '_put', 'exit ')\n                        if (successCallback) {\n                            successCallback(j)\n                        }\n                        resolve(j)\n                    })\n                } else {\n                    if (errorCallback) {\n                        errorCallback(new Error('Could not _put ...'))\n                    }\n                    reject(new Error('Could not put ' + url))\n                }\n            }).catch((err) => {\n                this.onError(url)\n                if (errorCallback) {\n                    errorCallback(err)\n                }\n                reject(err)\n            })\n        })\n    }\n\n    _delete(url, successCallback, errorCallback, header) {\n        return new Promise((resolve, reject) => {\n            fetch(url, {\n                method: 'delete',\n                headers: this._createDefaultHeader(header)\n            }).then((res) => {\n                if (res.status === 200) {\n                    res.json().then(j => {\n                        this.logger.log(6, '_put', 'exit ')\n                        if (successCallback) {\n                            successCallback(j)\n                        }\n                        resolve(j)\n                    })\n                } else {\n                    this.onError(url, res)\n                    if (errorCallback) {\n                        errorCallback(new Error('Could not delete ...'))\n                    }\n                    reject(new Error('Could not delete'))\n                }\n            }).catch(function (err) {\n                if (errorCallback) {\n                    errorCallback(err)\n                }\n                reject(new Error('Could not delete'))\n            })\n        })\n    }\n\n    setErrorHandler (handler) {\n        this.errorHandler = handler\n    }\n\n    onError (url, res) {\n        if (this.errorHandler) {\n            this.errorHandler(url, res)\n        }\n    }\n\n}","import AbstractService from './AbstractService'\nimport Logger from '../common/Logger'\nimport Cookies from 'js-cookie'\n\nclass UserService extends AbstractService{\n\n    constructor () {\n        super()\n        this.logger = new Logger('UserService')\n        this.language = 'en'\n        this.GUEST = {\n            id: -1,\n            name: \"Guest\",\n            email: \"guest@quant-ux.com\",\n            role: \"guest\",\n            lastlogin: 0,\n            lastNotification: 0,\n            tos: false,\n            paidUntil: 0,\n            plan: \"Free\"\n        }\n    }\n\n    async signup (data) {\n        return this._post('https://backbuild.buildhub.pe/rest/user', data)\n    }\n\n    async login (data) {\n        let user = await this._post('rest/login/', data)\n        if (!user.errors) {\n            this.setUser(user)\n        }\n        return user;\n    }\n\n    save (userID, data) {\n        return this._post('rest/user/' + userID + \".json\", data)\n    }\n\n    logout () {\n        localStorage.removeItem('quxUser');\n        Cookies.remove('quxUserLoggedIn')\n        Cookies.remove('quxUserLoggedIn', { path: '/' })\n        Cookies.remove('quxUserLoggedIn', { path: '/' , domain: 'quant-ux.com'})\n        return this._delete('rest/login/')\n    }\n\n    reset (email) {\n        return this._post('https://backbuild.buildhub.pe/rest/user/password/request', {email: email})\n    }\n\n    reset2 (email, password, token) {\n        let data = {\n            email: email,\n            password: password,\n            key: token\n        }\n        return this._post('https://backbuild.buildhub.pe/rest/user/password/set', data)\n    }\n\n    retire () {\n        this.logger.info('retire()', 'enter > Oh oh')\n        return this._get('https://backbuild.buildhub.pe/rest/retire')\n    }\n\n    load () {\n        if (!this.user) {\n            this.logger.info('getUser()', 'load')\n            let s = Cookies.get('quxUserLoggedIn')\n            if (s == undefined || s === null || s === '') {\n                this.logger.info('getUser()', 'from localstorage')\n                s = localStorage.getItem('quxUser')\n            }\n            if (s) {\n                try {\n                    const user = JSON.parse(s)\n                    this.setTTL(user)\n                    if (this.isValidUser(user)) {\n                        this.user = user\n                        this.setToken(this.getToken())\n                    } else {\n                        this.user = this.GUEST\n                    }\n                } catch (error) {\n                    this.logger.error('getUser', 'could not parse', s)\n                    this.user = this.GUEST\n                }\n            } else {\n                this.user = this.GUEST\n            }\n        }\n        return this.user\n    }\n\n    async loadById (id) {\n        return await this._get('https://backbuild.buildhub.pe/rest/user/' + id + '.json')\n    }\n\n    getNotications () {\n        return this._get('https://backbuild.buildhub.pe/rest/notifications.json')\n    }\n\n    setLastNotication () {\n        return this._post('https://backbuild.buildhub.pe/rest/user/notification/last.json')\n    }\n\n    getLastNotication () {\n        return this._get('https://backbuild.buildhub.pe/rest/user/notification/last.json')\n    }\n\n    getUser () {\n        return this.user\n    }\n\n    getToken () {\n        /**\n         * We might have an issue here on first loads!\n         * Make sure we chheck the local storage.\n         */\n        if (!this.user) {\n            this.load()\n        }\n\n        if (this.user && this.user.token) {\n            if (this.isValidUser(this.user)) {\n                return this.user.token\n            } else {\n                this.logger.error('getToken', 'Error > Token has timed out')\n                if (this.errorHandler) {\n                    this.errorHandler('', {\n                        tokenTimedOut: true\n                    })\n                }\n            }\n        }\n        return null;\n    }\n\n    isValidUser (u) {\n        if (u.exp && u.exp > 0) {\n            if (u.exp > new Date().getTime()) {\n                return true\n            } else {\n                this.logger.error('isValidUser', 'Error > Token has timed out')\n                this.logout()\n                location.href= \"#/\"\n            }\n        }\n        return false\n    }\n\n    setTTL (u) {\n        if (u.token) {\n            let jwt = this.parseJwt(u.token)\n            if (jwt) {\n                // JWT uses seconds\n                u.exp = jwt.exp * 1000\n                if (this.ttlTimeout) {\n                    clearTimeout(this.ttlTimeout)\n                }\n                let waitTime = u.exp - new Date().getTime() - (5 * 60 * 1000)\n                this.ttlTimeout = setTimeout(() => {\n                    location.href = `#/logout.html`\n                }, waitTime)\n                this.logger.log(-1, 'setTTL', 'User valid until', new Date(u.exp))\n                this.logger.log(-1, 'setTTL', 'Auto loggout  in ' + (waitTime / 1000) + ' sec')\n            } else {\n                this.logger.log(-1, 'setTTL', 'exit > NO token')\n            }\n        }\n    }\n\n    parseJwt (token) {\n        try {\n            var base64Url = token.split('.')[1];\n            var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n            var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\n                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n            }).join(''));\n            return JSON.parse(jsonPayload);\n        } catch (e) {\n            this.logger.error('parseJwt', 'error > could not parse token', e)\n        }\n        return null\n    }\n\n    setUser (u) {\n        this.setTTL(u)\n        this.user = u\n        localStorage.setItem('quxUser', JSON.stringify(u));\n        Cookies.set('quxUserLoggedIn', JSON.stringify(u), { domain: 'quant-ux.com', expires: 7, secure: true, path:'/'}) \n    }\n\n    setLanguage (langauge) {\n        this.language = langauge\n        localStorage.setItem('quxLanguage', this.language);\n    }\n\n    getLanguage () {\n        let s = localStorage.getItem('quxLanguage')\n        if (s) {\n            this.language = s\n        } else {\n            this.language = navigator.language\n        }\n        return this.language\n    }\n\n    contact (name, email, message) {\n        return this._post(\"https://backbuild.buildhub.pe/rest/contact\", {\n            name: name,\n            email: email,\n            message: message\n        })\n    }\n\n    deleteImage (user) {\n        return this._delete( \"https://backbuild.buildhub.pe/rest/user/\" + user.id + \"/images/\" + user.image);\n    }\n\n}\nexport default new UserService()","import AbstractService from 'services/AbstractService'\nimport Logger from 'common/Logger'\n\nexport class ModelService extends AbstractService{\n\n    constructor () {\n        super()\n        this.logger = new Logger('ModelService')\n    }\n\n    createApp (model) {\n        this.logger.log(1, 'createApp', 'enter', model)\n        return this._post('rest/apps/', model)\n    }\n\n    updateAppProps (id, change) {\n        return this._post(`https://backbuild.buildhub.pe/rest/apps/props/${id}.json`, change)\n    }\n\n    saveApp (model) {\n        this.logger.log(1, 'saveApp', 'enter', model)\n        return this._post(`https://backbuild.buildhub.pe/rest/apps/${model.id}.json`, model)\n    }\n\n    copyApp (model, newName) {\n        this.logger.warn('copyApp', 'enter', model)\n        return this._post(`https://backbuild.buildhub.pe/rest/apps/copy/${model.id}`, {\"name\" : newName})\n    }\n\n    updateApp (model, changes) {\n        this.logger.log(4, 'updateApp', 'enter', changes)\n        return this._post(`https://backbuild.buildhub.pe/rest/apps/${model.id}/update`, changes)\n    }\n\n    deleteApp (model) {\n        this.logger.log(-1,'deleteApp', 'enter', model)\n        return this._delete(`https://backbuild.buildhub.pe/rest/apps/${model.id}.json`)\n    }\n\n    findPublicSummaries () {\n        return this._get('rest/apps/public?summary=true')\n    }\n\n    findMyAppSummaries () {\n        return this._get('rest/apps/?summary=true')\n    }\n\n    findPublic () {\n        return this._get('rest/apps/public')\n    }\n\n    findMyApps () {\n        return this._get('rest/apps/')\n    }\n\n    findApp (id) {\n        return this._get(`https://backbuild.buildhub.pe/rest/apps/${id}.json`)\n    }\n\n    findAppByHash (hash) {\n        return this._get(`https://backbuild.buildhub.pe/rest/invitation/${hash}/app.json`)\n    }\n\n    checkAppUpdateByHash (hash) {\n        return this._get(`https://backbuild.buildhub.pe/rest/invitation/${hash}/update.json`)\n    }\n\n    findImages(id) {\n        return this._get(`https://backbuild.buildhub.pe/rest/images/${id}.json`)\n    }\n\n    /**\n     * Commands\n     */\n\n    getCommands (id) {\n        return this._get(`https://backbuild.buildhub.pe/rest/commands/${id}.json`)\n    }\n\n    saveCommands (id, stack) {\n        return this._post(`https://backbuild.buildhub.pe/rest/commands/${id}.json`, stack)\n    }\n\n    addCommand (model, command) {\n        return this._post(`https://backbuild.buildhub.pe/rest/commands/${model.id}/add`, command)\n    }\n\n    deleteCommand (model, count) {\n        return this._delete(`https://backbuild.buildhub.pe/rest/commands/${model.id}/pop/${count}`)\n    }\n\n    shiftStack (model, count) {\n        return this._delete(`https://backbuild.buildhub.pe/rest/commands/${model.id}/shift/${count}`)\n    }\n\n    undoCommand (model, command) {\n        return this._post(`https://backbuild.buildhub.pe/rest/commands/${model.id}/undo`, command)\n    }\n\n    redoCommand (model, command) {\n        return this._post(`https://backbuild.buildhub.pe/rest/commands/${model.id}/redo`, command)\n    }\n\n    /**\n     * Team\n     */\n    findTeam (id) {\n        return this._get(`https://backbuild.buildhub.pe/rest/apps/${id}/team.json`)\n    }\n\n    findTeamSuggestions (id) {\n        return this._get(`https://backbuild.buildhub.pe/rest/apps/${id}/suggestions/team.json`)\n    }\n\n    createTeam (id, user) {\n        return this._post(`https://backbuild.buildhub.pe/rest/apps/${id}/team/`, user)\n    }\n\n    updateTeam (id, user) {\n        return this._post(`https://backbuild.buildhub.pe/rest/apps/${id}/team/${user.id}.json`, user)\n    }\n\n    deleteTeam (id, user) {\n        return this._delete(`https://backbuild.buildhub.pe/rest/apps/${id}/team/${user.id}.json`)\n    }\n\n    resetTeam(id) {\n        return this._delete(`https://backbuild.buildhub.pe/rest/apps/invitation/${id}`)\n    }\n\n    /**\n     * Events\n     */\n    saveEvent (id, hash, event) {\n        return this._post(`https://backbuild.buildhub.pe/rest/invitation/${id}/${hash}/events.json`, event)\n    }\n\n    findEvents (id) {\n        return this._get(`https://backbuild.buildhub.pe/rest/events/${id}.json?exclude=Animation`)\n    }\n\n    findEventsBatch (id) {\n        return this._get(`https://backbuild.buildhub.pe/rest/events/${id}.json?exclude=Animation&batch=true`)\n    }\n\n    countEvents (id) {\n        return this._get(`https://backbuild.buildhub.pe/rest/events/${id}/all/count.json`)\n    }\n\n    findEventsBySession (id, session) {\n        return this._get(`https://backbuild.buildhub.pe/rest/events/${id}/${session}.json`)\n    }\n\n    deleteEventsBySession (id, session) {\n        return this._delete(`https://backbuild.buildhub.pe/rest/events/${id}/${session}.json`)\n    }\n\n    updateEvent (appID, event) {\n        return this._post(`https://backbuild.buildhub.pe/rest/events/${appID}/${event.id}.json`, event)\n    }\n\n    /**\n     * Mouse\n     */\n    findMouse (id) {\n        return this._get(`https://backbuild.buildhub.pe/rest/mouse/${id}.json`)\n    }\n\n    findMouseBySession (id, session) {\n        return this._get(`https://backbuild.buildhub.pe/rest/mouse/${id}/${session}.json`)\n    }\n\n    saveMouse (id, hash, events) {\n        return this._post(`https://backbuild.buildhub.pe/rest/invitation/${id}/${hash}/mouse.json`, events)\n    }\n\n    deleteMouseBySession (id, session) {\n        return this._delete(`https://backbuild.buildhub.pe/rest/mouse/${id}/${session}.json`)\n    }\n\n\n    /**\n     * Annotations\n     */\n    findSessionAnnotations (id) {\n        if (!id) {\n            this.logger.error('findSessionAnnotations', 'error', 'no id passed')\n            this.logger.sendError(new Error())\n        }\n        return this._get(`https://backbuild.buildhub.pe/rest/annotations/apps/${id}/session.json`)\n    }\n\n    findTagAnnotations (id) {\n        return this._get(`https://backbuild.buildhub.pe/rest/annotations/apps/${id}/tags.json`)\n    }\n\n    deleteAnnotation (id, annotationId) {\n        return this._delete(`https://backbuild.buildhub.pe/rest/annotations/apps/${id}/${annotationId}.json`)\n    }\n\n    saveAnnotation (id, annotation) {\n        return this._post(`https://backbuild.buildhub.pe/rest/annotations/apps/${id}`, annotation)\n    }\n\n    updateAnnotation (id, annotation) {\n        return this._post(`https://backbuild.buildhub.pe/rest/annotations/apps/${id}/${annotation.id}.json`, annotation)\n    }\n\n    /**\n     * Inivitations\n     */\n    findInvitation (id) {\n        return this._get(`https://backbuild.buildhub.pe/rest/invitation/${id}.json`)\n    }\n\n    /**\n     * Test\n     */\n    findTest (id) {\n        return this._get(`https://backbuild.buildhub.pe/rest/test/${id}.json`)\n    }\n\n    findTestByHash (app, hash) {\n        return this._get(`https://backbuild.buildhub.pe/rest/invitation/${app.id}/${hash}/test.json`)\n    }\n\n    saveTestSettings (id, test) {\n        return this._post(`https://backbuild.buildhub.pe/rest/test/${id}.json`, test)\n    }\n\n\n    /**\n     * Examples\n     */\n    findPublicMouse (id) {\n        return this._get(`/examples/mouse/${id}.json`)\n    }\n\n    findPublicMouseBySession (appId, sessionId) {\n        return this._get(`/examples/mouse/${appId}/${sessionId}.json`)\n    }\n\n    findPublicTagAnnotations (id) {\n        return this._get(`/examples/annotations/apps/${id}/tags.json`)\n    }\n}\nexport default new ModelService()","import {ModelService} from './ModelService'\nimport Logger from '../common/Logger'\n\n/**\n * Model service for the exampole section taht doe snot test anything\n */\nclass PublicModelService extends ModelService{\n\n    constructor () {\n        super()\n        this.logger = new Logger('PublicModelService')\n    }\n\n    findApp (id) {\n        return this._get(`/examples/apps/${id}.json`)\n    }\n\n    findAppByHash (hash) {\n        return this._get(`/examples/invitation/${hash}/app.json`)\n    }\n\n    getCommands (id) {\n        return this._get(`/examples/commands/${id}.json`)\n    }\n\n    saveCommands () {\n        return\n    }\n\n\n    findEvents (id) {\n        return this._get(`/examples/events/${id}.json?exclude=Animation`)\n    }\n\n    findEventsBySession (id, session) {\n        return this._get(`/examples/events/${id}/${session}.json`)\n    }\n\n    findMouse (id) {\n        return this._get(`/examples/mouse/${id}.json`)\n    }\n\n    findMouseBySession (id, session) {\n        return this._get(`/examples/mouse/${id}/${session}.json`)\n    }\n\n    findSessionAnnotations (id) {\n        return this._get(`/examples/annotations/apps/${id}/session.json`)\n    }\n\n    findTest (id) {\n        return this._get(`/examples/test/${id}.json`)\n    }\n\n    findTestByHash (app, hash) {\n        return this._get(`/examples/invitation/${app.id}/${hash}/test.json`)\n    }\n\n    updateEvent () {\n    }\n\n\n\n    _post() {\n        return new Promise((resolve) => {\n            resolve()\n        })\n    }\n\n    _put() {\n        return new Promise((resolve) => {\n            resolve()\n        })\n    }\n\n    _delete() {\n        return new Promise((resolve) => {\n           resolve()\n        })\n    }\n\n}\nexport default new PublicModelService()","import AbstractService from 'services/AbstractService'\nimport Logger from 'common/Logger'\n\nclass CommentService extends AbstractService{\n\n    constructor () {\n        super()\n        this.logger = new Logger('CommentService')\n    }\n\n    findAll (appID,) {\n \n        return this._get(`rest/comments/apps/${appID}.json`)\n        \n    }\n\n    findByHash (appID, hash, type) {\n        return this._get(`rest/comments/hash/${hash}/${appID}/${type}.json`)\n    }\n\n    createByHash (appID, hash, comment){\n        return this._post(`rest/comments/hash/${hash}/${appID}`, comment)\n    }\n\n    updateByHash (appID, hash, comment){\n        return this._post(`rest/comments/hash/${hash}/${appID}/${comment.id}.json`, comment)\n    }\n\n    find (appID, type, reference) {\n        if (!reference) {\n            return this._get(`rest/comments/apps/${appID}/${type}.json`)\n        } else {\n            return this._get(`rest/comments/apps/${appID}/${reference}/${type}.json`)\n        }\n    }\n\n    delete (appID, comment) {\n        return this._delete(`rest/comments/apps/${appID}/${comment.id}.json`)\n    }\n\n    create (appID, comment){\n        return this._post(`rest/comments/apps/${appID}`, comment)\n    }\n\n    update (appID, comment){\n        return this._post(`rest/comments/apps/${appID}/${comment.id}.json`, comment)\n    }\n\n}\nexport default new CommentService()","class HelpService  {\n\n\n    getAll () {\n        return new Promise( (resolve) => {\n            if (!this.texts) {\n                Promise.all([\n                    import(/* webpackChunkName: \"help\" */ 'help/en/default.js'),\n\n                    import(/* webpackChunkName: \"help\" */ 'help/en/animations.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/imports.js'),\n\n                    import(/* webpackChunkName: \"help\" */ 'help/en/other.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/data_binding.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/logic_flows.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/ab_testing.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/form_validation.js'),\n           \n\n                    import(/* webpackChunkName: \"help\" */ 'help/en/screen_segments.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/rest.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/script.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/other.js'),\n\n                    //import(/* webpackChunkName: \"help\" */ 'help/en/design_system.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/design_token.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/components.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/master_screens.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/design_import.js'),\n\n                    import(/* webpackChunkName: \"help\" */ 'help/en/testing.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/survey.js'),\n\n                    import(/* webpackChunkName: \"help\" */ 'help/en/analytic_intro.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/analytic_tasks.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/analytics_scatter.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/analytic_canvas.js'),\n\n                    import(/* webpackChunkName: \"help\" */ 'help/en/support.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/bugs.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/contact.js')\n                    // import(/* webpackChunkName: \"help\" */ 'help/en/task.js')\n                ]).then(all => {\n                    this.texts = all.flatMap(t => t.texts)\n                    this.texts.forEach(t => {\n                        t._all = t.title.toLowerCase()\n                        if (t.paragraphs) {\n                            t._all += \" \" + t.paragraphs.map(p => p.body).join(' ')\n                        }\n                    })\n                    resolve(this.texts)\n                })\n            } else {\n                resolve(this.texts)\n            }\n        })\n    }\n}\n\n\n\nexport default new HelpService()","import Logger from 'common/Logger'\nimport AbstractService from './AbstractService'\n\nclass ImageService extends AbstractService {\n\n  constructor () {\n    super()\n    this.logger = new Logger('ImageService')\n  }\n\n  delete (model, image) {\n    return this._delete(\"https://backbuild.buildhub.pe/rest/images/\" + model.id + \"/\" + image.id + \"/\" + image.url)\n  }\n\n  upload (url, formData, progressHandler) {\n    this.logger.log(-1, \"upload\", \"enter\");\n    return new Promise((resolve, reject) => {\n    \t// now post a new XHR request\n      const xhr = new XMLHttpRequest();\n      xhr.open('POST', url);\n\n      if (progressHandler) {\n        xhr.onprogress = progressHandler\n      }\n\n      if (this.token) {\n        xhr.setRequestHeader('Authorization', 'Bearer ' + this.token);\n      } else {\n        this.logger.error(\"_sendSingleFile\", \"No token\");\n        this.logger.sendError(new Error('Could not upload because no token'))\n      }\n      xhr.onload = function () {\n          if (xhr.status === 200) {\n            resolve(this.response);\n          } else {\n            this.logger.sendError(new Error('Could not upload'))\n            reject(this.response);\n          }\n      };\n      xhr.send(formData);\n    })\n  }\n}\n\n\n\nexport default new ImageService()","import AbstractService from './AbstractService'\nimport Logger from 'common/Logger'\nimport Keycloak from \"keycloak-js\";\n\nclass KeyCloakService extends AbstractService{\n\n    constructor () {\n        super()\n        this.language = 'en'\n        this.REFRESH_INTERVAl = 60 * 1000\n        this.GUEST = {\n            id: -1,\n            name: \"Guest\",\n            isKeyCloak: true,\n            email: \"guest@quant-ux.com\",\n            role: \"guest\",\n            lastlogin: 0,\n            lastNotification: 0,\n            tos: false,\n            paidUntil: 0,\n            plan: \"Free\"\n        }\n        this.logger = new Logger('KeyCloakService')\n    }\n\n    setConf(conf) {\n        this.initOptions = {\n            url: conf.keycloak.url, \n            realm: conf.keycloak.realm, \n            clientId: conf.keycloak.clientId\n        }\n    }\n\n    init() {\n        if (this.isInited) {\n            return\n        }\n        return new Promise((resolve) => {\n            this.logger.log(-1, 'init() > enter')\n         \n                      \n            const keycloak = Keycloak(this.initOptions);\n            keycloak.init({\n              onLoad: 'check-sso',\n              silentCheckSsoRedirectUri: window.location.origin + '/sso.html'\n            })\n          \n            keycloak.onReady = () => {\n              if (!keycloak.authenticated){\n                this.logger.log(-1, 'init() > need login')\n                keycloak.login()\n                resolve()\n              } else {\n                this.logger.log(-1, 'init() > user logged in')\n                keycloak.loadUserProfile().then(async user => {\n                  this.logger.log(-1, 'init()', 'user loaded', user)\n                  const quxUser = {\n                    id:user.id,\n                    name: user.username,\n                    lastname: user.lastname,\n                    email: user.username,\n                    token: keycloak.token\n                  }\n                  this.isInited = true\n                  this.setUser(quxUser)\n                  await this._post('https://backbuild.buildhub.pe/rest/user/external', quxUser)\n                  resolve()\n                  \n                  setInterval(async () => {\n                    await keycloak.updateToken(300).catch(() => {\n                      Logger.error('Keycloak failed to refresh token')\n                    })\n                    const quxUser = {\n                        id:user.id,\n                        name: user.username,\n                        lastname: user.lastname,\n                        email: user.username,\n                        token: keycloak.token\n                    }\n                    this.setUser(quxUser)\n                  }, this.REFRESH_INTERVAl)\n              \n                })\n              \n              }\n            }\n          \n            keycloak.onAuthLogout = () => {\n              this.logger.log(-1, 'onAuthLogout()')\n            }\n            this.keycloak = keycloak   \n            this.logger.log(-1, 'init() > exit')   \n        })\n       \n       \n    }\n\n    signup () {\n   \n    }\n\n    async login () {\n    \n    }\n\n    save () {\n        //return this._post('rest/user/' + userID + \".json\", data)\n    }\n\n    logout () {\n        this.logger.log(-1, 'KeyCloakService.logout()')\n        localStorage.removeItem('quxKeyCloakUser');\n        if (this.keycloak) {\n            this.keycloak.logout()\n        }\n    }\n\n    reset () {\n    }\n\n    reset2 () {\n       \n    }\n\n    retire () {\n      \n    }\n\n    async load () {\n       await this.init()\n       return this.user\n    }\n\n    async loadById (id) {\n        return await this._get('https://backbuild.buildhub.pe/rest/user/' + id + '.json')\n    }\n\n    getNotications () {\n        return this._get('https://backbuild.buildhub.pe/rest/notifications.json')\n    }\n\n    setLastNotication () {\n        return this._post('https://backbuild.buildhub.pe/rest/user/notification/last.json')\n    }\n\n    getLastNotication () {\n        return this._get('https://backbuild.buildhub.pe/rest/user/notification/last.json')\n    }\n\n    getUser () {\n        return this.user\n    }\n\n    getToken () {\n        /**\n         * We moght have an issue here on forst loads!. Make sure we chhecke the local storage.\n         */\n        if (!this.user) {\n            this.load()\n        }\n\n        if (this.user && this.user.token) {\n            if (this.isValidUser(this.user)) {\n                return this.user.token\n            } else {\n                this.logger.error('getToken', 'Error > Token has timed out')\n                if (this.errorHandler) {\n                    this.errorHandler('', {\n                        tokenTimedOut: true\n                    })\n                }\n            }\n        }\n        return null;\n    }\n\n    isValidUser (u) {\n        if (u.exp && u.exp > 0) {\n            if (u.exp > new Date().getTime()) {\n                return true\n            } else {\n                this.logger.error('isValidUser', 'Error > Token has timed out')\n                this.logout()\n                location.href= \"#/\"\n            }\n        }\n        return false\n    }\n\n    setTTL (u) {\n        if (u.token) {\n            let jwt = this.parseJwt(u.token)\n            if (jwt) {\n                // JWT uses seconds\n                u.exp = jwt.exp * 1000\n                this.logger.log(-1, 'setTTL', 'exit > User valid until', new Date(u.exp))\n            } else {\n                this.logger.log(-1, 'setTTL', 'exit > NO token')\n            }\n        }\n    }\n\n    parseJwt (token) {\n        try {\n            var base64Url = token.split('.')[1];\n            var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n            var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\n                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n            }).join(''));\n            return JSON.parse(jsonPayload);\n        } catch (e) {\n            this.logger.error('parseJwt', 'error > could not parse token', e)\n        }\n        return null\n    }\n\n    setUser (u) {\n        this.setTTL(u)\n        this.user = u\n    }\n\n    setLanguage (langauge) {\n        this.language = langauge\n        localStorage.setItem('quxLanguage', this.language);\n    }\n\n    getLanguage () {\n        let s = localStorage.getItem('quxLanguage')\n        if (s) {\n            this.language = s\n        } else {\n            this.language = navigator.language\n        }\n        return this.language\n    }\n\n    contact (name, email, message) {\n        return this._post(\"https://backbuild.buildhub.pe/rest/contact\", {\n            name: name,\n            email: email,\n            message: message\n        })\n    }\n\n    deleteImage (user) {\n        return this._delete( \"https://backbuild.buildhub.pe/rest/user/\" + user.id + \"/images/\" + user.image);\n    }\n\n}\nexport default new KeyCloakService()\n","import AbstractService from './AbstractService'\nimport Logger from '../common/Logger'\n\nfunction getDays (user) {\n    const now = new Date().getTime()\n    const created = user.created ? user.created : 0\n    const age = now - created\n    const days = age / 86400000\n    return Math.floor(days)\n}\n\nfunction getDaysSinceLastNotification (user) {\n    const now = new Date().getTime()\n    const lastNotification = user.lastNotification ? user.lastNotification : now\n    const age = now -lastNotification\n    const days = age / 86400000\n    return Math.floor(days)\n}\n\nclass NotificationService extends AbstractService{\n\n    constructor () {\n        super()\n        this.logger = new Logger('NotificationService')\n        this.rules = this.initRules()\n        this.day = 86400000\n    }\n\n    setUser (user) {\n        this.user = user\n    }\n\n    async getNotications () {\n        const notifications = await this._get('https://backbuild.buildhub.pe/rest/notifications.json')\n        const user = await this._get('https://backbuild.buildhub.pe/rest/user/' + this.user.id + '.json')\n        this.addUserJourneyNotifications(notifications, user)\n        notifications.forEach(n => {\n            if (n.lastUpdate > user.lastNotification) {\n                n.isNew = true\n            }\n        })\n        return notifications\n    }\n\n    addUserJourneyNotifications (notifications, user) {\n\n        let isDirty = false\n        if (!user.notifications) {\n            user.notifications = {}\n            isDirty = true\n        }\n  \n        let addCount = 0\n        const maxAdd = getDaysSinceLastNotification(user) > 1 ? 1 : 0\n        this.logger.log(-1, 'addUserJourneyNotifications', `> days since last ${getDaysSinceLastNotification(user)} > maxAdd: ${maxAdd} > Seen notifications:`, user.notifications )\n        this.rules.forEach(rule => {\n            if (user.notifications[rule.id]) {\n                this.logger.log(-1, 'addUserJourneyNotifications', 'Add OLD:', rule.id)\n                notifications.push({\n                    id: rule.id,\n                    type: 'UserJourney',\n                    title: rule.title,\n                    more: rule.more,\n                    video: rule.video,\n                    details: rule.details,\n                    lastUpdate: user.notifications[rule.id]\n                })\n            } else if (rule.matches(user)) {\n                if (addCount < maxAdd) {\n                    this.logger.log(-1, 'addUserJourneyNotifications', 'Add NEW:', rule.id)\n                    const lastUpdate = new Date().getTime()\n                    notifications.push({\n                        id: rule.id,\n                        type: 'UserJourney',\n                        title: rule.title,\n                        more: rule.more,\n                        video: rule.video,\n                        details: rule.details,\n                        lastUpdate: lastUpdate\n                    })\n                    user.notifications[rule.id] = lastUpdate\n                    isDirty = true\n                    addCount++\n                } else {\n                    this.logger.log(-1, 'addUserJourneyNotifications', 'Ignored:', rule.id)\n                }\n            } else {\n                this.logger.log(-1, 'addUserJourneyNotifications', 'No match:', rule.id)\n            }\n        })\n\n        if (isDirty) {\n            this.newNotifcations = user.notifications\n        }\n     \n    }\n\n    flush() {\n        if (this.newNotifcations) {\n            this.logger.log(-1, 'flush', 'enter')\n            this._post('rest/user/' + this.user.id + \".json\", {\n                notifications: this.newNotifcations\n            })\n        }\n    }\n\n    reset () {\n        this.logger.warn('reset', 'enter')\n        this._post('rest/user/' + this.user.id + \".json\", {\n            notifications: {}\n        })\n    }\n\n    setLastNotication () {\n        this.flush()\n        return this._post('https://backbuild.buildhub.pe/rest/user/notification/last.json')\n    }\n\n    getLastNotication () {\n        return this._get('https://backbuild.buildhub.pe/rest/user/notification/last.json')\n    }\n\n\n\n    initRules () {\n        return [\n            {\n                matches () {\n                    return true\n                },\n                id:\"WelcomeToDev\",\n                more: `\n                    Welcome at the cutting-edge beta edition of Quant-UX!\n                    We are working hard to finish the new release. You can\n                    help us by trying out the new version. If you spot any bugs,\n                    or have ideas for improvements, please reach out to us via the\n                    \"Contact\" button or our <a href=\"https://discord.gg/TQBpfAAKmU\" target=\"github\">Discord</a> \n                    channel.\n                `,\n                Xdetails: {\n                    title: \"What is new in Quant-UX 5\",\n                    body: `\n                      <ul>\n                        <li>\n                            <b>Project Overview</b>: After you login, you will not see a list of thumbnails. Instead \n                            you will see the new studio. You can select the recent prototypes on the left side. The \n                            selected prototype is show in the center. On the right side we show you the most important\n                            indicators, e.g. how many test you habe run, or the avergae success rate.\n                        </li>\n                        <li>\n                            <b>New Design</b>: We have completey redesigned the canvas. \n                        </li>\n                      <ul>\n                    \n                    `\n                },\n                title: 'Quant-UX 5! 🚀 '\n            },\n            {\n                matches (user) {\n                    return user.loginCount >= 2\n                },\n                id:\"GiveUsAStar\",\n                more: `\n                    If Quant-UX has been lighting up your projects and you're part of the GitHub community, \n                    we'd be over the moon if you could shower us with a ⭐️ star ⭐️! Simply hop over to \n                    our GitHub project page and hit that star button to show your support. \n                    Together, let's keep the momentum going! Give us a star right here\n                     <a href=\"https://github.com/KlausSchaefers/quant-ux\" target=\"github\">Quant-UX on GitHub</a> \n                `,\n                title: 'Give us a star at GitHub'\n            },\n            {\n                matches (user) {\n                    return getDays(user) > 2\n                },\n                id:\"Discord\",\n                more: `\n                    We have a <a href=\"https://discord.gg/TQBpfAAKmU\" target=\"github\">Discord</a>\n                    channel! You can reach us there or discuss with other users.\n                `,\n                title: 'Chat with us on Discord'\n            },\n            {\n                matches (user) {              \n                    return getDays(user) > 1\n                },\n                id:\"Youtube\",\n                more: `\n                    hey there, do you know that we have a <a href=\"https://www.youtube.com/@quant-ux8332\" target=\"github\">YouTube</a>\n                    channel?  Dive into a treasure trove of tutorials and sneak peeks that'll supercharge your learning journey.\n                    If you like the content, subscribe to the channel to not miss out on new content.\n                `,\n                title: 'YouTube'\n            },\n            {\n                matches (user) {\n                    return getDays(user) > 3 && !user.image\n                },\n                id:\"ProfilePic\",\n                more: `\n                    Boost the collaboration with your team! You can upload a profile picture in your \n                    <a href=\"#/my-account.html\" target=\"account\">Account Settings</a>. This will\n                    make it easier for others to distinguish your account.\n                   \n                `,\n                title: 'Add a profile picture'\n            },\n            {\n                matches (user) {\n                    return user.loginCount >= 5 && !user.name\n                },\n                id:\"UserName\",\n                more: `\n                    If you add your name and lastname in the\n                    <a href=\"#/my-account.html\" target=\"account\">Account Settings</a>,\n                    other users can better collaborate with you.\n                   \n                `,\n                title: 'Add your name and lastname'\n            },\n            {\n                matches (user) {\n                    return getDays(user) > 4\n                },\n                id:\"CollaborativeWork\",\n                more: `\n                    Do you know that you can invite other Quant-UX members to collaborate \n                    on a prototype? You can even work in realtime in the same canvas with them!\n                   \n                `,\n                title: 'Work with others'\n            }\n            \n        ]\n    }\n\n   \n}\nexport default new NotificationService()","import Logger from 'common/Logger'\nimport AbstractService from './AbstractService'\nimport * as StyleImporter from 'core/ai/StyleImporter'\n\nexport default class AIService extends AbstractService {\n\n\n    constructor() {\n        super()\n        this.logger = new Logger('AIService')\n        this.messages = []\n        this.language = 'YAML'\n    }\n\n    reset () {\n        this.messages = []\n    }\n\n    async runCodex (message, key) {\n        return this.runCompletions(message, key, 'code-davinci-002')\n    }\n\n    async runDavinci (message, key) {\n        return this.runCompletions(message, key, 'text-davinci-003')\n    }\n\n\n    async runCompletions (message, key, model, temperature = 0, maxTokens = 2000) {\n\n        const prompt =`\n            You are HTMLGPT, a masterful webdeveloper. Please create a HTML page for the following\n            description:\n\n            ${message}\n\n            Please output a a HTML page.`\n\n\n        const data = {\n            'openAIModel': '/v1/completions',\n            'openAIToken': key,\n            'openAIOrgID': 'Klaus',\n            'openAIPayload': {\n                \"model\": model,\n                \"prompt\": prompt,\n                \"max_tokens\": maxTokens,\n                \"temperature\": temperature\n            }\n        }\n\n        try {\n            const res = await this._post('/ai/openai.json', data)\n            if (res.choices && res.choices.length > 0) {\n                const choice = res.choices[0]\n                const content = choice?.text\n                return this.extractHTML(content)\n            }\n        } catch (err){\n            return {\n                error: 'design-gpt.error-server'\n            }\n        }\n        return {\n            error: 'design-gpt.error-no-idea'\n        }\n    }\n\n    runFakeYamlBug (ms = 200) {\n\n        return new Promise(resolve => {\n            setTimeout(() => {\n            resolve({\n                yaml:`\n                    CONTAINER:\n                        FLEX-DIRECTION: COLUMN\n                        CHILDREN:\n                            - LABEL:\n                                CONTENT: \"Sign Up for Our Newsletter\"\n                                TYPE: \"Headline\"\n                                COLOR: \"#333333\"\n                            - INPUT:\n                                PLACEHOLDER: \"Enter your name\"\n                                TYPE: \"Text\"\n                                BORDER_COLOR: \"#CCCCCC\"\n                            - RADIO_GROUP:\n                                OPTIONS: [\"Male\", \"Female\", \"Other\"]\n                            - CHECKBOX_GROUP:\n                                OPTIONS: [\"Sports\", \"School\", \"Music\", \"Cars\"]\n                            - DATE_PICKER:\n                            - DROPDOWN:\n                                OPTIONS: [\"Classic\", \"Rock\", \"Blues\", \"Techno\", \"Trance\", \"House\", \"Rap\", \"Soul\", \"K-Pop\"]\n                            - BUTTON:\n                                CONTENT: \"Submit\"\n                                BACKGROUND: \"#1A73E8\"\n                                COLOR: \"#FFFFFF\"\n      \n        ` })\n            }, ms)\n        })\n    }\n\n    runFakeYaml3 (ms = 200) {\n        return new Promise(resolve => {\n            setTimeout(() => {\n            resolve({\n                yaml:`\n                    CONTAINER:\n                        FLEX-DIRECTION: COLUMN\n                        CHILDREN:\n                            - CONTAINER:\n                                FLEX-DIRECTION: ROW\n                                BACKGROUND: \"#FFFFFF\"\n                                CHILDREN:\n                                    - LABEL:\n                                        TYPE: \"Headline\"\n                                        CONTENT: \"Join the Fun!\"\n                                        COLOR: \"#333333\"\n                            - CONTAINER:\n                                FLEX-DIRECTION: COLUMN\n                                CHILDREN:\n                                - DROPDOWN:\n                                    CONTENT: \"Select\"\n                                    OPTIONS: [\"f\", \"e\"]\n                                    TYPE: \"Text\"\n                                    BORDER_COLOR: \"#CCCCCC\"\n                                - INPUT:\n                                    PLACEHOLDER: \"Username\"\n                                    TYPE: \"Text\"\n                                    BORDER_COLOR: \"#CCCCCC\"\n                                - RADIO_GROUP:\n                                    OPTIONS: [\"B\", \"C\"]\n                                    TYPE: \"Text\"\n                                    BORDER_COLOR: \"#CCCCCC\"\n                                - INPUT:\n                                    PLACEHOLDER: \"Confirm Password\"\n                                    TYPE: \"Password\"\n                                    BORDER_COLOR: \"#CCCCCC\"\n                                - CHECKBOX_GROUP:\n                                    OPTIONS: [\"A\", \"B\"]\n                                    TYPE: \"Password\"\n                                    BORDER_COLOR: \"#CCCCCC\"\n                                - DATE_PICKER:\n                                    BORDER_COLOR: \"#CCCCCC\"    \n                            - CONTAINER:\n                                FLEX-DIRECTION: ROW\n                                CHILDREN:\n                                - BUTTON:\n                                    CONTENT: \"Sign Up\"\n                                    BACKGROUND: \"#FFD700\"\n                                    COLOR: \"#FFFFFF\"\n                                    BORDER_COLOR: \"#FFD700\"\n                                - BUTTON:\n                                    CONTENT: \"Login\"\n                                    BACKGROUND: \"#FFD700\"\n                                    COLOR: \"#FFFFFF\"\n                                    BORDER_COLOR: \"#FFD700\"\n            ` })\n        }, ms)\n        })\n    }\n    \n    runFake(ms = 200) {\n        return new Promise (resolve => {\n            setTimeout(() => {\n                resolve( {\n                    html:`\n                <html>\n                    <html lang=\"en\">\n                    <head>\n                        <meta charset=\"UTF-8\">\n                        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n                        <title>Login Page</title>\n                        <style>\n                            *{\n                                box-sizing: border-box;\n                                font-family: Arial, sans-serif;\n                            }\n                            body{\n                                background-color: #f1f1f1;\n                                margin: 0;\n                                padding: 0;\n                                margin: 24px\n                            }\n                            .container{\n                                width: 90%;\n                                max-width: 720px;\n                                margin: 0 auto;\n                                padding: 20px;\n                                background-color: #fff;\n                                border-radius: 10px;\n                                box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.2);\n                            }\n                            form{\n                                display: flex;\n                                flex-direction: column;\n                            }\n                            label{\n                                margin-bottom: 5px;\n                                font-weight: bold;\n                            }\n                            input{\n                                height: 40px;\n                                padding: 5px;\n                                margin-bottom: 10px;\n                                border: none;\n                                border-radius: 5px;\n                                font-size: 18px;\n                                outline: none;\n                            }\n                            button{\n                                height: 40px;\n                                background-color: red;\n                                color: #fff;\n                                border: none;\n                                border-radius: 5px;\n                                font-size: 18px;\n                                cursor: pointer;\n                            }\n                            .forgot-password{\n                                margin-top: 10px;\n                                text-align: center;\n                            }\n                            .forgot-password a{\n                                color: red;\n                                font-weight: bold;\n                                text-decoration: none;\n                            }\n                        </style>\n                    </head>\n                    <body>\n                        <div class=\"container\">\n                            <h1>Login Page</h1>\n                            <form>\n                                <label for=\"username\">Username</label>\n                                <input type=\"text\" id=\"username\" name=\"username\" required>\n    \n                                <label for=\"password\">Password</label>\n                                <input type=\"password\" id=\"password\" name=\"password\" required>\n    \n                                <button type=\"submit\">Login</button>\n                            </form>\n                            <div class=\"forgot-password\">\n                                <a href=\"#\">Forgot Password?</a>\n                            </div>\n                        </div>\n                    </body>\n                    </html>`})\n            }, ms)\n        })\n    }\n\n    async runGPT4Turbo (message, key, app, options) {\n        return this.runChatHTML('gpt-4-1106-preview', message, key, app, options)       \n    }\n\n    async runGPT4 (message, key, app, options) {\n        return this.runChatHTML('gpt-4', message, key, app, options)       \n    }\n\n    async runGPT35Turbo(message, key, app, options) {\n        return this.runChatHTML('gpt-3.5-turbo', message, key, app, options)\n    }\n\n    async runGPT4TurboYaml(message, key, app) {\n\n        const prompt =`\n            This is a UI language in YAML which has the following elements:\n\n            CONTAINER: An element that can have child elements. I container has an list of CHILDREN elements. \n                A container has an attribute FLEX-DIRECTION. It can have the values ROW and COLUMN. ROW means,\n                that the elements are aligned horizontal from left to right, COLUMN means the elements are aligned vertical from top to down.\n            \n            LABEL: An Element that can show text. It has a CONTENT element. A label has a TYPE element which can be \"Headline\", \"Label\" or \"Paragraph\"\n\n            BUTTON: An Element that can show text. It has a CONTENT element. \n            \n            INPUT: An element to render a text field. It can have a PLACEHOLDER ELEMENT and a TYPE element. The TYPE can be \"Text\", \"Checkbox\", \"RadioBox\", \"Switch\", \"Password\" or \"TextArea\".\n            \n            IMAGE: An element to present an image. It has a CONTENT child element. Images are optional and should only be included if needed.\n\n            TABLE: An element to present a table. It has a COLUMNS element which is a list of column names. \n            It also has a DATA element which is an ARRAY of ARRAY of string values.\n\n            RADIO_GROUP: An element where the user can select one of several options. The ELEMENT has an OPTIONS child element, which is ARRAY of strings and \n            describes the different options the user can choose from. RADIO_GROUP elements are only used when the number of choices is less then 5. \n\n            CHECKBOX_GROUP: An element where the user can select one or more of several options. The ELEMENT has an OPTIONS child element, which is ARRAY of strings and \n            describes the different options the user can choose from. RADIO_GROUP elements are only used when the number of choices is less then 5. \n\n            DROPDOWN: An element which will render a dropdown menu where the user can select on of a large number of options. The ELEMENT has an OPTIONS \n            child element, which is ARRAY of strings and describes the different options the user can choose from. DROPDOWN elements are only used when \n            the number of choices is more than 5.\n            \n            DATE_PICKER: An element that allows the user to pick a date. It will open a calendar view. The DATE_PICKER has a content element.\n\n            Each element can have a COLOR, BACKGROUND and BORDER_COLOR element to describe the visual appearance. The values are hex color codes.\n\n            INPUT, DROPDOWN and DATE_PICKER elements can have an label above them to help the user understand what data the need to input.\n\n            Please generate :\n\n            ${message}\n\n            \n            Return the result as YAML in the defined language. Do not include any additional text.\n        `\n\n        const data = {\n            'openAIModel': '/v1/chat/completions',\n            'openAIToken': key,\n            'openAIOrgID': 'Klaus',\n            'openAIPayload': {\n                \"model\": 'gpt-4-1106-preview',\n                \"messages\": [\n                    {\"role\": \"system\", \"content\": `\n                        You are design GPT. You are really good at deisgn web sites and mobile apps.\n                    `},\n                    {\"role\": \"system\", \"content\": `\n                        The website you generate should run on a ${app.type} device.\n                        The screen with is ${app.screenSize.w} pixel\n                    `},\n                    //{\"role\": \"system\", \"content\": this.getStylePrompt(app, options)},\n                    {\"role\": \"user\", \"content\": prompt}\n                ]\n            }\n        }\n\n        return this.runPrompt(data, 'yaml')\n    }\n\n\n    async runChatHTML (model, message, key, app) {\n        const prompt =`\n            Please create a HTML page for the following\n            description:\n\n            ${message}\n\n            \n            Please output as a HTML page.\n        `\n\n        const data = {\n            'openAIModel': '/v1/chat/completions',\n            'openAIToken': key,\n            'openAIOrgID': 'Klaus',\n            'openAIPayload': {\n                \"model\": model,\n                \"messages\": [\n                    {\"role\": \"system\", \"content\": `\n                        You are HTMLGPT, a masterful webdeveloper skillful in HTML and CSS. \n                        You have a great experiences designing beautiful websites that delight their users.\n                        Make sure that some CSS is included and the page is well styled.\n                    `},\n                    {\"role\": \"system\", \"content\": `\n                        The website you generate should run on a ${app.type} device.\n                        The screen with is ${app.screenSize.w} pixel\n                    `},\n                    //{\"role\": \"system\", \"content\": this.getStylePrompt(app, options)},\n                    {\"role\": \"user\", \"content\": prompt}\n                ]\n            }\n        }\n\n        return this.runPrompt(data)\n    }\n\n    async runPrompt (data, returnType = 'html') {\n\n        try {\n            const start = Date.now()\n            const res = await this._post('/ai/openai.json', data)\n            const end = Date.now()\n            this.logger.error('runPrompt() > API took ', end-start)\n\n            if (res.choices && res.choices.length > 0) {\n                const choice = res.choices[0]\n                const content = choice?.message?.content\n                if (returnType === 'html') {\n                    return this.extractHTML(content)\n                } else {\n                    return this.extractYAML(content)\n                }\n\n            }\n            if (res.error) { \n                this.logger.error('runPrompt() > Error from API', res)\n                if (res.error.code === 'invalid_api_key') {\n                    return {\n                        error: 'design-gpt.error-server-key'\n                    }\n                }\n                if (res.error.code === 'insufficient_quota') {\n                    return {\n                        error: 'design-gpt.error-insufficient_quota'\n                    }\n                }\n            }\n        } catch (err){\n            return {\n                error: 'design-gpt.error-server'\n            }\n        }\n        return {\n            error: 'design-gpt.error-no-idea'\n        }\n    }\n\n    getStylePrompt (app, options) {\n        if (!options.isCustomStyles) {\n            return ''\n        }\n        try {\n\n            const customStyles = StyleImporter.getCustomStyle(app)\n            return `\n                Unless further specified, use the following colors and backgrounds for the HTML elements:\n                Screens should have one of the following background colors: ${this.join(customStyles?.screen?.background)}.\n                Buttons should have one of the following background colors: ${this.join(customStyles?.button?.background)}.\n                Buttons should have one of the following colors: ${this.join(customStyles?.button?.color)}.\n                Labels, P and normal text should have one of the following colors: ${this.join(customStyles?.label?.color)}.\n                INPUT elements should have one of the following background colors: ${this.join(customStyles?.input?.background)}.\n                INPUT elements should have one of the following colors: ${this.join(customStyles?.input?.color)}.\n                INPUT elements should have one of the following border color : ${this.join(customStyles?.input?.borderTopColor)}.\n            `\n        } catch (err) {\n            this.logger.error('getStylePrompt', 'Error', err)\n        }\n\n        return ''\n    }\n\n    join(arr) {\n        if (arr) {\n            return arr.join(', ')\n        }\n        return ''\n    }\n\n    extractYAML (content) {\n        try {\n            content = content.split('\\n').slice(1, -1).join('\\n')\n            return {\n                yaml: content\n            }\n        } catch (e) {\n            console.debug('extractYAML', content)\n            console.error(e)\n        }\n        return {\n            error: 'design-gpt.error-no-yaml'\n        }\n    }\n\n    extractHTML (content) {\n          \n        if (!content) {\n            return {\n                error: 'error-no-content'\n            }\n        }\n        const start = content.indexOf('html>')\n        const end = content.indexOf('</html>')\n        if (start > -1 && end > -1) {\n            let innerHTML = content.substring(start + 5, end)\n            innerHTML = innerHTML.replace('<html>', '')\n            return {\n                html: `<html>${innerHTML}</html>`\n            }\n        } \n        return {\n            error: 'design-gpt.error-no-html'\n        }\n    }\n\n    getAssistants () {\n        return this._get('/v1/assistants')\n    }\n\n}","import UserService from './UserService'\nimport ModelService from './ModelService'\nimport PublicModelService from './PublicModelService'\nimport CommentService from './CommentService'\nimport SymbolService from './SymbolService'\nimport HelpService from './HelpService'\nimport ImageService from './ImageService'\nimport WebSocketService from './WebSocketService'\nimport KeyCloakService from './KeyCloakService'\nimport NotificationService from './NotificationService'\nimport AIService from './AIService'\n\nclass Services {\n\n    constructor () {\n        this.config = {\n            'default': true,\n            'auth': 'qux',\n            'websocket': 'wss://ws.quant-ux.com'\n        }\n    }\n\n    async initConfig () {\n        return new Promise((resolve, reject) => {\n            fetch('/assets/builder_cross/config.json', {\n                method: 'get',\n            }).then((res) => {\n                if (res.status === 200) {\n                    res.json().then(j => {\n                        this.config = j\n                        resolve(j)\n                    })\n                } else {\n                    reject(new Error('Could not load config'))\n                }\n            }).catch((err) => {\n                reject(err)\n            })\n        })\n    }\n\n    getConfig() {\n        return this.config\n    }\n\n    setErrorHandler (handler) {\n        this.errorHandler = handler\n        ModelService.setErrorHandler(handler)\n        PublicModelService.setErrorHandler(handler)\n        UserService.setErrorHandler(handler)\n        ImageService.setErrorHandler(handler)\n    }\n\n    getImageService () {\n        ImageService.setToken(this.getUserService().getToken())\n        return ImageService\n    }\n\n    getNotificationService() {\n        NotificationService.setToken(this.getUserService().getToken())\n        NotificationService.setUser(this.getUserService().getUser())\n        return NotificationService\n    }\n\n    getWebSocketService (modelId, token, user) {\n        if (this.config.websocket) {\n            let ws = new WebSocketService(this.config.websocket, modelId, token, user)\n            return ws\n        }\n        return null\n    }\n\n    getAIService () {\n        const aiService = new AIService()\n        aiService.setToken(UserService.getToken())\n        return aiService   \n    }\n\n    getUserService () {\n        if (this.config.auth === 'keycloak') {\n            return KeyCloakService\n        } else {\n            UserService.setToken(UserService.getToken())\n            return UserService   \n        }\n    }\n\n    getSymbolService () {\n        return SymbolService\n    }\n\n    getHelpService () {\n        return HelpService\n    }\n\n    getModelService (route) {\n        if (route && route.meta && route.meta.isPublic) {\n            PublicModelService.setToken(this.getUserService().getToken())\n            return PublicModelService\n        }\n        ModelService.setToken(this.getUserService().getToken())\n        return ModelService\n    }\n\n    getPublicModelService () {\n        PublicModelService.setToken(this.getUserService().getToken())\n        return PublicModelService\n    }\n\n    getCommentService () {\n        CommentService.setToken(this.getUserService().getToken())\n        return CommentService\n    }\n\n}\nexport default new Services()","import AbstractService from 'services/AbstractService'\nimport Logger from 'common/Logger'\nimport Vue from \"vue\"\nimport ModelGeom from 'core/ModelGeom'\nimport lang from 'dojo/_base/lang'\nimport CoreUtil from 'core/CoreUtil'\n// import HelloWorld from 'examples/HelloWorld'\n\n/**\n * Add here imports\n */\n\nclass SymbolService extends AbstractService{\n\n    constructor () {\n        super()\n        this.logger = new Logger('SymbolService')\n        this.widgets = {\n          // 'HelloWorld': HelloWorld\n        }\n\n    }\n\n    getWidgetClass (name) {\n      return this.widgets[name]\n    }\n\n    getWidgetDataProps (name) {\n      if (this.widgetDataProps){\n        return this.widgetDataProps[name]\n      }\n    }\n\n    getIcons () {\n      return this._getChached('/icons.json')\n    }\n\n    getSVGIcons () {\n      return this._getChached('/tabler-icons.json')\n    }\n\n\n    hookInWidgets (themes) {\n      this.logger.log(2, 'hookInWidgets', 'enter > ' +  this.widgets.length  + \" + \" + themes.length)\n      this.widgetDataProps = {}\n      for (let name in this.widgets){\n        try {\n          let w = this.widgets[name]\n          let temp = this.$new(w)\n          let templates = temp.getCreateTemplates()\n          if (templates) {\n            templates.forEach(t => {\n              themes.push(t)\n            })\n          } else {\n            this.logger.error('hookInWidgets', `Error >  ${name}.getCreateTemplates() returns null`)\n          }\n          let props = temp.getDataProperties()\n          if (props) {\n            this.widgetDataProps[name] = props\n          }\n        } catch (e) {\n          this.logger.error('hookInWidgets', 'Error >  Could not create' +  name, e)\n        }\n      }\n    }\n\n\n    getCore() {\n      return new Promise( (resolve) => {\n        if (!this.themes) {\n          this.logger.log(3, 'getCore', 'exit > Load')\n          Promise.all([\n            //import(/* webpackChunkName: \"themes\" */ 'themes/screen.json'),\n\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/box.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/button.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/buttonData.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/carousel.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/checkbox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/checkboxgroup.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/date.json'),\n            //import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/date2.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/html.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/dnd.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/dropbox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/hotspot.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/icon.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/image.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/label.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/link.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/mobile_drop_down.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/radiobox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/radiogroup.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/ratings.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/slider.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/spinner.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/stepper.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/switch.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/segment_button.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/segment_picker.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/tab.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/table.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/textbox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/timespinner.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/typeahead.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/volume.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/repeater.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/upload.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/camera.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/uploadpreview.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/weblink.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/progressbar.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/screensegment.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/countingstepper.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/tree.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/iconbutton.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/paging.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/timeline.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/svg.json'),\n\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/lockslider.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/visualpicker.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/icontogglebutton.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/iframe.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/iframes.json'),\n\n            /////////\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/progesssegments.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/imagepaging.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/navbar.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/navmenu.json'),\n\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/textbox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/labeledtextbox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/labeledtextarea.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/nps.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/checkbox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/radio.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/date.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/sortablelist.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/checkboxgroup.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/radiogroup.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/radiotable.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/buttons.json'),\n\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/button2.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/calender.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/checkbox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/combobox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/datepicker.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/daterange.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/daterangepicker.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/dialog2.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/label.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/link.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/list.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/listitem.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/navigation.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/panel.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/radio.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/segement.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/slider.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/switch.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/tabbar.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/table.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/textbox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/toast.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/toggle.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/tool_footer.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/tool_header.json'),\n\n\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/buttons_rec.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/buttons.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/calendar.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/checkbox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/dialog.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/dropdown.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/labels.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/radiobox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/slider.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/switch.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/textbox.json'),\n\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/buttons.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/chekcbox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/chips.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/navbar.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/radio.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/segmentbutton.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/stepper.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/slider.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/switch.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/textbox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/togglebutton.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/buttons16.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/togglebutton16.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/segmentbutton16.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/textbox16.json'),\n\n            import(/* webpackChunkName: \"themes\" */ 'themes/charts/bar.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/charts/legend.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/charts/pie.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/charts/ring.json'),\n\n            import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/alerts.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/boxes.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/button.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/card.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/checkbox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/date.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/dialog.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/dropdown.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/image.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/input.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/input2.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/labels.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/tab.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/table.json'),\n\n            //import(/* webpackChunkName: \"themes\" */ 'themes/survey/all.json'),\n\n          ]).then(values => {\n            this.themes = []\n            values.forEach(v => {\n              this.themes = this.themes.concat(v.default)\n            })\n            this.hookInWidgets(this.themes)\n            this.logger.log(3, 'getCore', 'exit > loaded', this.themes.length)\n            resolve(this.themes)\n          })\n        } else {\n          this.logger.log(3, 'getCore', 'exit > Cache')\n          resolve(this.themes)\n        }\n      })\n    }\n\n    convertAppToSymbols (app) {\n      let elements = Object.values(app.widgets).map(widget => {\n    \t\tlet element = lang.clone(widget)\n\t\t\t\tif (element.template && app.templates) {\n\t\t\t\t\tlet template = app.templates[element.template]\n\t\t\t\t\tif (template) {\n\t\t\t\t\t\tvar merged = lang.clone(template.style)\n\t\t\t\t\t\tif (element.style) {\n\t\t\t\t\t\t\tfor (var key in element.style) {\n\t\t\t\t\t\t\t\tmerged[key] = element.style[key]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telement.style = merged\n\t\t\t\t\t\tdelete element.template\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telement._type = 'Widget'\n\t\t\t\telement.imported = app.id + '@' + element.id\n\t\t\t\tlet group = this.getElementGroup(element.id, app)\n\t\t\t\tif (group) {\n\t\t\t\t\telement._group = group.id\n\t\t\t\t}\n\t\t\t\treturn element\n\t\t\t})\n\n\t\t\tif (app.groups) {\n\t\t\t\tlet groups = Object.values(app.groups).map(group => {\n          let bbbox = ModelGeom.getBoundingBox(group.children, app)\n          let result = {\n            w: bbbox.w,\n            h: bbbox.h,\n            id: group.id,\n            name: group.name,\n            children: [],\n            type: 'Group',\n            _type: 'Group'\n          }\n          group.children.forEach(childID => {\n            let element = elements.find(e => e.id === childID);\n            if (element) {\n              element = lang.clone(element)\n              delete element._type\n              delete element._group\n              element.x = element.x - bbbox.x\n              element.y = element.y - bbbox.y\n              result.children.push(element)\n            }\n          })\n\n          /**\n           * Sort the group elements to ensure the correct rendering!\n           */\n          result.children = CoreUtil.getOrderedWidgets(result.children)\n\n\t\t\t\t\treturn result\n        })\n        elements = elements.concat(groups)\n\t\t\t}\n\n      elements = elements.filter(element => !element._group);\n      return elements\n    }\n\n    getElementGroup (widgetID, model) {\n\t\t\tif (model.groups) {\n\t\t\t\tfor (var id in model.groups) {\n\t\t\t\t\tvar group = model.groups[id];\n\t\t\t\t\tvar i = group.children.indexOf(widgetID);\n\t\t\t\t\tif (i > -1) {\n\t\t\t\t\t\treturn group;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n    $new (cls) {\n      var ComponentClass = Vue.extend(cls);\n      var instance = new ComponentClass();\n      instance.mode = this.mode\n      instance.$mount(); // pass nothing\n      return instance;\n    }\n\n}\nexport default new SymbolService()","import Logger from 'core/Logger'\nimport { v4 as uuidv4 } from 'uuid';\nexport default class WebSocketService {\n\n  constructor (url, appId, jwtToken, user ={} ) {\n    this.url = url\n    this.appId = appId\n    this.user = user\n    this.jwtToken = jwtToken\n  }\n\n  init (callback) {\n    Logger.log(1, 'WebSocketService.init()', this.appId, this.url)\n    try {\n      let connection = new WebSocket(`${this.url}/?app=${this.appId}&jwt=${this.jwtToken}`)\n      connection.onmessage = (event) => {\n        this.handleEvent(event)\n      }\n      connection.onopen = () => {\n        Logger.log(-1, 'WebSocketService.init() > Success', this.appId)\n        this.connection = connection\n        if (callback) {\n          callback(true)\n        }\n      }\n      connection.onerror = (err) => {\n        Logger.error('WebSocketService.init() > cannot init', err)\n        if (this.errorCallback) {\n          this.errorCallback(err)\n        }\n      }\n    } catch (err) {\n      Logger.error('WebSocketService.constructor() > cannot init', err)\n      if (this.errorCallback) {\n        this.errorCallback(err)\n      }\n    }\n\n\n  }\n\n  handleEvent (event) {\n    if (this.messageCallback) {\n      try {\n        let msg = JSON.parse(event.data)\n        this.messageCallback(msg)\n      } catch (err) {\n        Logger.error('WebSocketService.handleEvent() > cannot handle event', err)\n      }\n    }\n  }\n\n  onMessage(callback) {\n    this.messageCallback = callback\n  }\n\n  onError(callback) {\n    this.errorCallback = callback\n  }\n\n  send (message) {\n    if (this.connection) {\n      message.id = uuidv4()\n      message.clientTS = new Date().getTime()\n      message.appId = this.appId\n      message.user = {\n        id: this.user.id,\n        email: this.user.email,\n        name: this.user.name,\n        lastname: this.user.lastname,\n        image: this.user.image\n      }\n      this.connection.send(JSON.stringify(message))\n      Logger.log(5, 'WebSocketService.send() > exit', message)\n    }\n  }\n\n  close() {\n    Logger.log(-1, 'WebSocketService.close()')\n    if (this.connection) {\n      this.connection.close()\n    }\n  }\n\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + ({\"13\":\"unit\",\"22\":\"help\",\"165\":\"design\",\"211\":\"jszip\",\"351\":\"simulator\",\"425\":\"themes\",\"594\":\"about\",\"832\":\"ace\",\"887\":\"apps\",\"982\":\"matc\"}[chunkId] || chunkId) + \"-legacy.\" + {\"13\":\"201a1cf5\",\"22\":\"66b8e656\",\"28\":\"b9888ac1\",\"33\":\"ec81c0c7\",\"86\":\"8028af4a\",\"165\":\"37b0855e\",\"211\":\"286bad30\",\"263\":\"14f87ffb\",\"351\":\"d4eb9f16\",\"376\":\"0188e349\",\"425\":\"275a2879\",\"479\":\"3514ead4\",\"508\":\"531623fe\",\"594\":\"fb2e911e\",\"602\":\"f626d8e3\",\"832\":\"db437518\",\"887\":\"55b4086d\",\"977\":\"b4aa4ea4\",\"982\":\"b5ea1223\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"css/\" + ({\"13\":\"unit\",\"165\":\"design\",\"351\":\"simulator\",\"594\":\"about\",\"887\":\"apps\",\"982\":\"matc\"}[chunkId] || chunkId) + \".\" + {\"13\":\"c0953ec1\",\"33\":\"dec9282a\",\"86\":\"59c214be\",\"165\":\"7f84ec0a\",\"351\":\"0e8b399a\",\"376\":\"bd711eec\",\"479\":\"56252299\",\"594\":\"ad96568a\",\"887\":\"dd6b092f\",\"977\":\"c5ba615e\",\"982\":\"ab830d27\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"quant-ux:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/assets/builder_cross/frontend/\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = function(chunkId, fullhref, oldTag, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tif (__webpack_require__.nc) {\n\t\tlinkTag.nonce = __webpack_require__.nc;\n\t}\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && event.type;\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + errorType + \": \" + realHref + \")\");\n\t\t\terr.name = \"ChunkLoadError\";\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"13\":1,\"33\":1,\"86\":1,\"165\":1,\"351\":1,\"376\":1,\"479\":1,\"594\":1,\"887\":1,\"977\":1,\"982\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkquant_ux\"] = self[\"webpackChunkquant_ux\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(15993); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["vommonLoggingQueue","vommonLoggingQueuePos","vommonLoggingQueueMax","vommonLoggingDebugLevel","vommonLoggingErrorListener","Logger","className","_classCallCheck","toLowerCase","console","warn","this","debugLevel","serverDebugLevel","prefix","url","_createClass","key","value","q","sort","a","b","t","i","length","m","e","error","writeQueue","meth","message","stack","saveLog","method","obj","warning","data1","log","level","indexOf","info","undefined","entry","Date","getTime","l","callback","Core","_Evented","_callSuper","_inherits","widget","model","result","sortedWidgets","getOrderedWidgets","widgets","container","id","isContainer","_isContainedInBox","push","o","Object","keys","ids","target","previews","boudingBox","getBoundingBox","xFactor","x","yFactor","y","xCount","Math","floor","w","yCount","h","xSpace","round","max","ySpace","offSets","box","getBoxById","count","offset","clone","z","group","cloneOff","preview","clones","ModelGeom","boxes","getBoundingBoxByBoxes","screens","screen","children","getParentScreen","oldGroup","newGroup","dif","ModelResizer","getGroupChildResizePosition","list","item","ModelUtil","getArrayFromObject","types","widgetID","childWidget","type","d","boundingBox","DistributeUtil","min","eventType","animation","props","databinding","callbacks","k","hasOwnProperty","v1","v2","_typeof","toString","countProps","r","objectEquals","element","getStyle","widgetViewMode","parentWidget","parent","style","lang","mixin","parts","split","boxID","inherited","lines","line","from","localeCompare","getParentGroup","unshift","selection","parentGroups","Set","add","size","_this","groups","forEach","subId","sub","getAllChildGroups","concat","_this2","slice","getAllGroupChildren","v","zoom","arguments","getZoomed","getZoomedCeil","zoomX","zoomY","getZoomedBox","isZoomed","getUnZoomed","isPreview","zoomedModel","screenSize","zoomedScreen","wid","zoomWidget","orgWidget","orgScreen","difX","difY","points","inheritedModel","createInheritedModel","overwritenWidgets","screenID","inModel","createContaineredModel","createScreenSegmentModel","inScreen","parents","parentID","parentScreen","_addRulersFromParent","_addBackgroundFromParent","parentChildren","j","parentWidgetID","overwritenWidgetID","overwritenWidget","hover","parentCopy","inheritedCopies","parentWidgetPos","_inheried","copy","inheritedScreen","masterScreen","inheritedOrder","copies","inlineModelDesignTokens","inlineAllTemplateVariants","rulers","ruler","version","screenSegments","_loop","segment","segmentParent","getContainedChildWidgets","map","scrn","sortChildren","found","keepTrack","_mixed","mixed","frappe","preload","param","name","start","s","replace","txt","stripHTML","innerHTML","textContent","_getHoverScreen","getHoverScreen","values","sortWidgetList","lastZ","fixMissingZValue","fixed","useIds","isFixed","aFix","bFix","pos","getFromLines","groupLine","topGroup","getTopParentGroup","to","deep","_ids","childID","fromPos","getMasterScreens","isReverse","reverse","filter","Evented","CoreUtil","_Core","getDistributionMatrix","horizontal","getDistributionSets","vertical","sets","end","_addToDisSet","distributedPositions","distances","set","temp","_distributedPositionsInSubSet","tempPositions","positions","overlapps","overlap","_getDisOverlap","merged","splice","c","_getSelectionGroupPositions","_getDistributedPositions","newPos","widgetPos","offSetX","offSetY","distanceX","distanceY","sum","last","space","lastBox","bbx","logLevel","msg","obj2","isBoundingBox","debug","templates","copiedParentWidget","_isBoxChild","_s","JSON","stringify","parse","oldV","newV","resize","abs","oldBoundingBox","newBoundingBox","oneIsTrue","getResponsiveChildPosition","getRelativeChildPosition","up","down","left","right","fixedHorizontal","fixedVertical","newModel","relPos","difLeft","difRight","difUp","difDown","resizeModel","minH","minW","designTokenCssProps","scale","difW","difH","template","variantOf","mixinNewStyles","active","focus","designtokens","inlineBoxDesignToken","screenId","state","stateTokens","cssProp","designTokenId","designToken","isComplex","_templateModified","modified","getTemplatedStyle","getMergedTemplate","templateId","prop","copyOf","grid","getZoomedBoxFast","zoomedWidget","locked","zoomedLine","event","zoomedPoint","getZoomedPointFast","ceil","updateErrorLabelsInScreen","refs","errorLabels","inheritedErrorLabels","mode","widgetStyle","templateStyle","normal","widgetsOnScreens","groupID","source","canvasChildren","getCanvasWidgets","labelStyle","buttonStyle","containerStyle","defaultStyle","defaultImage","screenStyle","textboxStyle","tableStyle","dropdownStyle","checkboxStyle","radioBoxStyle","defaultStyleKeys","paddingKeys","pixelStyles","getDefaultStyle","Label","Container","Button","Default","Screen","TextBox","Table","Image","DropDown","CheckBox","RadioBox","getCustomStyle","app","topN","counts","getCustomStyleCounts","countToStyle","has","getMostUsedStyles","getLabels","getContainer","getButtons","getInputs","getTable","getCheckBox","getRadioBox","getDropDown","getImage","isButton","_widget$props","label","between","_widget$props2","elements","keyCounts","pairs","_dojoWidgetEventListener","_dojoOwnListeners","_dojoWidgetEventListenerIds","stopPropagation","preventDefault","listener","Error","_dojoCleanUpEvent","_dojoCleanUpOwn","value1","value2","value3","value4","value5","$emit","listeners","remove","_removeListener","scope","_hitchArgs","apply","isString","join","method1","pre","_toArray","named","args","f","it","String","Array","isArray","dest","copyFunc","empty","_mixin","arr","css","node","cls","document","getElementById","contains","trim","classes","win","doc","getElementsByTagName","window","scrollRoot","documentElement","clientWidth","clientHeight","render","_vm","_c","_self","class","isWindows","attrs","ref","staticClass","staticRenderFns","data","methods","showSuccess","$refs","setTimeout","hideMessage","showError","showHint","_this3","handler4xx","res","status","alert","Services","getUserService","logout","$router","$root","GUEST","tokenTimedOut","initNLS","language","getLanguage","$i18n","locale","initScroll","navigator","platform","location","href","mounted","_this4","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","setErrorHandler","$on","user","setUser","body","stop","component","Vue","use","VueRouter","matcRoutes","path","meta","hasHeader","hideHeader","routes","viewMode","isPublic","_start","conf","keycloakService","pinia","initConfig","getConfig","sent","auth","setConf","VueI18n","PiniaVuePlugin","config","productionTip","createPinia","router","i18n","fallbackLocale","messages","require","App","$mount","AbstractService","token","headers","Headers","addHeaders","successCallback","errorCallback","logger","Promise","resolve","reject","_cache","fetch","_createDefaultHeader","then","json","onError","catch","err","header","_this5","handler","errorHandler","UserService","_AbstractService","email","role","lastlogin","lastNotification","tos","paidUntil","plan","_signup","abrupt","_post","signup","_x","_login","_callee2","_context2","errors","login","_x2","userID","localStorage","removeItem","Cookies","domain","_delete","password","_get","get","getItem","setTTL","isValidUser","setToken","getToken","_loadById","_callee3","_context3","loadById","_x3","load","u","exp","jwt","parseJwt","ttlTimeout","clearTimeout","waitTime","base64Url","base64","jsonPayload","decodeURIComponent","atob","charCodeAt","setItem","expires","secure","langauge","image","ModelService","change","newName","changes","hash","command","session","appID","events","sendError","annotationId","annotation","test","appId","sessionId","PublicModelService","_ModelService","CommentService","comment","reference","HelpService","texts","all","flatMap","_all","title","paragraphs","p","ImageService","formData","progressHandler","xhr","XMLHttpRequest","open","onprogress","setRequestHeader","onload","response","send","KeyCloakService","REFRESH_INTERVAl","isKeyCloak","initOptions","keycloak","realm","clientId","isInited","Keycloak","init","onLoad","silentCheckSsoRedirectUri","origin","onReady","authenticated","loadUserProfile","_ref","quxUser","username","lastname","setInterval","updateToken","onAuthLogout","_load","_callee4","_context4","_callee5","_context5","getDays","now","created","age","days","getDaysSinceLastNotification","NotificationService","rules","initRules","day","_getNotications","notifications","addUserJourneyNotifications","n","lastUpdate","isNew","getNotications","isDirty","addCount","maxAdd","rule","more","video","details","matches","newNotifcations","flush","Xdetails","loginCount","AIService","_runCodex","runCompletions","runCodex","_runDavinci","runDavinci","_x4","_runCompletions","temperature","maxTokens","prompt","choice","content","_args3","choices","text","extractHTML","t0","_x5","_x6","_x7","ms","yaml","html","_runGPT4Turbo","options","runChatHTML","runGPT4Turbo","_x8","_x9","_x10","_x11","_runGPT","runGPT4","_x12","_x13","_x14","_x15","_runGPT35Turbo","_callee6","_context6","runGPT35Turbo","_x16","_x17","_x18","_x19","_runGPT4TurboYaml","_callee7","_context7","runPrompt","runGPT4TurboYaml","_x20","_x21","_x22","_runChatHTML","_callee8","_context8","_x23","_x24","_x25","_x26","_runPrompt","_callee9","returnType","_choice$message","_args9","_context9","extractYAML","code","_x27","isCustomStyles","_customStyles$screen","_customStyles$button","_customStyles$button2","_customStyles$label","_customStyles$input","_customStyles$input2","_customStyles$input3","customStyles","StyleImporter","background","button","color","input","borderTopColor","substring","_initConfig","getUser","modelId","websocket","ws","WebSocketService","aiService","SymbolService","route","widgetDataProps","_getChached","themes","$new","getCreateTemplates","getDataProperties","default","hookInWidgets","_type","imported","getElementGroup","_group","bbbox","find","ComponentClass","extend","instance","jwtToken","connection","WebSocket","onmessage","handleEvent","onopen","onerror","messageCallback","uuidv4","clientTS","close","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","amdD","amdO","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","every","getter","__esModule","leafPrototypes","getProto","getPrototypeOf","__proto__","ns","create","def","current","getOwnPropertyNames","definition","defineProperty","enumerable","chunkId","reduce","promises","miniCssF","g","globalThis","Function","prototype","inProgress","dataWebpackPrefix","done","script","needAttach","scripts","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","doneFns","parentNode","removeChild","bind","head","appendChild","Symbol","toStringTag","createStylesheet","fullhref","oldTag","linkTag","rel","nonce","onLinkComplete","errorType","realHref","request","insertBefore","nextSibling","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","promise","loadingEnded","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}