"use strict";(self["webpackChunkquant_ux"]=self["webpackChunkquant_ux"]||[]).push([[982],{10950:function(t,e,s){s.d(e,{A:function(){return p}});var o=function(){var t=this,e=t._self._c;return e("div",{class:["MatcLanguagePicker",{MatcToolbarPopUpVisible:t.isVisible}]},[e("a",{staticClass:"MatcToolbarIconButton",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.open.apply(null,arguments)}}},[t.hasLabel?e("span",[t._v(" "+t._s(t.selectedLanguage)+" ")]):t._e(),e("QIcon",{attrs:{icon:"World"}}),t.hasCarret?e("span",{staticClass:"caret"}):t._e()],1),t.isVisible?e("div",{staticClass:"MatcDropDownPopUp",attrs:{role:"menu","data-dojo-attach-point":"popup"}},[e("ul",{attrs:{role:"menu","data-dojo-attach-point":"ul"}},t._l(t.languages,(function(s){return e("li",{key:s.value,on:{click:function(e){return e.stopPropagation(),t.onChangeLanguage(s.value)}}},[e("a",[t._v(t._s(s.label))])])})),0)]):t._e(),t.isVisible?e("div",{staticClass:"MatcDropDownPopUpBackdrop"}):t._e()])},i=[],a=s(44549),r=s(79151),n=s(47681),l=s(15466),h=s(53721),c={name:"LangaugePicker",props:["hasLabel","value"],mixins:[h.A],data:function(){return{isVisible:!1,hasCarret:!1,language:"en",languages:[{label:"English",value:"en"},{label:"Chinese",value:"cn"},{label:"Deutsch",value:"de"},{label:"Portuguese",value:"pt"}]}},components:{QIcon:l.A},computed:{selectedLanguage(){const t=this.languages.find((t=>t.value===this.language));return t?t.label:""}},methods:{open(){this.isVisible=!0,this._mouseDownListener=(0,a.A)(r.A.body(),"click",(t=>{this.close(t)}))},close(){this.isVisible=!1},onChangeLanguage(t){this.language=t,this.logger.log(-1,"onChangeLanguage","entry",t),this.$emit("change",t),this.close()}},async mounted(){this.logger=new n.A("LangaugePicker"),this.value&&(this.language=this.value),this.addTooltip(this.$el,"Change the language","vommondToolTipRightBottom")}},g=c,u=s(81656),d=(0,u.A)(g,o,i,!1,null,null,null),p=d.exports},83425:function(t,e,s){s.d(e,{A:function(){return u}});var o=function(){var t=this,e=t._self._c;return e("div",{class:"MatcLoginPage "+(t.resetToken?"MatcLoginPageReset":"MactMainGradient")},[t.isQuxAuth?e("div",{staticClass:"MatcLoginPageDialog"},[e("div",{staticClass:"MatcLoginPageContainer"},[t.resetToken?t._e():e("div",{staticClass:"MatcToolbarTabs MatcToolbarTabsBig"},[e("a",{class:{MatcToolbarTabActive:"login"===t.tab},on:{click:function(e){return t.setTab("login")}}},[t._v("Login")])]),e("div",{class:" MatcLoginWrapper "+t.tab},[e("div",{staticClass:"MatcLoginContent"},[e("div",{staticClass:"MatcLoginPageSection"},[e("div",{staticClass:"MatcLoginPageForm"},[e("div",{staticClass:"form-group"},[e("label",{},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{placeholder:"Your email",type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),e("div",{staticClass:"form-group has-feedback"},[e("label",{},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"Your password",type:"password"},domProps:{value:t.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errorMessage,expression:"errorMessage"}],staticClass:"MatcErrorLabel"},[t._v(t._s(t.errorMessage))])]),e("div",{staticClass:"MatcButtonBar"},[e("a",{staticClass:"MatcButton MatcButtonPrimary",style:{width:"100%"},on:{click:t.login}},[t._v("Login")]),t.hasLoginError?e("a",{staticClass:"MatcLinkButton",on:{click:t.requestPasswordReset}},[t._v("Reset Password")]):t._e()])])]),t._v(" "),e("div",{staticClass:"MatcLoginContent"},[e("div",{staticClass:"MatcLoginPageSection"},[e("div",{staticClass:"MatcLoginPageForm"},[e("div",{staticClass:"form-group"},[e("label",{},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{placeholder:"Your email",type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),e("div",{staticClass:"form-group has-feedback"},[e("label",{},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"Your password",type:"password"},domProps:{value:t.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signup.apply(null,arguments)},input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("div",{staticClass:"form-group has-feedback"},[e("div",{staticClass:"MatcCheckboxRow"},[e("CheckBox",{attrs:{label:""},model:{value:t.tos,callback:function(e){t.tos=e},expression:"tos"}}),e("span",{on:{click:function(e){t.tos=!0}}},[t._v("I accept the "),e("a",{attrs:{href:"#/tos.html",target:"_blank"}},[t._v("terms of service")])])],1)]),e("span",{staticClass:"MatcErrorLabel"},[t._v(t._s(t.errorMessage))])]),e("div",{staticClass:"MatcButtonBar"},[e("a",{staticClass:"MatcButton MatcButtonPrimary",on:{click:t.signup}},[t._v("SignUp")])])])]),t._v(" "),e("div",{staticClass:"MatcLoginContent"},[t.resetToken?e("div",{staticClass:"MatcLoginPageSection"},[e("div",{staticClass:"MatcLoginPageForm"},[e("div",{staticClass:"form-group"},[e("label",{},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{placeholder:"Your email",type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),e("div",{staticClass:"form-group has-feedback"},[e("label",{},[t._v("New Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"The new password",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),e("span",{staticClass:"MatcErrorLabel"},[t._v(t._s(t.errorMessage))]),e("div",{staticClass:"MatcButtonBar"},[e("a",{staticClass:"MatcButton MatcButtonDanger",on:{click:t.resetPassword}},[t._v("Set new password")])])]):t._e()])])])]):t._e()])},i=[],a=(s(44114),s(28698)),r=s(47681),n=s(60993),l={name:"Header",mixins:[],props:["user"],data:function(){return{hasLoginError:!1,resetToken:!1,email:"",password:"",tos:!1,errorMessage:" ",tab:"login",config:{}}},computed:{isQuxAuth(){return"keycloak"!==a.A.getConfig().auth},allowSignUp(){return this.config&&this.config.user&&!0===this.config.user.allowSignUp}},watch:{user(t){this.logger.log(6,"watch","user >> "+t.email),this.user=t}},components:{CheckBox:n.A},methods:{setTab(t){this.tab=t,this.errorMessage=" "},async resetPassword(){if(this.logger.info("resetPassword","enter ",this.email),this.email.length<2)return void(this.errorMessage="Please enter your email");if(this.password.length<6)return void(this.errorMessage="Password too short");if(this.resetToken.length<6)return void(this.errorMessage="Token is wrong");let t=await a.A.getUserService().reset2(this.email,this.password,this.resetToken);"error"===t.type?this.errorMessage="Someything is wrong":(this.errorMessage="",this.resetToken="",this.tab="login",this.$router.push("/"))},async requestPasswordReset(){this.logger.info("requestPasswordReset","enter ",this.email),await a.A.getUserService().reset(this.email),this.errorMessage="Check you mail."},async login(){this.logger.info("login","enter ",this.email);var t=await a.A.getUserService().login({email:this.email,password:this.password});"error"==t.type?(this.$root.$emit("Error","Wrong login credentials"),this.errorMessage="Login is wrong",this.hasLoginError=!0):(this.$emit("login",t),this.$root.$emit("UserLogin",t),this.hasLoginError=!1)},async signup(){if(this.logger.info("signup","enter ",this.email),this.password.length<6)this.errorMessage="Password too short";else if(!0===this.tos){var t=await a.A.getUserService().signup({email:this.email,password:this.password,tos:this.tos});if("error"==t.type)t.errors.indexOf("user.create.domain")>=0?this.errorMessage="Not the correct domain":t.errors.indexOf("user.create.nosignup")>=0?this.errorMessage="No sign-ups allowed.":t.errors.indexOf("user.email.not.unique")>=0?this.errorMessage="Email is taken":this.errorMessage="Password too short";else{let t=await a.A.getUserService().login({email:this.email,password:this.password});this.$emit("login",t),this.$root.$emit("UserLogin",t),this.logger.log(-1,"signup","exit with login",this.email)}}else this.errorMessage="Please accept terms of service"},initKeyCloak(t){const e=a.A.getUserService();e.init(t)}},async mounted(){this.logger=new r.A("LoginPage"),this.resetToken=this.$route.query.id,this.resetToken&&this.resetToken.length>2&&(this.logger.log(-1,"mounted","reset "),this.tab="reset"),this.config=a.A.getConfig(),this.logger.log(1,"mounted","exit > ")}},h=l,c=s(81656),g=(0,c.A)(h,o,i,!1,null,null,null),u=g.exports},5696:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Matc"},[t.isGuest?e("LoginPage",{attrs:{user:t.user},on:{login:t.onLogin}}):e("div",{staticClass:"MatcContainer"},[t.hasHeader?e("QHeader",{attrs:{user:t.user},on:{login:t.onLogin,logout:t.onLogout}}):t._e(),e("router-view",{on:{logout:t.onLogout}})],1),e("ErrorDialog",{ref:"errorDialog"})],1)},i=[],a=s(83425),r=s(75223),n=s(28698),l=s(47681),h=s(59740),c=s(71364),g=s(97941),u={name:"home",mixins:[],data:function(){return{hasHeader:!1,isDebug:!1,user:{id:-1,name:"Guest",email:"guest@quant-ux.com",role:"guest",lastlogin:0,lastNotification:0,tos:!1,paidUntil:0,plan:"Free"}}},components:{QHeader:r.A,ErrorDialog:h.A,LoginPage:a.A},computed:{isGuest(){return"guest"===this.user.role}},methods:{onLogin(t){this.user=t,this.logger.info("onLogin","exit >> "+this.user.email)},onLogout(t){console.debug("onLogout","enter"),this.user=t,this.logger.info("onLogout","exit >> "+this.user.email)},scrollTop(){window.scrollTo(0,0)},initRoute(){g.A.remove(c.A.body(),"MatcPublic"),g.A.remove(c.A.body(),"MatcVisualEditor"),g.A.remove(c.A.body(),"MatcLight"),this.scrollTop(),!0===this.$route.meta.hasHeader?this.hasHeader=!0:this.hasHeader=!1},showErrorDetails(t,e){this.isDebug&&this.$refs.errorDialog.show(t,e)}},watch:{$route(){this.initRoute()}},async mounted(){this.logger=new l.A("QUX"),l.A.setErrorCallback(((t,e)=>this.showErrorDetails(t,e))),this.initRoute(),this.user=await n.A.getUserService().load(),this.logger.log(-1,"mounted","locale: "+navigator.language),window.onerror=(t,e,s,o,i)=>(this.showErrorDetails(i,e),!0),this.$root.$on("MatcLogout",(t=>{this.onLogout(t)}))}},d=u,p=s(81656),m=(0,p.A)(d,o,i,!1,null,null,null),v=m.exports},82521:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Matc"},[t.isGuest?e("LoginPage",{attrs:{user:t.user},on:{login:t.onLogin}}):e("div",{staticClass:"MatcContainer"},[t.hasHeader?e("QHeader",{attrs:{user:t.user},on:{login:t.onLogin,logout:t.onLogout}}):t._e(),e("router-view",{on:{logout:t.onLogout}})],1),e("ErrorDialog",{ref:"errorDialog"})],1)},i=[],a=s(83425),r=s(75223),n=s(28698),l=s(47681),h=s(59740),c=s(71364),g=s(97941),u={name:"home",mixins:[],data:function(){return{hasHeader:!1,isDebug:!1,user:{id:-1,name:"Guest",email:"guest@quant-ux.com",role:"guest",lastlogin:0,lastNotification:0,tos:!1,paidUntil:0,plan:"Free"}}},components:{QHeader:r.A,ErrorDialog:h.A,LoginPage:a.A},computed:{isGuest(){return"guest"===this.user.role}},methods:{onLogin(t){this.user=t,this.logger.info("onLogin","exit >> "+this.user.email)},onLogout(t){console.debug("onLogout","enter"),this.user=t,this.logger.info("onLogout","exit >> "+this.user.email)},scrollTop(){window.scrollTo(0,0)},initRoute(){g.A.remove(c.A.body(),"MatcPublic"),g.A.remove(c.A.body(),"MatcVisualEditor"),g.A.remove(c.A.body(),"MatcLight"),this.scrollTop(),!0===this.$route.meta.hasHeader?this.hasHeader=!0:this.hasHeader=!1},showErrorDetails(t,e){this.isDebug&&this.$refs.errorDialog.show(t,e)}},watch:{$route(){this.initRoute()}},async mounted(){this.logger=new l.A("QUX"),l.A.setErrorCallback(((t,e)=>this.showErrorDetails(t,e))),this.initRoute();var t=await n.A.getUserService().login({email:this.$route.params.usr,password:this.$route.params.pwd});"error"==t.type?(this.$root.$emit("Error","Wrong login credentials"),this.errorMessage="Login is wrong",this.hasLoginError=!0):(this.$emit("login",t),this.$root.$emit("UserLogin",t),this.hasLoginError=!1),this.user=await n.A.getUserService().load(),this.logger.log(-1,"mounted","locale: "+navigator.language),this.logger.info("login","enter ",this.email),window.onerror=(t,e,s,o,i)=>(this.showErrorDetails(i,e),!0),this.$root.$on("MatcLogout",(t=>{this.onLogout(t)}))}},d=u,p=s(81656),m=(0,p.A)(d,o,i,!1,null,null,null),v=m.exports},21628:function(t,e,s){s.r(e),s.d(e,{default:function(){return g}});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"MatcApps"},[t._v(" Loading... ")])},i=[],a=s(47681),r=s(28698),n={name:"Overview",mixins:[],data:function(){return{}},async mounted(){this.logger=new a.A("TestMobile");let t=this.$route.params.id,e=r.A.getModelService(this.$route),s=await e.findInvitation(t),o={};for(var i in s)o[s[i]]=i;let n=o[1];this.logger.info("mounted","exit > "+n),location.href=`#/r?qr=true&h=${n}`}},l=n,h=s(81656),c=(0,h.A)(l,o,i,!1,null,null,null),g=c.exports},15088:function(t,e,s){s.r(e),s.d(e,{default:function(){return R}});var o=function(){var t=this,e=t._self._c;return e("div",{class:["MatcPublic MatcTestPage",{MatcWindows:t.hasWindows},{MatcTestPageResponsive:t.isResponsive}]},[t.hasSplash?e("Splash",{attrs:{hash:t.hash,model:t.model,settings:t.settings},on:{start:t.renderTest}}):t._e(),e("div",{staticClass:"MatcTestCntr"},[t.showTasks?e("div",{ref:"tastCntr",staticClass:"MatcTestTaskCntr MatcTestContent"},[e("div",{staticClass:"MatcStudioLogo"},[e("img",{ref:"logo",staticClass:"MatcStudioLogo",attrs:{src:s(88610)}}),e("span",{staticClass:"MatcCollapseViewMinHidden"},[t._v("Builder")])]),e("div",{ref:"taskList",staticClass:"MatcTestTaskList MatcScrollContainer"},[t._l(t.getUserTasks(),(function(s){return e("TestTask",{key:s.id,attrs:{task:s,done:t.taskDone[s.id]}})})),t.hasSuccessMessage?e("div",{staticClass:"MatcTestTaskSuccess MatcTestTask"},[e("h4",[t._v(t._s(t.$t("test.task.success-title")))]),e("p",{staticClass:"MatcTestTaskDescription"},[t._v(" "+t._s(t.$t("test.task.success-message"))+" ")])]):t._e()],2)]):t._e(),e("div",{ref:"responsiveScroll",staticClass:"MatcTest"},[e("div",{ref:"cntr",staticClass:"MatcTestSimulatorWrapper"})])])],1)},i=[],a=(s(44114),s(93936)),r=s(97941),n=s(75565),l=s(71364),h=s(44549),c=s(82857),g=s(47681),u=s(78194),d=s(9430),p=s(63637),m=s(33518),v=s(28698),w=s(10953),M=s(64704),f=s(78944),k=s(78460),b=s(53960),y=s(18435),C=s(20864),T=s(36350),S=function(){var t=this,e=t._self._c;return e("div",{class:["MatcTestTask",{MatcTestTaskDone:t.done},{MatcTestTaskCollapased:t.collapsed}]},[e("div",{staticClass:"MatcTestTaskHeader"},[e("h4",[e("QIcon",{staticClass:"MatcChevron",attrs:{icon:"ChevronDown"},on:{click:function(e){t.collapsed=!t.collapsed}}}),t._v(" "+t._s(t.task.name)+" ")],1),t.done?e("div",{staticClass:"MatcTestTaskDoneMarker"},[e("QIcon",{attrs:{icon:"CheckBoxRound"}})],1):t._e()]),t.collapsed?t._e():e("p",{ref:"descriptionBox",staticClass:"MatcTestTaskDescription MatcScrollContainer"},[t._v(" "+t._s(t.task.description)+" ")])])},A=[],L=s(15466),x={name:"TestTask",mixins:[],props:["task","done"],data:function(){return{collapsed:!1}},computed:{},components:{QIcon:L.A},watch:{done(t){t&&(this.collapsed=!0)}},mounted(){}},_=x,P=s(81656),D=(0,P.A)(_,S,A,!1,null,null,null),$=D.exports,E={name:"TestPage",mixins:[d.A,a.A],data:function(){return{isResponsive:!0,hasSuccessMessage:!1,hash:"",hasSplash:!0,true:!1,skipSplash:!1,desktopScaleDirection:"width",desktopOffset:0,responiveOffset:200,settings:null,logging:!0,model:null,step:0,password:"",passwordError:"",simulatorEvents:[],taskDone:{},splashImage:null,forceSimpleBar:!1}},components:{Splash:T.A,TestTask:$},computed:{hasWindows(){return navigator.platform.indexOf("Win")>-1},showTasks(){return!(!this.settings||!this.settings.showTaskInTest)},hasSettings(){return null!==this.settings},menuWidth(){return this.settings&&this.settings.showTaskInTest?256:0}},methods:{postCreate(){this.logger=new g.A("TestPage");const t=this.getHashFromUri();this.logger.log(2,"postCreate","enter",t);const e=this.$route.query.log;if(this.analytics=new k.A,this.initNLS(),(0,m.A)("android")||(0,m.A)("ios")){let s="/#/r?qr=true&h="+t;return s+="false"==e?"&log=false":"&log=true",s+=this.getDataQuery(),void(location=s)}this.db=new u.A,"true"===this.$route.query.s&&(this.logger.log(-1,"postCreate","skipSplash"),this.skipSplash=!0),"true"===this.$route.query.responsive&&(this.isResponsive=!0),setTimeout(n.A.hitch(this,"loadModel"),1),this.logger.log(1,"postCreate","exit")},getDataQuery(){let t="";const e=Object.entries(this.$route.query).filter((t=>"data_"==t[0].slice(0,5)));for(let s of e)t+="&"+s[0]+"="+s[1];return t},getUserTasks(){const t=[];if(this.settings.tasks&&this.settings.tasks)for(let e=0;e<this.settings.tasks.length;e++){const s=this.settings.tasks[e];s.description&&"Enter a description here"!=s.description&&t.push(s)}return t},async loadModel(){this.logger.log(2,"loadModel","enter");var t=this.getHashFromUri();t&&t.length<60?this.showPassword():this.loadModelFromHash(t)},showPassword(){this.logger.log(2,"showPassword","enter"),this.step=6},async setPassword(){this.logger.log(1,"setPassword","enter",this.password);const t=this.getHashFromUri(),e=t+this.password;try{const t=await v.A.getModelService().findAppByHash(e);t?(this.passwordError="",this.loadModelFromHash(e)):this.showPasswordError()}catch(s){this.showPasswordError()}},showPasswordError(){this.passwordError="The password is wrong."},async loadModelFromHash(t){if(this.hash=t,t){const e=await v.A.getModelService().findAppByHash(t);this.setModel(e)}else console.debug("loadModel() > Hash is missing in url");"false"===this.$route.query.log&&(this.logger.log(0,"loadModel","turn off logging"),this.logging=!1),this.screenID=this.$route.query.s,this.debug="true"===this.$route.query.debug},getHashFromUri(){return this.$route.query.a&&this.$route.query.b?Math.random()>.5?(this.logger.log(0,"getHashFromUri","Test version A"),this.$route.query.a):(this.logger.log(0,"getHashFromUri","Test version B"),this.$route.query.b):this.$route.query.h},async setModel(t){if(this.logger.log(2,"setModel","enter > "+t),t){this.model=t;let e=await v.A.getModelService().findTestByHash(this.model,this.hash);this.setTestsettings(e),this.preloadImages(t)}else this.domNode.innerHTML="Sorry, the invitation is not valid...",location.href=location.protocol+"//"+location.host+"/404.html"},capitalizeFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},setTestsettings(t){this.logger.log(1,"setTestsettings","enter > ",t),this.settings=t},preloadImages(t){this.logger.log(-1,"preloadImages","enter"),M.A.load(t,this.hash,this.domNode)},showQRDialog(t){this.stopEvent(t);const e=this.db.div("MatchTestQRDialog MatcPadding").build(),s=this.db.img().build(e);r.A.add(s,"MatcSimulatorQR"),f.A.getQRCode(this.hash,!0,!1,this.getLanguage(),this.getDataQuery()).then((t=>{s.src=t})),this.db.div("MatcHint MatchTestQRDialogHint",this.getNLS("test.qr.headline")).build(e);const o=new p.A;o.popup(e,t.target)},onSimulatorEvent(t){this.simulatorEvents.push(t);let e=new b.A(this.simulatorEvents);e=this.getActionEvents(e);const s=this.settings.tasks,o=this.analytics.getTaskPerformance(e,s,!0);o.data.forEach((t=>{this.$set(this.taskDone,t.task,!0)})),this.settings.showSuccessInTest&&Object.values(this.taskDone).length===s.length&&(this.hasSuccessMessage=!0)},renderTest(){if(this.logger.log(-1,"renderTest","enter",this.settings.showTaskInTest),this.hasSplash=!1,this.renderSimulator(),"desktop"!=this.model.type){let t=this.db.div("MatcTestQRButton  MatcAnimated MatcFadeOut").build(this.domNode);this.db.span("mdi mdi-qrcode MatcMiddle").build(t),this.own((0,h.A)(t,c.A.press,n.A.hitch(this,"showQRDialog"))),setTimeout((()=>{r.A.remove(t,"MatcFadeOut")}),1500)}},renderSimulator(){const t=l.A.getBox();t.w-=this.menuWidth;const e=this.$refs.cntr;return this.simulator=this.renderResponsiceSimulator(e,t),e},renderResponsiceSimulator(t,e){this.logger.log(2,"renderDesktopSimulator","enter ");const s=this.getResponsiveScaleFactor(e);e.w-=64;const o={w:Math.floor(e.w*s),h:Math.floor(e.h*s)-96},i=new C.Ay;i.initApp(this.model,!0);const a=i.resize(o.w,this.model.screenSize.h);o.h=Math.min(a.screenSize.h,o.h);const r=this.db.div("MatchSimulatorWrapper").build(t);r.style.width=Math.round(o.w)+"px",r.style.height=Math.round(o.h)+"px";const n=this.db.div("MatchSimulatorContainer").build(r);n.style.width=Math.round(o.w)+"px",n.style.height=Math.round(o.h)+"px";const l=y.B(n,this.forceSimpleBar),h=this.createSimulator();return h.setResizeListener((t=>{this.logger.log(-1,"renderMobileSimulator","resize",t.w+"/"+t.h),r.style.height=t.h+"px",r.style.width=t.w+"px",n.style.height=t.h+"px",n.style.width=t.w+"px"})),h.mode="width",h.isDesktopTest=!0,h.setInvitation(this.hash),h.placeAt(n),h.setScrollListenTarget(l),h.startup(),h.setModel(a),this.logger.log(2,"renderDesktopSimulator","exit"),h},renderMobileSimulator(t,e){this.logger.log(0,"renderMobileSimulator","enter > "+e.w+","+e.h),r.A.add(l.A.body(),"MatcTestMobile");const s=.75,o={w:Math.floor(e.w*s),h:Math.floor(e.h*s)};let i=this.model.screenSize;o.h<this.model.screenSize.h&&(this.logger.log(-1,"renderMobileSimulator","scale down..."),i=this.getScaledSize(o,"height",this.model));const a=this.db.div("MatchSimulatorWrapper").build(t);a.style.width=Math.round(i.w)+"px",a.style.height=Math.round(i.h)+"px";const n=this.db.div("MatchSimulatorContainer").build(a);n.style.width=Math.round(i.w)+"px",n.style.height=Math.round(i.h)+"px";const h=y.B(n,this.forceSimpleBar),c=this.createSimulator();return c.setResizeListener((t=>{this.logger.log(-1,"renderMobileSimulator","resize",t.w+"/"+t.h),a.style.height=t.h+"px",a.style.width=t.w+"px",n.style.height=t.h+"px",n.style.width=t.w+"px"})),c.setInvitation(this.hash),c.isDesktopTest=!0,c.scrollListenTarget=h?"simpleBar":"parent",c.placeAt(n),c.setModel(this.model),this.logger.log(0,"renderMobileSimulator","exit",i),c},renderDesktopSimulator(t,e){this.logger.log(2,"renderDesktopSimulator","enter ");const s=this.getDesktopScaleFactor(e);e.w-=64;const o={w:Math.floor(e.w*s),h:Math.floor(e.h*s)};let i=this.model.screenSize;o.w<this.model.screenSize.w&&(this.logger.log(0,"renderDesktopSimulator","scale down by width..."),i=this.getScaledSize(o,"width",this.model));const a=this.db.div("MatchSimulatorWrapper").build(t);a.style.width=Math.round(i.w)+"px",a.style.height=Math.round(i.h)+"px";const r=this.db.div("MatchSimulatorContainer").build(a);r.style.width=Math.round(i.w)+"px",r.style.height=Math.round(i.h)+"px";const n=y.B(r,this.forceSimpleBar),l=this.createSimulator();return l.setResizeListener((t=>{this.logger.log(-1,"renderMobileSimulator","resize",t.w+"/"+t.h),a.style.height=t.h+"px",a.style.width=t.w+"px",r.style.height=t.h+"px",r.style.width=t.w+"px"})),l.mode="width",l.isDesktopTest=!0,l.setInvitation(this.hash),l.placeAt(r),l.scrollListenTarget=n?"simpleBar":"parent",l.startup(),l.setModel(this.model),this.logger.log(2,"renderDesktopSimulator","exit"),l},getDesktopScaleFactor(t){const e=(t.w-this.desktopOffset)/t.w;return Math.min(1,e)},getResponsiveScaleFactor(t){const e=(t.w-this.responiveOffset)/t.w;return Math.min(1,e)},createSimulator(){if(this.debug){const t=this.$new(w.A);return t.on("event",(t=>this.onSimulatorEvent(t))),t.mode="debug",t.logData=!1,t}{const t=this.$new(w.A);return t.on("event",(t=>this.onSimulatorEvent(t))),t.mode="debug",t.logData=this.logging,t.applyTestSettings(this.settings),t}}},mounted(){r.A.add(l.A.body(),"MatcPublic"),this.forceSimpleBar&&console.error("forceSimpleBar")}},B=E,H=(0,P.A)(B,o,i,!1,null,null,null),R=H.exports},88610:function(t,e,s){t.exports=s.p+"img/QUXLogoBlack.bff4e4b8.svg"}}]);
//# sourceMappingURL=matc.c2b027b7.js.map