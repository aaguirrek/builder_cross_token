"use strict";(self["webpackChunkquant_ux"]=self["webpackChunkquant_ux"]||[]).push([[982],{10950:function(e,t,s){s.d(t,{A:function(){return v}});var r=function(){var e=this,t=e._self._c;return t("div",{class:["MatcLanguagePicker",{MatcToolbarPopUpVisible:e.isVisible}]},[t("a",{staticClass:"MatcToolbarIconButton",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.open.apply(null,arguments)}}},[e.hasLabel?t("span",[e._v(" "+e._s(e.selectedLanguage)+" ")]):e._e(),t("QIcon",{attrs:{icon:"World"}}),e.hasCarret?t("span",{staticClass:"caret"}):e._e()],1),e.isVisible?t("div",{staticClass:"MatcDropDownPopUp",attrs:{role:"menu","data-dojo-attach-point":"popup"}},[t("ul",{attrs:{role:"menu","data-dojo-attach-point":"ul"}},e._l(e.languages,(function(s){return t("li",{key:s.value,on:{click:function(t){return t.stopPropagation(),e.onChangeLanguage(s.value)}}},[t("a",[e._v(e._s(s.label))])])})),0)]):e._e(),e.isVisible?t("div",{staticClass:"MatcDropDownPopUpBackdrop"}):e._e()])},o=[],a=s(47546),i=s(24634),n=(s(50113),s(26099),s(44549)),l=s(79151),u=s(47681),c=s(15466),h=s(53721),g={name:"LangaugePicker",props:["hasLabel","value"],mixins:[h.A],data:function(){return{isVisible:!1,hasCarret:!1,language:"en",languages:[{label:"English",value:"en"},{label:"Chinese",value:"cn"},{label:"Deutsch",value:"de"},{label:"Portuguese",value:"pt"}]}},components:{QIcon:c.A},computed:{selectedLanguage:function(){var e=this,t=this.languages.find((function(t){return t.value===e.language}));return t?t.label:""}},methods:{open:function(){var e=this;this.isVisible=!0,this._mouseDownListener=(0,n.A)(l.A.body(),"click",(function(t){e.close(t)}))},close:function(){this.isVisible=!1},onChangeLanguage:function(e){this.language=e,this.logger.log(-1,"onChangeLanguage","entry",e),this.$emit("change",e),this.close()}},mounted:function(){var e=this;return(0,i.A)((0,a.A)().mark((function t(){return(0,a.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.logger=new u.A("LangaugePicker"),e.value&&(e.language=e.value),e.addTooltip(e.$el,"Change the language","vommondToolTipRightBottom");case 3:case"end":return t.stop()}}),t)})))()}},d=g,p=s(81656),m=(0,p.A)(d,r,o,!1,null,null,null),v=m.exports},83425:function(e,t,s){s.d(t,{A:function(){return p}});var r=function(){var e=this,t=e._self._c;return t("div",{class:"MatcLoginPage "+(e.resetToken?"MatcLoginPageReset":"MactMainGradient")},[e.isQuxAuth?t("div",{staticClass:"MatcLoginPageDialog"},[t("div",{staticClass:"MatcLoginPageContainer"},[e.resetToken?e._e():t("div",{staticClass:"MatcToolbarTabs MatcToolbarTabsBig"},[t("a",{class:{MatcToolbarTabActive:"login"===e.tab},on:{click:function(t){return e.setTab("login")}}},[e._v("Login")])]),t("div",{class:" MatcLoginWrapper "+e.tab},[t("div",{staticClass:"MatcLoginContent"},[t("div",{staticClass:"MatcLoginPageSection"},[t("div",{staticClass:"MatcLoginPageForm"},[t("div",{staticClass:"form-group"},[t("label",{},[e._v("Email")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{placeholder:"Your email",type:"text"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),t("div",{staticClass:"form-group has-feedback"},[t("label",{},[e._v("Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"Your password",type:"password"},domProps:{value:e.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},input:function(t){t.target.composing||(e.password=t.target.value)}}})]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage,expression:"errorMessage"}],staticClass:"MatcErrorLabel"},[e._v(e._s(e.errorMessage))])]),t("div",{staticClass:"MatcButtonBar"},[t("a",{staticClass:"MatcButton MatcButtonPrimary",style:{width:"100%"},on:{click:e.login}},[e._v("Login")]),e.hasLoginError?t("a",{staticClass:"MatcLinkButton",on:{click:e.requestPasswordReset}},[e._v("Reset Password")]):e._e()])])]),e._v(" "),t("div",{staticClass:"MatcLoginContent"},[t("div",{staticClass:"MatcLoginPageSection"},[t("div",{staticClass:"MatcLoginPageForm"},[t("div",{staticClass:"form-group"},[t("label",{},[e._v("Email")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{placeholder:"Your email",type:"text"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),t("div",{staticClass:"form-group has-feedback"},[t("label",{},[e._v("Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"Your password",type:"password"},domProps:{value:e.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signup.apply(null,arguments)},input:function(t){t.target.composing||(e.password=t.target.value)}}})]),t("div",{staticClass:"form-group has-feedback"},[t("div",{staticClass:"MatcCheckboxRow"},[t("CheckBox",{attrs:{label:""},model:{value:e.tos,callback:function(t){e.tos=t},expression:"tos"}}),t("span",{on:{click:function(t){e.tos=!0}}},[e._v("I accept the "),t("a",{attrs:{href:"#/tos.html",target:"_blank"}},[e._v("terms of service")])])],1)]),t("span",{staticClass:"MatcErrorLabel"},[e._v(e._s(e.errorMessage))])]),t("div",{staticClass:"MatcButtonBar"},[t("a",{staticClass:"MatcButton MatcButtonPrimary",on:{click:e.signup}},[e._v("SignUp")])])])]),e._v(" "),t("div",{staticClass:"MatcLoginContent"},[e.resetToken?t("div",{staticClass:"MatcLoginPageSection"},[t("div",{staticClass:"MatcLoginPageForm"},[t("div",{staticClass:"form-group"},[t("label",{},[e._v("Email")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{placeholder:"Your email",type:"text"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),t("div",{staticClass:"form-group has-feedback"},[t("label",{},[e._v("New Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"The new password",type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),t("span",{staticClass:"MatcErrorLabel"},[e._v(e._s(e.errorMessage))]),t("div",{staticClass:"MatcButtonBar"},[t("a",{staticClass:"MatcButton MatcButtonDanger",on:{click:e.resetPassword}},[e._v("Set new password")])])]):e._e()])])])]):e._e()])},o=[],a=s(47546),i=s(24634),n=(s(44114),s(28698)),l=s(47681),u=s(60993),c={name:"Header",mixins:[],props:["user"],data:function(){return{hasLoginError:!1,resetToken:!1,email:"",password:"",tos:!1,errorMessage:" ",tab:"login",config:{}}},computed:{isQuxAuth:function(){return"keycloak"!==n.A.getConfig().auth},allowSignUp:function(){return this.config&&this.config.user&&!0===this.config.user.allowSignUp}},watch:{user:function(e){this.logger.log(6,"watch","user >> "+e.email),this.user=e}},components:{CheckBox:u.A},methods:{setTab:function(e){this.tab=e,this.errorMessage=" "},resetPassword:function(){var e=this;return(0,i.A)((0,a.A)().mark((function t(){var s;return(0,a.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.logger.info("resetPassword","enter ",e.email),!(e.email.length<2)){t.next=4;break}return e.errorMessage="Please enter your email",t.abrupt("return");case 4:if(!(e.password.length<6)){t.next=7;break}return e.errorMessage="Password too short",t.abrupt("return");case 7:if(!(e.resetToken.length<6)){t.next=10;break}return e.errorMessage="Token is wrong",t.abrupt("return");case 10:return t.next=12,n.A.getUserService().reset2(e.email,e.password,e.resetToken);case 12:s=t.sent,"error"===s.type?e.errorMessage="Someything is wrong":(e.errorMessage="",e.resetToken="",e.tab="login",e.$router.push("/"));case 14:case"end":return t.stop()}}),t)})))()},requestPasswordReset:function(){var e=this;return(0,i.A)((0,a.A)().mark((function t(){return(0,a.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.logger.info("requestPasswordReset","enter ",e.email),t.next=3,n.A.getUserService().reset(e.email);case 3:e.errorMessage="Check you mail.";case 4:case"end":return t.stop()}}),t)})))()},login:function(){var e=this;return(0,i.A)((0,a.A)().mark((function t(){var s;return(0,a.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.logger.info("login","enter ",e.email),t.next=3,n.A.getUserService().login({email:e.email,password:e.password});case 3:s=t.sent,"error"==s.type?(e.$root.$emit("Error","Wrong login credentials"),e.errorMessage="Login is wrong",e.hasLoginError=!0):(e.$emit("login",s),e.$root.$emit("UserLogin",s),e.hasLoginError=!1);case 5:case"end":return t.stop()}}),t)})))()},signup:function(){var e=this;return(0,i.A)((0,a.A)().mark((function t(){var s,r;return(0,a.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.logger.info("signup","enter ",e.email),!(e.password.length<6)){t.next=4;break}return e.errorMessage="Password too short",t.abrupt("return");case 4:if(!0===e.tos){t.next=7;break}return e.errorMessage="Please accept terms of service",t.abrupt("return");case 7:return t.next=9,n.A.getUserService().signup({email:e.email,password:e.password,tos:e.tos});case 9:if(s=t.sent,"error"!=s.type){t.next=14;break}s.errors.indexOf("user.create.domain")>=0?e.errorMessage="Not the correct domain":s.errors.indexOf("user.create.nosignup")>=0?e.errorMessage="No sign-ups allowed.":s.errors.indexOf("user.email.not.unique")>=0?e.errorMessage="Email is taken":e.errorMessage="Password too short",t.next=20;break;case 14:return t.next=16,n.A.getUserService().login({email:e.email,password:e.password});case 16:r=t.sent,e.$emit("login",r),e.$root.$emit("UserLogin",r),e.logger.log(-1,"signup","exit with login",e.email);case 20:case"end":return t.stop()}}),t)})))()},initKeyCloak:function(e){var t=n.A.getUserService();t.init(e)}},mounted:function(){var e=this;return(0,i.A)((0,a.A)().mark((function t(){return(0,a.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.logger=new l.A("LoginPage"),e.resetToken=e.$route.query.id,e.resetToken&&e.resetToken.length>2&&(e.logger.log(-1,"mounted","reset "),e.tab="reset"),e.config=n.A.getConfig(),e.logger.log(1,"mounted","exit > ");case 5:case"end":return t.stop()}}),t)})))()}},h=c,g=s(81656),d=(0,g.A)(h,r,o,!1,null,null,null),p=d.exports},5696:function(e,t,s){s.r(t),s.d(t,{default:function(){return w}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"Matc"},[e.isGuest?t("LoginPage",{attrs:{user:e.user},on:{login:e.onLogin}}):t("div",{staticClass:"MatcContainer"},[e.hasHeader?t("QHeader",{attrs:{user:e.user},on:{login:e.onLogin,logout:e.onLogout}}):e._e(),t("router-view",{on:{logout:e.onLogout}})],1),t("ErrorDialog",{ref:"errorDialog"})],1)},o=[],a=s(47546),i=s(24634),n=s(83425),l=s(75223),u=s(28698),c=s(47681),h=s(59740),g=s(71364),d=s(97941),p={name:"home",mixins:[],data:function(){return{hasHeader:!1,isDebug:!1,user:{id:-1,name:"Guest",email:"guest@quant-ux.com",role:"guest",lastlogin:0,lastNotification:0,tos:!1,paidUntil:0,plan:"Free"}}},components:{QHeader:l.A,ErrorDialog:h.A,LoginPage:n.A},computed:{isGuest:function(){return"guest"===this.user.role}},methods:{onLogin:function(e){this.user=e,this.logger.info("onLogin","exit >> "+this.user.email)},onLogout:function(e){console.debug("onLogout","enter"),this.user=e,this.logger.info("onLogout","exit >> "+this.user.email)},scrollTop:function(){window.scrollTo(0,0)},initRoute:function(){d.A.remove(g.A.body(),"MatcPublic"),d.A.remove(g.A.body(),"MatcVisualEditor"),d.A.remove(g.A.body(),"MatcLight"),this.scrollTop(),!0===this.$route.meta.hasHeader?this.hasHeader=!0:this.hasHeader=!1},showErrorDetails:function(e,t){this.isDebug&&this.$refs.errorDialog.show(e,t)}},watch:{$route:function(){this.initRoute()}},mounted:function(){var e=this;return(0,i.A)((0,a.A)().mark((function t(){return(0,a.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.logger=new c.A("QUX"),c.A.setErrorCallback((function(t,s){return e.showErrorDetails(t,s)})),e.initRoute(),t.next=5,u.A.getUserService().load();case 5:e.user=t.sent,e.logger.log(-1,"mounted","locale: "+navigator.language),window.onerror=function(t,s,r,o,a){return e.showErrorDetails(a,s),!0},e.$root.$on("MatcLogout",(function(t){e.onLogout(t)}));case 9:case"end":return t.stop()}}),t)})))()}},m=p,v=s(81656),f=(0,v.A)(m,r,o,!1,null,null,null),w=f.exports},82521:function(e,t,s){s.r(t),s.d(t,{default:function(){return w}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"Matc"},[e.isGuest?t("LoginPage",{attrs:{user:e.user},on:{login:e.onLogin}}):t("div",{staticClass:"MatcContainer"},[e.hasHeader?t("QHeader",{attrs:{user:e.user},on:{login:e.onLogin,logout:e.onLogout}}):e._e(),t("router-view",{on:{logout:e.onLogout}})],1),t("ErrorDialog",{ref:"errorDialog"})],1)},o=[],a=s(47546),i=s(24634),n=s(83425),l=s(75223),u=s(28698),c=s(47681),h=s(59740),g=s(71364),d=s(97941),p={name:"home",mixins:[],data:function(){return{hasHeader:!1,isDebug:!1,user:{id:-1,name:"Guest",email:"guest@quant-ux.com",role:"guest",lastlogin:0,lastNotification:0,tos:!1,paidUntil:0,plan:"Free"}}},components:{QHeader:l.A,ErrorDialog:h.A,LoginPage:n.A},computed:{isGuest:function(){return"guest"===this.user.role}},methods:{onLogin:function(e){this.user=e,this.logger.info("onLogin","exit >> "+this.user.email)},onLogout:function(e){console.debug("onLogout","enter"),this.user=e,this.logger.info("onLogout","exit >> "+this.user.email)},scrollTop:function(){window.scrollTo(0,0)},initRoute:function(){d.A.remove(g.A.body(),"MatcPublic"),d.A.remove(g.A.body(),"MatcVisualEditor"),d.A.remove(g.A.body(),"MatcLight"),this.scrollTop(),!0===this.$route.meta.hasHeader?this.hasHeader=!0:this.hasHeader=!1},showErrorDetails:function(e,t){this.isDebug&&this.$refs.errorDialog.show(e,t)}},watch:{$route:function(){this.initRoute()}},mounted:function(){var e=this;return(0,i.A)((0,a.A)().mark((function t(){var s;return(0,a.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.logger=new c.A("QUX"),c.A.setErrorCallback((function(t,s){return e.showErrorDetails(t,s)})),e.initRoute(),t.next=5,u.A.getUserService().login({email:e.$route.params.usr,password:e.$route.params.pwd});case 5:return s=t.sent,"error"==s.type?(e.$root.$emit("Error","Wrong login credentials"),e.errorMessage="Login is wrong",e.hasLoginError=!0):(e.$emit("login",s),e.$root.$emit("UserLogin",s),e.hasLoginError=!1),t.next=9,u.A.getUserService().load();case 9:e.user=t.sent,e.logger.log(-1,"mounted","locale: "+navigator.language),e.logger.info("login","enter ",e.email),window.onerror=function(t,s,r,o,a){return e.showErrorDetails(a,s),!0},e.$root.$on("MatcLogout",(function(t){e.onLogout(t)}));case 14:case"end":return t.stop()}}),t)})))()}},m=p,v=s(81656),f=(0,v.A)(m,r,o,!1,null,null,null),w=f.exports},21628:function(e,t,s){s.r(t),s.d(t,{default:function(){return d}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"MatcApps"},[e._v(" Loading... ")])},o=[],a=s(47546),i=s(24634),n=s(47681),l=s(28698),u={name:"Overview",mixins:[],data:function(){return{}},mounted:function(){var e=this;return(0,i.A)((0,a.A)().mark((function t(){var s,r,o,i,u,c;return(0,a.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.logger=new n.A("TestMobile"),s=e.$route.params.id,r=l.A.getModelService(e.$route),t.next=5,r.findInvitation(s);case 5:for(u in o=t.sent,i={},o)i[o[u]]=u;c=i[1],e.logger.info("mounted","exit > "+c),location.href="#/r?qr=true&h=".concat(c);case 11:case"end":return t.stop()}}),t)})))()}},c=u,h=s(81656),g=(0,h.A)(c,r,o,!1,null,null,null),d=g.exports},59046:function(e,t,s){s.r(t),s.d(t,{default:function(){return Q}});var r=function(){var e=this,t=e._self._c;return t("div",{class:["MatcPublic MatcTestPage",{MatcWindows:e.hasWindows},{MatcTestPageResponsive:e.isResponsive}]},[e.hasSplash?t("Splash",{attrs:{hash:e.hash,model:e.model,settings:e.settings},on:{start:e.renderTest}}):e._e(),t("div",{staticClass:"MatcTestCntr"},[e.showTasks?t("div",{ref:"tastCntr",staticClass:"MatcTestTaskCntr MatcTestContent"},[t("div",{staticClass:"MatcStudioLogo"},[t("img",{ref:"logo",staticClass:"MatcStudioLogo",attrs:{src:s(88610)}}),t("span",{staticClass:"MatcCollapseViewMinHidden"},[e._v("Builder")])]),t("div",{ref:"taskList",staticClass:"MatcTestTaskList MatcScrollContainer"},[e._l(e.getUserTasks(),(function(s){return t("TestTask",{key:s.id,attrs:{task:s,done:e.taskDone[s.id]}})})),e.hasSuccessMessage?t("div",{staticClass:"MatcTestTaskSuccess MatcTestTask"},[t("h4",[e._v(e._s(e.$t("test.task.success-title")))]),t("p",{staticClass:"MatcTestTaskDescription"},[e._v(" "+e._s(e.$t("test.task.success-message"))+" ")])]):e._e()],2)]):e._e(),t("div",{ref:"responsiveScroll",staticClass:"MatcTest"},[t("div",{ref:"cntr",staticClass:"MatcTestSimulatorWrapper"})])])],1)},o=[],a=s(47546),i=s(24634),n=s(27262),l=(s(52675),s(89463),s(2008),s(44114),s(34782),s(5506),s(26099),s(16034),s(23500),s(93936)),u=s(97941),c=s(75565),h=s(71364),g=s(44549),d=s(82857),p=s(47681),m=s(78194),v=s(9430),f=s(63637),w=s(33518),M=s(28698),k=s(27442),b=s(64704),A=s(78944),x=s(78460),C=s(53960),T=s(18435),S=s(20864),y=s(99185),L=(s(62010),function(){var e=this,t=e._self._c;return t("div",{class:["MatcTestTask",{MatcTestTaskDone:e.done},{MatcTestTaskCollapased:e.collapsed}]},[t("div",{staticClass:"MatcTestTaskHeader"},[t("h4",[t("QIcon",{staticClass:"MatcChevron",attrs:{icon:"ChevronDown"},on:{click:function(t){e.collapsed=!e.collapsed}}}),e._v(" "+e._s(e.task.name)+" ")],1),e.done?t("div",{staticClass:"MatcTestTaskDoneMarker"},[t("QIcon",{attrs:{icon:"CheckBoxRound"}})],1):e._e()]),e.collapsed?e._e():t("p",{ref:"descriptionBox",staticClass:"MatcTestTaskDescription MatcScrollContainer"},[e._v(" "+e._s(e.task.description)+" ")])])}),_=[],P=s(15466),D={name:"TestTask",mixins:[],props:["task","done"],data:function(){return{collapsed:!1}},computed:{},components:{QIcon:P.A},watch:{done:function(e){e&&(this.collapsed=!0)}},mounted:function(){}},$=D,E=s(81656),B=(0,E.A)($,L,_,!1,null,null,null),R=B.exports,H={name:"TestPage",mixins:[v.A,l.A],data:function(){return{isResponsive:!1,hasSuccessMessage:!1,hash:"",hasSplash:!0,true:!1,skipSplash:!1,desktopScaleDirection:"width",desktopOffset:0,responiveOffset:200,settings:null,logging:!0,model:null,step:0,password:"",passwordError:"",simulatorEvents:[],taskDone:{},splashImage:null,forceSimpleBar:!1}},components:{Splash:y.A,TestTask:R},computed:{hasWindows:function(){return navigator.platform.indexOf("Win")>-1},showTasks:function(){return!(!this.settings||!this.settings.showTaskInTest)},hasSettings:function(){return null!==this.settings},menuWidth:function(){return this.settings&&this.settings.showTaskInTest?256:0}},methods:{postCreate:function(){this.logger=new p.A("TestPage");var e=this.getHashFromUri();this.logger.log(2,"postCreate","enter",e);var t=this.$route.query.log;if(this.analytics=new x.A,this.initNLS(),(0,w.A)("android")||(0,w.A)("ios")){var s="/#/r?qr=true&h="+e;return s+="false"==t?"&log=false":"&log=true",s+=this.getDataQuery(),void(location=s)}this.db=new m.A,"true"===this.$route.query.s&&(this.logger.log(-1,"postCreate","skipSplash"),this.skipSplash=!0),"true"===this.$route.query.responsive&&(this.isResponsive=!0),setTimeout(c.A.hitch(this,"loadModel"),1),this.logger.log(1,"postCreate","exit")},getDataQuery:function(){var e,t="",s=Object.entries(this.$route.query).filter((function(e){return"data_"==e[0].slice(0,5)})),r=(0,n.A)(s);try{for(r.s();!(e=r.n()).done;){var o=e.value;t+="&"+o[0]+"="+o[1]}}catch(a){r.e(a)}finally{r.f()}return t},getUserTasks:function(){var e=[];if(this.settings.tasks&&this.settings.tasks)for(var t=0;t<this.settings.tasks.length;t++){var s=this.settings.tasks[t];s.description&&"Enter a description here"!=s.description&&e.push(s)}return e},loadModel:function(){var e=this;return(0,i.A)((0,a.A)().mark((function t(){var s;return(0,a.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.logger.log(2,"loadModel","enter"),s=e.getHashFromUri(),s&&s.length<60?e.showPassword():e.loadModelFromHash(s);case 3:case"end":return t.stop()}}),t)})))()},showPassword:function(){this.logger.log(2,"showPassword","enter"),this.step=6},setPassword:function(){var e=this;return(0,i.A)((0,a.A)().mark((function t(){var s,r,o;return(0,a.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.logger.log(1,"setPassword","enter",e.password),s=e.getHashFromUri(),r=s+e.password,t.prev=3,t.next=6,M.A.getModelService().findAppByHash(r);case 6:o=t.sent,o?(e.passwordError="",e.loadModelFromHash(r)):e.showPasswordError(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),e.showPasswordError();case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()},showPasswordError:function(){this.passwordError="The password is wrong."},loadModelFromHash:function(e){var t=this;return(0,i.A)((0,a.A)().mark((function s(){var r;return(0,a.A)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(t.hash=e,!e){s.next=8;break}return s.next=4,M.A.getModelService().findAppByHash(e);case 4:r=s.sent,t.setModel(r),s.next=9;break;case 8:console.debug("loadModel() > Hash is missing in url");case 9:"false"===t.$route.query.log&&(t.logger.log(0,"loadModel","turn off logging"),t.logging=!1),t.screenID=t.$route.query.s,t.debug="true"===t.$route.query.debug;case 12:case"end":return s.stop()}}),s)})))()},getHashFromUri:function(){return this.$route.query.a&&this.$route.query.b?Math.random()>.5?(this.logger.log(0,"getHashFromUri","Test version A"),this.$route.query.a):(this.logger.log(0,"getHashFromUri","Test version B"),this.$route.query.b):this.$route.query.h},setModel:function(e){var t=this;return(0,i.A)((0,a.A)().mark((function s(){var r;return(0,a.A)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(t.logger.log(2,"setModel","enter > "+e),!e){s.next=10;break}return t.model=e,s.next=5,M.A.getModelService().findTestByHash(t.model,t.hash);case 5:r=s.sent,t.setTestsettings(r),t.preloadImages(e),s.next=12;break;case 10:t.domNode.innerHTML="Sorry, the invitation is not valid...",location.href=location.protocol+"//"+location.host+"/404.html";case 12:case"end":return s.stop()}}),s)})))()},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},setTestsettings:function(e){this.logger.log(1,"setTestsettings","enter > ",e),this.settings=e},preloadImages:function(e){this.logger.log(-1,"preloadImages","enter"),b.A.load(e,this.hash,this.domNode)},showQRDialog:function(e){this.stopEvent(e);var t=this.db.div("MatchTestQRDialog MatcPadding").build(),s=this.db.img().build(t);u.A.add(s,"MatcSimulatorQR"),A.A.getQRCode(this.hash,!0,!1,this.getLanguage(),this.getDataQuery()).then((function(e){s.src=e})),this.db.div("MatcHint MatchTestQRDialogHint",this.getNLS("test.qr.headline")).build(t);var r=new f.A;r.popup(t,e.target)},onSimulatorEvent:function(e){var t=this;this.simulatorEvents.push(e);var s=new C.A(this.simulatorEvents);s=this.getActionEvents(s);var r=this.settings.tasks,o=this.analytics.getTaskPerformance(s,r,!0);o.data.forEach((function(e){t.$set(t.taskDone,e.task,!0)})),this.settings.showSuccessInTest&&Object.values(this.taskDone).length===r.length&&(this.hasSuccessMessage=!0)},renderTest:function(){if(this.logger.log(-1,"renderTest","enter",this.settings.showTaskInTest),this.hasSplash=!1,this.renderSimulator(),"desktop"!=this.model.type){var e=this.db.div("MatcTestQRButton  MatcAnimated MatcFadeOut").build(this.domNode);this.db.span("mdi mdi-qrcode MatcMiddle").build(e),this.own((0,g.A)(e,d.A.press,c.A.hitch(this,"showQRDialog"))),setTimeout((function(){u.A.remove(e,"MatcFadeOut")}),1500)}},renderSimulator:function(){var e=h.A.getBox();e.w-=this.menuWidth;var t=this.$refs.cntr;return this.isResponsive?this.simulator=this.renderResponsiceSimulator(t,e):"desktop"==this.model.type?this.simulator=this.renderDesktopSimulator(t,e):(t.style.marginRight=this.menuWidth+"px",this.simulator=this.renderMobileSimulator(t,e)),t},renderResponsiceSimulator:function(e,t){var s=this;this.logger.log(2,"renderDesktopSimulator","enter ");var r=this.getResponsiveScaleFactor(t);t.w-=64;var o={w:Math.floor(t.w*r),h:Math.floor(t.h*r)-96},a=new S.Ay;a.initApp(this.model,!0);var i=a.resize(o.w,this.model.screenSize.h);o.h=Math.min(i.screenSize.h,o.h);var n=this.db.div("MatchSimulatorWrapper").build(e);n.style.width=Math.round(o.w)+"px",n.style.height=Math.round(o.h)+"px";var l=this.db.div("MatchSimulatorContainer").build(n);l.style.width=Math.round(o.w)+"px",l.style.height=Math.round(o.h)+"px";var u=T.B(l,this.forceSimpleBar),c=this.createSimulator();return c.setResizeListener((function(e){s.logger.log(-1,"renderMobileSimulator","resize",e.w+"/"+e.h),n.style.height=e.h+"px",n.style.width=e.w+"px",l.style.height=e.h+"px",l.style.width=e.w+"px"})),c.mode="width",c.isDesktopTest=!0,c.setInvitation(this.hash),c.placeAt(l),c.setScrollListenTarget(u),c.startup(),c.setModel(i),this.logger.log(2,"renderDesktopSimulator","exit"),c},renderMobileSimulator:function(e,t){var s=this;this.logger.log(0,"renderMobileSimulator","enter > "+t.w+","+t.h),u.A.add(h.A.body(),"MatcTestMobile");var r=.75,o={w:Math.floor(t.w*r),h:Math.floor(t.h*r)},a=this.model.screenSize;o.h<this.model.screenSize.h&&(this.logger.log(-1,"renderMobileSimulator","scale down..."),a=this.getScaledSize(o,"height",this.model));var i=this.db.div("MatchSimulatorWrapper").build(e);i.style.width=Math.round(a.w)+"px",i.style.height=Math.round(a.h)+"px";var n=this.db.div("MatchSimulatorContainer").build(i);n.style.width=Math.round(a.w)+"px",n.style.height=Math.round(a.h)+"px";var l=T.B(n,this.forceSimpleBar),c=this.createSimulator();return c.setResizeListener((function(e){s.logger.log(-1,"renderMobileSimulator","resize",e.w+"/"+e.h),i.style.height=e.h+"px",i.style.width=e.w+"px",n.style.height=e.h+"px",n.style.width=e.w+"px"})),c.setInvitation(this.hash),c.isDesktopTest=!0,c.scrollListenTarget=l?"simpleBar":"parent",c.placeAt(n),c.setModel(this.model),this.logger.log(0,"renderMobileSimulator","exit",a),c},renderDesktopSimulator:function(e,t){var s=this;this.logger.log(2,"renderDesktopSimulator","enter ");var r=this.getDesktopScaleFactor(t);t.w-=64;var o={w:Math.floor(t.w*r),h:Math.floor(t.h*r)},a=this.model.screenSize;o.w<this.model.screenSize.w&&(this.logger.log(0,"renderDesktopSimulator","scale down by width..."),a=this.getScaledSize(o,"width",this.model));var i=this.db.div("MatchSimulatorWrapper").build(e);i.style.width=Math.round(a.w)+"px",i.style.height=Math.round(a.h)+"px";var n=this.db.div("MatchSimulatorContainer").build(i);n.style.width=Math.round(a.w)+"px",n.style.height=Math.round(a.h)+"px";var l=T.B(n,this.forceSimpleBar),u=this.createSimulator();return u.setResizeListener((function(e){s.logger.log(-1,"renderMobileSimulator","resize",e.w+"/"+e.h),i.style.height=e.h+"px",i.style.width=e.w+"px",n.style.height=e.h+"px",n.style.width=e.w+"px"})),u.mode="width",u.isDesktopTest=!0,u.setInvitation(this.hash),u.placeAt(n),u.scrollListenTarget=l?"simpleBar":"parent",u.startup(),u.setModel(this.model),this.logger.log(2,"renderDesktopSimulator","exit"),u},getDesktopScaleFactor:function(e){var t=(e.w-this.desktopOffset)/e.w;return Math.min(1,t)},getResponsiveScaleFactor:function(e){var t=(e.w-this.responiveOffset)/e.w;return Math.min(1,t)},createSimulator:function(){var e=this;if(this.debug){var t=this.$new(k.A);return t.on("event",(function(t){return e.onSimulatorEvent(t)})),t.mode="debug",t.logData=!1,t}var s=this.$new(k.A);return s.on("event",(function(t){return e.onSimulatorEvent(t)})),s.mode="debug",s.logData=this.logging,s.applyTestSettings(this.settings),s}},mounted:function(){u.A.add(h.A.body(),"MatcPublic"),this.forceSimpleBar&&console.error("forceSimpleBar")}},U=H,q=(0,E.A)(U,r,o,!1,null,null,null),Q=q.exports},88610:function(e,t,s){e.exports=s.p+"img/QUXLogoBlack.bff4e4b8.svg"}}]);
//# sourceMappingURL=matc-legacy.a52c61b4.js.map