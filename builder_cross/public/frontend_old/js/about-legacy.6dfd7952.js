"use strict";(self["webpackChunkquant_ux"]=self["webpackChunkquant_ux"]||[]).push([[594],{60993:function(e,t,a){a.d(t,{A:function(){return v}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"VommondCheckBoxWrapper"},[e._m(0),e.label?t("span",{staticClass:"VommondCheckBoxLabel"},[e._v(e._s(e.label))]):e._e()])},i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"VommondCheckBox"},[t("span",{staticClass:"VommondCheckBoxHook",attrs:{"data-dojo-attach-point":"hook"}})])}],s=a(93936),o=a(97941),r=a(82857),c=a(75565),l=a(44549),u=a(47681),d={name:"CheckBox",mixins:[s.A],data:function(){return{checked:!1}},props:["label","value"],components:{},methods:{postCreate:function(){this.log=new u.A("CheckBox"),this.own((0,l.A)(this.domNode,r.A.press,c.A.hitch(this,"onChange"))),(this.value||"true"===this.value)&&this.setValue(!0)},getValue:function(){return this.checked},setValue:function(e){this.checked=e,e?o.A.add(this.domNode,"VommondCheckBoxChecked"):o.A.remove(this.domNode,"VommondCheckBoxChecked")},setLabel:function(e){this.label=e},onChange:function(e){this.stopEvent(e),this.setValue(!this.checked),this.emit("change",this.checked),this.emit("input",this.checked)}},watch:{value:function(e){this.setValue(e)}},mounted:function(){this.log.log(10,"mounted","enter")}},h=d,m=a(81656),p=(0,m.A)(h,n,i,!1,null,null,null),v=p.exports},87894:function(e,t,a){a.d(t,{A:function(){return p}});a(62010),a(27495),a(5746);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"MatcHelp"},[e.loading?t("span",{staticClass:"MatchHint"},[e._v(" Loading... ")]):t("div",{staticClass:"MatcHelpContentCntr"},[t("h2",[e._v(e._s(e.current.title))]),t("p",{staticClass:"MatcHelpContentParagraph",domProps:{innerHTML:e._s(e.current.body)}}),e.current.image?t("div",{staticClass:"MatcHelpContenImage"},[t("img",{attrs:{src:e.current.image.src}})]):e._e(),e.current.image&&e.current.image.caption?t("caption",[e._v(e._s(e.current.image.caption))]):e._e(),t("div",{staticClass:"MatcHelpContentVideo"},[e.current.video?t("iframe",{attrs:{width:560*e.videoScaleFactor,height:315*e.videoScaleFactor,src:e.current.video.src,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}):e._e()]),e.current.hasContact?t("div",[t("div",{staticClass:"form-group"},[t("label",[e._v("Email")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.contactEmail,expression:"contactEmail"}],staticClass:"form-control MatcIgnoreOnKeyPress",domProps:{value:e.contactEmail},on:{input:function(t){t.target.composing||(e.contactEmail=t.target.value)}}})]),t("div",{staticClass:"form-group"},[t("label",[e._v("Message")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contactMessage,expression:"contactMessage"}],staticClass:"form-control MatcIgnoreOnKeyPress",domProps:{value:e.contactMessage},on:{input:function(t){t.target.composing||(e.contactMessage=t.target.value)}}})]),t("div",{staticClass:"MatcButtonBar"},[t("div",{staticClass:"MatcButton MatcButtonPrimary",on:{click:e.sendContact}},[e._v("Send")]),t("span",{staticClass:"MatcError"},[e._v(" "+e._s(e.contactError)+" ")]),t("span",{staticClass:"MatcSuccess"},[e._v(" "+e._s(e.concatSucess)+" ")])])]):e._e(),e._l(e.current.paragraphs,(function(a){return t("div",{key:a.id,ref:"paragraph",refInFor:!0,class:"MatcHelpContentParagraph "+a.css,attrs:{pid:a.id}},[a.title?t("h3",[e._v(" "+e._s(a.title)+" ")]):e._e(),t("p",{domProps:{innerHTML:e._s(a.body)}}),a.image?t("div",{staticClass:"MatcHelpContenImage"},[t("img",{attrs:{src:a.image.src}})]):e._e(),a.image&&a.image.caption?t("caption",[e._v(e._s(a.image.caption))]):e._e(),a.video?t("iframe",{attrs:{width:560*e.videoScaleFactor,height:315*e.videoScaleFactor,src:a.video.src,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}):e._e()])}))],2),t("div",{},[e.hasSideBar?t("div",{staticClass:"MatcHelpTopics"},[e.hasSearch?t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"MatcCreateSearch MatcIgnoreOnKeyPress form-control",attrs:{type:"search",placeholder:"Search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]):e._e(),e.loading?t("span",{staticClass:"MatchHint"},[e._v(" Loading... ")]):e._e(),t("div",{staticClass:"MatcHelpTopicsCntr"},[e.standalone?t("div",[e._l(e.topics,(function(a){return[t("a",{key:a.id,ref:"links",refInFor:!0,class:[{selected:a.id===e.selected&&!e.selectedParagraph},a.css],attrs:{href:"#/help/"+a.id+".html",topicid:a.id}},[e._v(" "+e._s(a.name)+" ")]),a.id===e.selected?[e._l(a.paragraphs,(function(n,i){return[n.title?t("a",{key:i,ref:"links",refInFor:!0,class:["MatcHelpSubTopic",{selected:n.id===e.selectedParagraph}],attrs:{href:"#/help/"+a.id+"/"+n.id+".html",topicid:n.id}},[e._v(" "+e._s(n.title)+" ")]):e._e()]}))]:e._e()]}))],2):t("div",[e._l(e.topics,(function(a){return[t("a",{key:a.id,ref:"links",refInFor:!0,class:[{selected:a.id===e.selected&&!e.selectedParagraph},a.css],attrs:{topicid:a.id},on:{click:function(t){return e.setTopic(a.id)}}},[e._v(" "+e._s(a.name)+" ")]),a.id===e.selected?[e._l(a.paragraphs,(function(a,n){return[a.title?t("a",{key:n,ref:"links",refInFor:!0,class:["MatcHelpSubTopic",{selected:a.id===e.selectedParagraph}],attrs:{topicid:a.id},on:{click:function(t){return t.stopPropagation(),e.setSupTopic(a.id)}}},[e._v(" "+e._s(a.title)+" ")]):e._e()]}))]:e._e()]}))],2)])]):e._e()])])},i=[],s=a(47546),o=a(24634),r=(a(28706),a(2008),a(50113),a(62062),a(26910),a(26099),a(93936)),c=a(28698),l=a(85471),u={name:"HelpButton",mixins:[r.A],props:["help","standalone"],data:function(){return{texts:[],selected:"getting_started",selectedParagraph:"",search:"",hasSideBar:!0,hasSearch:!1,hasNotifications:!0,contactName:"",contactEmail:"",contactMessage:"",contactError:"",concatSucess:"",videoScaleFactor:1.2}},components:{},computed:{loading:function(){return 0===this.texts.length},current:function(){var e=this,t=this.texts.find((function(t){return t.id===e.selected}));return t||(t=this.texts[0]),t},topics:function(){var e=this.search.toLowerCase();return e.length>2?this.texts.filter((function(t){if(t._all&&t._all.indexOf(e)>=0)return!0})):this.texts}},methods:{setTopic:function(e){this.selected=e,this.selectedParagraph=""},setSupTopic:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.selectedParagraph=e,l.Ay.nextTick((function(){t.focus(e,a)}))},focus:function(e,t){var a=this;if(this.$refs.paragraph){var n=this.$refs.paragraph.find((function(t){return t.getAttribute("pid")===e}));n&&n.scrollIntoView()}setTimeout((function(){if(t&&a.$refs.links){var n=a.$refs.links.find((function(t){return t.getAttribute("topicid")===e}));n&&n.scrollIntoView()}}),100)},convertNotification:function(e){var t={id:"notifications."+e.id,title:e.title,body:e.more};if(e.video){var a=e.video;a.indexOf('src="')>0&&(a=a.substring(a.indexOf('src="')+5),a=a.substring(0,a.indexOf('"'))),t.video={src:a}}return{}},sendContact:function(){var e=this;return(0,o.A)((0,s.A)().mark((function t(){var a;return(0,s.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.contactEmail||!e.contactMessage){t.next=7;break}return t.next=3,c.A.getUserService().contact(e.contactName,e.contactEmail,e.contactMessage);case 3:a=t.sent,a&&(e.$root.$emit("Success","Thanks for contacting us! The dialog will close automatically"),e.concatSucess="Thanks for contacting us! The dialog will close automatically",e.contactError="",setTimeout((function(){e.selected="default"}),2e3)),t.next=9;break;case 7:e.contactError="Please fill out the form",e.concatSucess="";case 9:case"end":return t.stop()}}),t)})))()},setTopicByRoute:function(){this.$route.params.topic&&this.setTopic(this.$route.params.topic),this.$route.params.subtopic&&this.setSupTopic(this.$route.params.subtopic)}},watch:{$route:function(){this.setTopicByRoute()}},mounted:function(){var e=this;return(0,o.A)((0,s.A)().mark((function t(){var a,n;return(0,s.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.standalone&&(e.hasNotifications=!1,e.videoScaleFactor=.9),t.next=3,c.A.getHelpService().getAll();case 3:if(a=t.sent,!e.hasNotifications){t.next=9;break}return t.next=7,c.A.getUserService().getNotications();case 7:n=t.sent,n&&(n.sort((function(e,t){return t.lastUpdate-e.lastUpdate})),a=[{id:"notifications",name:"News",title:"Novedades",body:"\n                    <h1>Builder</h1>\n                    <p>Version 1.0 Lanzada<p>\n                    ",paragraphs:n.map((function(t){return e.convertNotification(t)}))}].concat(a),e.selected="notifications");case 9:e.texts=a,e.selectedParagraph&&l.Ay.nextTick((function(){e.focus(e.selectedParagraph)})),e.standalone&&e.setTopicByRoute();case 12:case"end":return t.stop()}}),t)})))()}},d=u,h=a(81656),m=(0,h.A)(d,n,i,!1,null,"1c8f9462",null),p=m.exports},18995:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var n=function(){var e=this;e._self._c;return e._m(0)},i=[function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"VommondContentContainer"},[t("div",{staticClass:"MatcHeader MactMainGradient MatcHeaderTab bs-docs-header"},[t("div",{staticClass:"container"},[t("div",{staticClass:"row MatcHeaderTopRow"},[t("div",{staticClass:"col-md-12"},[e._v(" Ooopss... Something went wrong! ")])]),t("div",{staticClass:"row MatcHeaderBottomRow"},[t("div",{staticClass:"col-md-12 MatcRight"})])])]),t("div",{staticClass:"MatcContent MatcAbout"},[t("div",{staticClass:"MatcSection MatcSectionOdd"},[t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6"},[e._v(" Something went wrong ")])])])])])])])}],s=a(47546),o=a(24634),r=(a(62010),a(28698)),c={name:"Page404",mixins:[],data:function(){return{name:"",email:"",message:"",done:!1}},methods:{send:function(){var e=this;return(0,o.A)((0,s.A)().mark((function t(){var a;return(0,s.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.A.getUserService().contact(e.name,e.email,e.message);case 2:a=t.sent,a&&(e.done=!0);case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){}},l=c,u=a(81656),d=(0,u.A)(l,n,i,!1,null,null,null),h=d.exports},50759:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var n=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"VommondContentContainer"},[t("div",{staticClass:"MatcContent MatcMarginTopXXL"},[t("div",{staticClass:"MatcSection MatcSectionOdd"},[t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 MatcPaddingBottomXXL"},[t("Help",{attrs:{standalone:!0}})],1)])])])])])])},i=[],s=a(47546),o=a(24634),r=(a(62010),a(28698)),c=a(87894),l={name:"HelpPage",mixins:[],data:function(){return{name:"",email:"",message:"",done:!1}},components:{Help:c.A},methods:{send:function(){var e=this;return(0,o.A)((0,s.A)().mark((function t(){var a;return(0,s.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.A.getUserService().contact(e.name,e.email,e.message);case 2:a=t.sent,a&&(e.done=!0);case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){}},u=l,d=a(81656),h=(0,d.A)(u,n,i,!1,null,null,null),m=h.exports},42431:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var n=function(){var e=this;e._self._c;return e._m(0)},i=[function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"VommondContentContainer"},[t("div",{staticClass:"MatcContent MatcAbout"},[t("div",{staticClass:"MatcSection MatcSectionOdd"},[t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6"},[e._v(" For login has expired. Please login again. ")])])])])])])])}],s=a(28698),o={name:"LogoutPage",mixins:[],data:function(){return{}},methods:{},mounted:function(){setTimeout((function(){s.A.getUserService().logout(),location.href="/"}),3e3)}},r=o,c=a(81656),l=(0,c.A)(r,n,i,!1,null,null,null),u=l.exports},76295:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});a(62010);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"VommondContentContainer"},[t("div",{staticClass:"MatcContent MatcMarginTopXXL"},[t("div",{staticClass:"MatcSection"},[e.user?t("div",{staticClass:"container"},[t("h2",[e._v("My Account")]),t("p",{staticClass:"MatcLead MatcMarginBottomXL"},[e._v(" Change your personal settings here! ")]),t("div",{staticClass:"row"},[e.isQuxAuth?t("div",{staticClass:"col-md-8"},[t("div",{attrs:{"data-dojo-type":"de/vommond/Form"}},[t("div",{staticClass:"form-group MatcHoverHint",on:{dblclick:function(t){e.isEmailDisabled=!1}}},[t("label",[e._v(" Email "),e.isEmailDisabled?t("span",{staticClass:"MatcHint"},[e._v("(double click to edit)")]):e._e()]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],ref:"emailField",staticClass:"form-control",attrs:{type:"email",disabled:e.isEmailDisabled,placeholder:"Your email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),t("div",{staticClass:"form-group"},[t("label",[e._v("Name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Enter your name","data-binding-required":"true"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}})]),t("div",{staticClass:"form-group"},[t("label",[e._v("Lastname")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.lastname,expression:"user.lastname"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Enter your lastname","data-binding-required":"true"},domProps:{value:e.user.lastname},on:{input:function(t){t.target.composing||e.$set(e.user,"lastname",t.target.value)}}})]),t("div",{staticClass:"form-group"},[t("label",[e._v("Homepage")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.homepage,expression:"user.homepage"}],staticClass:"form-control",attrs:{type:"text",placeholder:"http://www.yourpage.com"},domProps:{value:e.user.homepage},on:{input:function(t){t.target.composing||e.$set(e.user,"homepage",t.target.value)}}})]),t("div",{staticClass:"form-group"},[t("label",[e._v("Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"To change, enter new password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),t("div",{staticClass:"form-group"},[t("label",[e._v("Newsletter")]),t("div",[t("CheckBox",{attrs:{label:"I want to receive the newsletter"},model:{value:e.user.newsletter,callback:function(t){e.$set(e.user,"newsletter",t)},expression:"user.newsletter"}})],1)]),t("div",{staticClass:"MatcErrorLabel"},[e._v(" "+e._s(e.error)+" ")]),t("div",{staticClass:"MatcButtonBar"},[t("a",{staticClass:"MatcButton",on:{click:e.save}},[e._v("Save")]),t("a",{staticClass:"MatcLinkButton",attrs:{href:"#/apps/my-apps.html"}},[e._v("Cancel")])])])]):t("div",{staticClass:"col-md-8"},[t("p",{staticClass:"MatcLead MatcMarginBottomXL"},[e._v(" Your credentials are managed in Keycloak. Contact your admin for help. ")])]),t("div",{staticClass:"col-md-2 col-md-offset-1 visible-md-block visible-lg-block"},[t("Label",[e._v("Image")]),t("UserImage",{attrs:{user:e.user},on:{change:e.onImageChanged}})],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-8 MatcMarginTopXXL"},[t("p",{staticClass:"MatcDangerBox"},[e._v(" If you want to delete your account, click "),t("a",{on:{click:e.retire}},[e._v("here")]),e._v(". All your data will be removed, including your prototypes. If you want to save them, export them as *.zip files. ")])])])]):e._e()])])])},i=[],s=a(47546),o=a(24634),r=(a(26099),a(75565)),c=a(44549),l=a(63637),u=a(78194),d=a(47681),h=a(93936),m=a(28698),p=a(60993),v=function(){var e=this;e._self._c;return e._m(0)},f=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"MatcUser MatcUserImageUploader"},[t("div",{staticClass:"MatcCenter MatcInline"},[t("div",{staticClass:"MatcUserImageCntr",attrs:{"data-dojo-attach-point":"imageCntr"}}),t("div",{staticClass:"MatcActionBar",attrs:{"data-dojo-attach-point":"imageActions"}})])])}],g=(a(44114),a(97941)),A=a(82857),C={name:"UserImage",mixins:[h.A],props:["user"],data:function(){return{value:{}}},components:{},methods:{constructor:function(){this.logger=new d.A("UserImageUploader"),this.logger.log(2,"constructor","entry")},postCreate:function(){this._initFileDnD(document.documentElement),this.value=this.user,this.render(this.value)},render:function(e){this.cleanUp();var t=new u.A;if(e.image){t.img("rest/user/"+e.id+"/images/"+e.name+"_"+e.lastname+"/"+e.image,"MatcUserImage").build(this.imageCntr);var a=t.div("MatcActionBarBtn MatcUploadButton","Change").build(this.imageActions);this.file=t.file("MatcImageUploadFile").build(a),this.tempOwn((0,c.A)(this.file,"change",r.A.hitch(this,"_onFileChange")));var n=t.a("MatcActionBarBtn","Remove").build(this.imageActions);this.tempOwn((0,c.A)(n,A.A.press,r.A.hitch(this,"_deleteImage")))}else{var i=t.span(" mdi mdi-plus-circle","").build(this.imageCntr);this.file=t.file("MatcImageUploadFile").build(i),this.tempOwn((0,c.A)(this.file,"change",r.A.hitch(this,"_onFileChange"))),g.A.add(this.imageCntr,"MatcImageUploadAdd"),t.span("MatcHint","Click or Drop file to upload an image").build(this.imageActions)}},cleanUp:function(){this.imageCntr.innerHTML="",this.imageActions.innerHTML="",g.A.remove(this.domNode,"MatcImageUploadDND"),g.A.remove(this.imageCntr,"MatcImageUploadAdd"),this.cleanUpTempListener()},_stop:function(e,t){return t.preventDefault,t.preventDefault(),e?g.A.remove(this.domNode,"MatcImageUploadDND"):g.A.add(this.domNode,"MatcImageUploadDND"),!1},onFileDropped:function(e){e.preventDefault,e.preventDefault(),this.stopEvent(e);var t=e.dataTransfer;return this._files=t.files,g.A.remove(this.domNode,"MatcImageUploadDND"),this._sendFiles(),!1},_onFileChange:function(e){this.stopEvent(e),this._files=this.file.files,g.A.remove(this.domNode,"MatcImageUploadDND"),this._sendFiles()},_sendFiles:function(){for(var e=this,t=m.A.getUserService().getToken(),a=new FormData,n=0;n<this._files.length;n++)a.append("file",this._files[n]);var i=new XMLHttpRequest;i.open("POST","rest/user/"+this.user.id+"/images/"),i.setRequestHeader("Authorization","Bearer "+t),i.onload=function(){200===i.status?e.onUploadDone():e.onUploadError()},i.send(a)},_deleteImage:function(e){var t=this;return(0,o.A)((0,s.A)().mark((function a(){return(0,s.A)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.stopEvent(e),a.next=3,m.A.getUserService().deleteImage(t.value);case 3:t.load(),t.$emit("change");case 5:case"end":return a.stop()}}),a)})))()},onUploadDone:function(){this.load(),this.$emit("change")},load:function(){var e=this;return(0,o.A)((0,s.A)().mark((function t(){var a;return(0,s.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.A.getUserService().loadById(e.value.id);case 2:a=t.sent,e.setUser(a);case 4:case"end":return t.stop()}}),t)})))()},setUser:function(e){this.value=e,this.render(e)},onUploadError:function(){},_initFileDnD:function(e){this._fileDnDListeners=[],this._fileDnDListeners.push((0,c.A)(e,"dragenter",r.A.hitch(this,"_stop",!1))),this._fileDnDListeners.push((0,c.A)(e,"dragover",r.A.hitch(this,"_stop",!1))),this._fileDnDListeners.push((0,c.A)(e,"dragleave",r.A.hitch(this,"_stop",!0))),this._fileDnDListeners.push((0,c.A)(e,"drop",r.A.hitch(this,"onFileDropped")))},_destroyFileDnD:function(){if(this._fileDnDListeners)for(var e=0;e<this._fileDnDListeners.length;e++)this._fileDnDListeners[e].remove();delete this._fileDnDListeners},destroy:function(){this.cleanUpTempListener(),this._destroyFileDnD()}},mounted:function(){}},w=C,_=a(81656),M=(0,_.A)(w,v,f,!1,null,null,null),k=M.exports,x={name:"Finish",mixins:[h.A],data:function(){return{isEmailDisabled:!0,password:"",error:"",user:null,errorHomepage:!1,errorName:!1,errorLastName:!1}},watch:{},components:{CheckBox:p.A,UserImage:k},computed:{isQuxAuth:function(){return"keycloak"!==m.A.getConfig().auth}},methods:{retire:function(){var e=this;return(0,o.A)((0,s.A)().mark((function t(){var a,n,i,o,d,h,m;return(0,s.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.logger.log(0,"retire","entry"),a=new u.A,n=a.div("MatcDialog").build(),i=e.user.name?e.user.name:e.user.email,a.h3("",e.getNLS("user.retire.hi")+i+",").build(n),a.div("MatcMarginTop",e.getNLS("user.retire.msg"),!0).build(n),o=a.div("MatcButtonBar MatcMarginTopXXL").build(n),d=a.a("MatcButton MatcButtonDanger",e.getNLS("btn.delete")).build(o),h=a.a("MatcLinkButton",e.getNLS("btn.cancel")).build(o),m=new l.A,m.popup(n,e.$refs.retireBUTTON),m.own((0,c.A)(d,"click",r.A.hitch(e,"_retireUser",m,n))),m.own((0,c.A)(h,"click",(function(){m.close()})));case 13:case"end":return t.stop()}}),t)})))()},_retireUser:function(e,t){var a=this;m.A.getUserService().retire(this.user),e.shake(),t.innerHTML=this.getNLS("user.retire.cusoon"),e.own((0,c.A)(e,"close",(function(){a.$root.$emit("logout")})))},confirm:function(){var e=this;return new Promise((function(t){var a=new u.A,n=a.div("MatcDialog").build(),i=e.user.name?e.user.name:e.user.email,s=e.getNLS("user.change.email")+e.user.email;a.h3("",e.getNLS("user.change.hi")+i+",").build(n),a.div("MatcMarginTop",s,!0).build(n);var o=a.div("MatcButtonBar MatcMarginTopXXL").build(n),r=a.a("MatcButton MatcButtonRed",e.getNLS("btn.save")).build(o),d=a.a("MatcLinkButton",e.getNLS("btn.cancel")).build(o),h=new l.A;h.popup(n,e.$refs.emailField),h.own((0,c.A)(r,"click",(function(){t(!0),h.close()}))),h.own((0,c.A)(d,"click",(function(){h.close()}))),h.on("close",(function(){t(!1)}))}))},save:function(){var e=this;return(0,o.A)((0,s.A)().mark((function t(){var a,n,i;return(0,s.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.logger.log(0,"save","entry"),a={name:e.user.name,lastname:e.user.lastname,homepage:e.user.homepage,newsletter:e.user.newsletter},e.orginalEmail===e.user.email){t.next=9;break}return t.next=5,e.confirm();case 5:if(n=t.sent,n){t.next=8;break}return t.abrupt("return");case 8:a.email=e.user.email;case 9:if(!(e.password>0)){t.next=17;break}if(!(e.password.length<6)){t.next=16;break}return console.warn("Password too short"),e.error="The password must have at least 6 characters",t.abrupt("return");case 16:a.password=e.password;case 17:return t.next=19,m.A.getUserService().save(e.user._id,a);case 19:i=t.sent,i.errors?(e.logger.error("save","Email taken",e.user.email),e.showError("Email is taken..."),e.error="The email is already taken"):(e.$root.$emit("user",i),e.showSuccess("Account updated"));case 21:case"end":return t.stop()}}),t)})))()},onImageChanged:function(){this.showSuccess("Image changed")}},mounted:function(){var e=this;return(0,o.A)((0,s.A)().mark((function t(){var a;return(0,s.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.logger=new d.A("Finish"),a=m.A.getUserService().load(),m.A.getUserService().loadById(a.id).then((function(t){e.user=t,e.orginalEmail=e.user.email,e.logger.info("mounted","exit >> "+e.user.email)}));case 3:case"end":return t.stop()}}),t)})))()}},b=x,y=(0,_.A)(b,n,i,!1,null,null,null),S=y.exports},63637:function(e,t,a){a.d(t,{A:function(){return A}});var n=a(77552),i=a(36654),s=a(84922),o=a(39203),r=a(97941),c=a(75565),l=a(79151),u=a(44549),d=a(33518),h=a(82857),m=a(18454),p=a(31877),v=a(47681),f=a(53907),g=null,A=function(e){function t(e){var a;return(0,n.A)(this,t),a=(0,s.A)(this,t),a.autoClose=!0,a.wrapperClass="",a.overflow=!1,a.isFullScreen=!1,a.hasCSSAnimation=!1,e&&e.overflow&&(a.overflow=e.overflow),a.log=new v.A("Dialog"),a}return(0,o.A)(t,e),(0,i.A)(t,[{key:"destroy",value:function(){this.log.info("destroy","enter"),g=null,this.cleanUpEvented()}},{key:"setFullScreen",value:function(e){this.hasFullScreen=!0,this.fullScreenListener=e}},{key:"popup",value:function(e,t,a){var n=this;this.log.log(1,"popup","enter"),g=this,p.A.publish("vommond/dialog/open",{});var i=document.createElement("div");if(r.A.add(i,"VommondDialogBackground VommondDialogHidden VommondDialogContentHidden"),this.hasFullScreen){var s=document.createElement("span");r.A.add(s,"VommondDialogFullScreen mdi mdi-fullscreen"),i.appendChild(s),this.own((0,u.A)(s,h.A.press,c.A.hitch(this,"toggleFullScreen",s)))}var o=document.createElement("div");r.A.add(o,"VommondDialogContainer"),i.appendChild(o);var v=document.createElement("div");r.A.add(v,"VommondDialogWrapper"),this.overflow&&r.A.add(v,"VommondDialogWrapperOverflow"),a&&r.A.add(v,a),r.A.add(v,this.wrapperClass),o.appendChild(v);var f=document.createElement("div");r.A.add(f,"VommondDialogContent"),(0,d.A)("mobile")&&(r.A.add(f,"VommondDialogContentMobile"),r.A.add(v,"VommondDialogWrapperMobile")),v.appendChild(f),f.appendChild(e),l.A.body().appendChild(i),this.own((0,u.A)(i,"onmousewheel",c.A.hitch(this,"stopScroll"))),this.own((0,u.A)(i,"mousewheel",c.A.hitch(this,"stopScroll"))),this.own((0,u.A)(i,"DOMMouseScroll",c.A.hitch(this,"stopScroll"))),this.own(p.A.subscribe("matc/canvas/esc",c.A.hitch(this,"close")));var A=this.getStartPos(t),C=m.A.position(v),w=m.A.position(i);this.autoClose&&this.own((0,u.A)(i,h.A.press,c.A.hitch(this,"onBackClick"))),v.style.top=A.y+"px",v.style.height=A.h+"px",v.style.width=A.w+"px",v.style.left=A.x+"px",v.style.top=Math.round((w.h-C.h)/2)+"px",v.style.height=C.h+"px",v.style.width=C.w+"px",v.style.left=Math.round((w.w-C.w)/2)+"px",setTimeout((function(){r.A.remove(i,"VommondDialogHidden")}),1),setTimeout((function(){r.A.remove(i,"VommondDialogContentHidden")}),350),this.hasCSSAnimation&&setTimeout((function(){v.style.transform=""}),500),setTimeout((function(){return n.emitOpen()}),500),this._dialogBackground=i,this.node=e,this.wrapper=v}},{key:"onOpen",value:function(e){this._onOpenCallback=e}},{key:"emitOpen",value:function(){this._onOpenCallback&&this._onOpenCallback()}},{key:"getStartPos",value:function(e){if(e)return m.A.position(e);var t=m.A.position(l.A.body());return{w:0,h:0,x:t.w/2,y:t.h/2}}},{key:"resize",value:function(e){var t=this.wrapper,a=this._dialogBackground;e.appendChild&&(e=m.A.position(e,!0));var n=m.A.position(a);t.style.top=Math.round((n.h-e.h)/2)+"px",t.style.height=e.h+"px",t.style.width=e.w+"px",t.style.left=Math.round((n.w-e.w)/2)+"px"}},{key:"stopScroll",value:function(e){if(this._dialogBackground==e.target)return this.stopEvent(e),!1}},{key:"onBackClick",value:function(e){var t=e.target;t==this._dialogBackground&&(this.stopEvent(e),r.A.add(this._dialogBackground," VommondDialogHidden"),setTimeout(c.A.hitch(this,"close"),300))}},{key:"shake",value:function(){var e=m.A.position(this.wrapper);r.A.add(this.wrapper,"VommondDialogWrapperShake");var t=this.wrapper;setTimeout((function(){t.style.left=e.x+50+"px"}),1),setTimeout((function(){t.style.left=e.x-50+"px"}),51),setTimeout((function(){t.style.left=e.x+50+"px"}),101),setTimeout((function(){t.style.left=e.x-50+"px"}),151),setTimeout((function(){t.style.left=e.x+"px",r.A.remove(t,"VommondDialogWrapperShake")}),201)}},{key:"toggleFullScreen",value:function(e){this.isFullScreen=!this.isFullScreen,this.fullScreenListener&&this.fullScreenListener(this.isFullScreen),this.isFullScreen?(r.A.remove(e,"mdi-fullscreen"),r.A.add(e,"mdi-fullscreen-exit")):(r.A.add(e,"mdi-fullscreen"),r.A.remove(e,"mdi-fullscreen-exit"))}},{key:"hide",value:function(){this.close()}},{key:"close",value:function(){this.emit("close",{}),this._dialogBackground&&l.A.body().removeChild(this._dialogBackground),this.destroy()}}],[{key:"getCurrentDialog",value:function(){return g}}])}(f.A)},3470:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}},5746:function(e,t,a){var n=a(69565),i=a(89228),s=a(28551),o=a(64117),r=a(67750),c=a(3470),l=a(655),u=a(55966),d=a(56682);i("search",(function(e,t,a){return[function(t){var a=r(this),i=o(t)?void 0:u(t,e);return i?n(i,t,a):new RegExp(t)[e](l(a))},function(e){var n=s(this),i=l(e),o=a(t,n,i);if(o.done)return o.value;var r=n.lastIndex;c(r,0)||(n.lastIndex=0);var u=d(n,i);return c(n.lastIndex,r)||(n.lastIndex=r),null===u?-1:u.index}]}))}}]);
//# sourceMappingURL=about-legacy.6dfd7952.js.map