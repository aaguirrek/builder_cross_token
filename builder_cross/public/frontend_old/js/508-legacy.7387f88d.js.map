{"version":3,"file":"js/508-legacy.7387f88d.js","mappings":"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","sources":["webpack://quant-ux/./src/common/CheckBox.vue","webpack://quant-ux/src/common/CheckBox.vue","webpack://quant-ux/./src/common/CheckBox.vue?9a08","webpack://quant-ux/./src/common/CheckBox.vue?d6d2","webpack://quant-ux/./src/common/_Tooltip.vue","webpack://quant-ux/src/common/_Tooltip.vue","webpack://quant-ux/./src/common/_Tooltip.vue?c816","webpack://quant-ux/./src/core/Util.vue","webpack://quant-ux/src/core/Util.vue","webpack://quant-ux/./src/core/Util.vue?067f","webpack://quant-ux/./src/page/QIcon.vue","webpack://quant-ux/src/page/QIcon.vue","webpack://quant-ux/./src/page/QIcon.vue?0cd4","webpack://quant-ux/./src/page/QIcon.vue?0e55","webpack://quant-ux/./src/common/DataFrame.js","webpack://quant-ux/./src/common/Dialog.js","webpack://quant-ux/./src/common/Grouping.js","webpack://quant-ux/./src/core/PerformanceMonitor.js","webpack://quant-ux/./src/dash/Analytics.js","webpack://quant-ux/./node_modules/date-fns/esm/_lib/defaultOptions/index.js","webpack://quant-ux/./node_modules/date-fns/esm/_lib/requiredArgs/index.js","webpack://quant-ux/./node_modules/date-fns/esm/toDate/index.js","webpack://quant-ux/./node_modules/date-fns/esm/compareAsc/index.js","webpack://quant-ux/./node_modules/date-fns/esm/differenceInCalendarMonths/index.js","webpack://quant-ux/./node_modules/date-fns/esm/endOfDay/index.js","webpack://quant-ux/./node_modules/date-fns/esm/endOfMonth/index.js","webpack://quant-ux/./node_modules/date-fns/esm/isLastDayOfMonth/index.js","webpack://quant-ux/./node_modules/date-fns/esm/differenceInMonths/index.js","webpack://quant-ux/./node_modules/date-fns/esm/differenceInMilliseconds/index.js","webpack://quant-ux/./node_modules/date-fns/esm/_lib/roundingMethods/index.js","webpack://quant-ux/./node_modules/date-fns/esm/differenceInSeconds/index.js","webpack://quant-ux/./node_modules/date-fns/esm/locale/en-US/_lib/formatDistance/index.js","webpack://quant-ux/./node_modules/date-fns/esm/locale/_lib/buildFormatLongFn/index.js","webpack://quant-ux/./node_modules/date-fns/esm/locale/en-US/_lib/formatLong/index.js","webpack://quant-ux/./node_modules/date-fns/esm/locale/en-US/_lib/formatRelative/index.js","webpack://quant-ux/./node_modules/date-fns/esm/locale/_lib/buildLocalizeFn/index.js","webpack://quant-ux/./node_modules/date-fns/esm/locale/en-US/_lib/localize/index.js","webpack://quant-ux/./node_modules/date-fns/esm/locale/_lib/buildMatchFn/index.js","webpack://quant-ux/./node_modules/date-fns/esm/locale/_lib/buildMatchPatternFn/index.js","webpack://quant-ux/./node_modules/date-fns/esm/locale/en-US/_lib/match/index.js","webpack://quant-ux/./node_modules/date-fns/esm/locale/en-US/index.js","webpack://quant-ux/./node_modules/date-fns/esm/_lib/defaultLocale/index.js","webpack://quant-ux/./node_modules/date-fns/esm/_lib/assign/index.js","webpack://quant-ux/./node_modules/date-fns/esm/_lib/cloneObject/index.js","webpack://quant-ux/./node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js","webpack://quant-ux/./node_modules/date-fns/esm/formatDistance/index.js","webpack://quant-ux/./src/util/UIUtil.js","webpack://quant-ux/./node_modules/core-js/modules/es.object.entries.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"VommondCheckBoxWrapper\"},[_vm._m(0),(_vm.label)?_c('span',{staticClass:\"VommondCheckBoxLabel\"},[_vm._v(_vm._s(_vm.label))]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"VommondCheckBox\"},[_c('span',{staticClass:\"VommondCheckBoxHook\",attrs:{\"data-dojo-attach-point\":\"hook\"}})])\n}]\n\nexport { render, staticRenderFns }","// eslint-disable-next-line\n<template>\n\t<div class=\"VommondCheckBoxWrapper\">\n\t\t<div class=\"VommondCheckBox\">\n\t\t\t<span class=\"VommondCheckBoxHook\" data-dojo-attach-point=\"hook\">\n\t\t\t</span>\n\t\t</div>\n\t\t<span class=\"VommondCheckBoxLabel\" v-if=\"label\">{{label}}</span>\n\t</div>\n</template>\n\n<style lang=\"scss\">\n @import '../style/vommond.scss';\n</style>\n\n<script>\nimport DojoWidget from 'dojo/DojoWidget'\nimport css from 'dojo/css'\nimport touch from 'dojo/touch'\nimport lang from 'dojo/_base/lang'\nimport on from 'dojo/on'\nimport Logger from 'common/Logger'\n\nexport default {\n  name: 'CheckBox',\n  mixins: [DojoWidget],\n  data: function () {\n    return {\n      checked: false\n    }\n  },\n  props: ['label', 'value'],\n  components: {\n  },\n  methods: {\n\t\tpostCreate (){\n\t\t\tthis.log = new Logger('CheckBox')\n\t\t\tthis.own(on(this.domNode, touch.press, lang.hitch(this, \"onChange\")));\n\t\t\tif(this.value || this.value === \"true\"){\n\t\t\t\tthis.setValue(true);\n\t\t\t}\n\t\t},\n\n\t\tgetValue (){\n\t\t\treturn this.checked;\n\t\t},\n\n\t\tsetValue (value){\n\t\t\tthis.checked = value;\n\t\t\tif(value){\n\t\t\t\tcss.add(this.domNode,\"VommondCheckBoxChecked\") ;\n\t\t\t} else {\n\t\t\t\tcss.remove(this.domNode,\"VommondCheckBoxChecked\") ;\n\t\t\t}\n\t\t},\n\n\t\tsetLabel (l){\n\t\t\tthis.label = l\n\t\t},\n\n\t\tonChange (e){\n\t\t\tthis.stopEvent(e)\n\t\t\tthis.setValue(!this.checked);\n\t\t\tthis.emit(\"change\", this.checked );\n\t\t\tthis.emit(\"input\", this.checked );\n\t\t}\n  },\n  watch: {\n\t\tvalue (v) {\n\t\t\tthis.setValue(v)\n\t\t}\n  },\n  mounted () {\n      this.log.log(10, 'mounted', 'enter')\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CheckBox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CheckBox.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CheckBox.vue?vue&type=template&id=057d039e\"\nimport script from \"./CheckBox.vue?vue&type=script&lang=js\"\nexport * from \"./CheckBox.vue?vue&type=script&lang=js\"\nimport style0 from \"./CheckBox.vue?vue&type=style&index=0&id=057d039e&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./_Tooltip.vue?vue&type=script&lang=js\"\nexport * from \"./_Tooltip.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n<script>\nimport css from \"dojo/css\";\n\nexport default {\n  name: \"_Tooltip\",\n  mixins: [],\n  data: function() {\n    return {};\n  },\n  components: {},\n  methods: {\n    addTooltip(node, txt, customCSS) {\n      const tooltip = document.createElement(\"div\");\n      css.add(tooltip, \"vommondToolTip\");\n      if (customCSS) {\n        css.add(tooltip, customCSS);\n      }\n\n      const arrow = document.createElement(\"div\");\n      tooltip.appendChild(arrow);\n      css.add(arrow, \"vommondToolTipArrow\");\n      css.add(node, \"vommondToolTipCntr\");\n\n      const lbl = document.createElement(\"span\");\n      tooltip.appendChild(lbl);\n      css.add(lbl, \"vommondToolTipLabel\");\n      lbl.innerHTML = txt;\n\n      node.appendChild(tooltip);\n    }\n  },\n  mounted() {}\n};\n</script>\n\n\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./_Tooltip.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./_Tooltip.vue?vue&type=script&lang=js\"","var render, staticRenderFns\nimport script from \"./Util.vue?vue&type=script&lang=js\"\nexport * from \"./Util.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n<script>\nimport DojoWidget from \"dojo/DojoWidget\";\nimport lang from \"dojo/_base/lang\";\nimport css from \"dojo/css\";\nimport win from \"dojo/_base/win\";\nimport DomBuilder from \"common/DomBuilder\";\nimport Layout from \"core/Layout\";\nimport ModelGeom from 'core/ModelGeom'\nimport ModelResizer from 'core/ModelResizer'\nimport ModelUtil from 'core/ModelUtil'\nimport PerformanceMonitor from 'core/PerformanceMonitor'\nimport * as DistributeUtil from 'core/DistributionUtil'\n\nimport * as UIUtil from '../util/UIUtil'\nvar Ring = {};\nvar ProgressBar = {};\nexport default {\n  name: \"Util\",\n  mixins: [Layout, DojoWidget],\n  data: function() {\n    return {\n      eventLabels: {\n        WidgetClick: \"Click\",\n        ScreenLoaded: \"View\",\n        ScreenClick: \"Click\",\n        WidgetChange: \"Change\",\n        ScreenScroll: \"Scroll\",\n        OverlayLoaded: \"View Overlay\",\n        OverlayRemoved: \"Removed Overlay\",\n        ValidationError: \"Widget ValiationError\",\n        ValidationErrorLine: \"Form Validation Error\",\n        ValidationOK: \"Validation OK\",\n        ScreenGesture: \"Gesture\",\n        WidgetGesture: \"Gesture\"\n      },\n      gestureLabels: {\n        swipeLeft: \"Swipe Left\",\n        swipeRight: \"Swipe Right\",\n        swipeUp: \"Swipe Up\",\n        swipeDown: \"Swipe Down\"\n      }\n    };\n  },\n  components: {},\n  methods: {\n\n    getIcons () {\n      return this._matcIcons;\n    },\n\n    fixGestures(events) {\n      events.sort(function(a, b) {\n        return a.time - b.time;\n      });\n      var device = null;\n      var error = 0;\n      for (var i = 0; i < events.length; i++) {\n        var event = events[i];\n        if (event.type == \"SessionStart\") {\n          device = event.device;\n        }\n\n        if (event.type == \"ScreenGesture\" && event.gesture) {\n          if (event.gesture.start && event.gesture.start.x > 1) {\n            if (device) {\n              event.gesture.start.x = Math.min(\n                0.99,\n                event.gesture.start.x / device.w\n              );\n              event.gesture.start.y = Math.min(\n                0.99,\n                event.gesture.start.y / device.h\n              );\n              error++;\n            }\n          }\n          if (event.gesture.end && event.gesture.end.x > 1) {\n            if (device) {\n              event.gesture.end.x = Math.min(\n                0.99,\n                event.gesture.end.x / device.w\n              );\n              event.gesture.end.y = Math.min(\n                0.99,\n                event.gesture.end.y / device.h\n              );\n              error++;\n            }\n          }\n          if (event.gesture.start) {\n            event.x = event.gesture.start.x;\n            event.y = event.gesture.start.y;\n          }\n        }\n        if (event.x > 1 || event.y > 1) {\n          console.warn(\"fixGestures() > exit. No device, could not fix! \");\n        }\n      }\n      if (error) {\n        console.debug(\"fixGestures() > exit. Fixed Errors: \", error);\n      }\n    },\n\n    /**********************************************************************\n     * Distribute Tool\n     **********************************************************************/\n    _distributedPositions (type, ids, boundingBox) {\n        return DistributeUtil.distributedPositions(this.model, type, ids, boundingBox)\n    },\n\n\n    /**********************************************************************\n     * Clone Tool\n     **********************************************************************/\n    getClones(ids, target) {\n      var result = [];\n      var previews = [];\n\n      // 1) get bounding box\n      var boudingBox = this.getBoundingBox(ids);\n\n      var xFactor = 1;\n      if (boudingBox.x > target.x) {\n        xFactor = -1;\n      }\n\n      var yFactor = 1;\n      if (boudingBox.y > target.y) {\n        yFactor = -1;\n      }\n\n      var xCount = Math.floor(target.w / boudingBox.w);\n      var yCount = Math.floor(target.h / boudingBox.h);\n      var xSpace = Math.round(\n        (target.w - xCount * boudingBox.w) / Math.max(1, xCount - 1)\n      );\n      var ySpace = Math.round(\n        (target.h - yCount * boudingBox.h) / Math.max(1, yCount - 1)\n      );\n      //console.debug(\"getClones > x: \", xCount,xSpace, \" y:\", yCount, ySpace, \" >> bb: \", boudingBox.w, boudingBox.h, boudingBox.y)\n\n      var offSets = {};\n      for (let i = 0; i < ids.length; i++) {\n        let id = ids[i];\n        var box = this.getBoxById(id);\n        offSets[id] = {\n          x: box.x - boudingBox.x,\n          y: box.y - boudingBox.y,\n          box: box\n        };\n      }\n\n      // now create grid but not at 0,0\n      var count = 0;\n      for (let x = 0; x < xCount; x++) {\n        for (let y = 0; y < yCount; y++) {\n          if (x != 0 || y != 0) {\n            let id;\n            for (let i = 0; i < ids.length; i++) {\n              id = ids[i];\n              var offset = offSets[id];\n              //console.debug(id,offset.x, offset.y , offset.box.h + ySpace + offset.y)\n              var clone = {\n                w: boudingBox.w,\n                h: boudingBox.h,\n                x: boudingBox.x + (x * (boudingBox.w + xSpace) + offset.x) * xFactor,\n                y: boudingBox.y + (y * (boudingBox.h + ySpace) + offset.y) * yFactor,\n                z: offset.box.z,\n                group: count,\n                cloneOff: id\n              };\n              result.push(clone);\n            }\n            /**\n             * FIXME: Should this be in the loop?\n             */\n            var preview = {\n              w: boudingBox.w,\n              h: boudingBox.h,\n              x: boudingBox.x + x * (boudingBox.w + xSpace) * xFactor,\n              y: boudingBox.y + y * (boudingBox.h + ySpace) * yFactor,\n              z: 0,\n              cloneOff: id\n            };\n            previews.push(preview);\n            count++;\n          }\n        }\n      }\n      return {\n        previews: previews,\n        clones: result\n      };\n    },\n\n    /**********************************************************************\n     * Bounding Box\n     **********************************************************************/\n\n\n    /**\n     * Gets the new position for a group child\n     */\n    _getGroupChildResizePosition(widget, oldGroup, newGroup, dif) {\n      console.warn(\"DEPRECATED: _getGroupChildResizePosition()\")\n      return ModelResizer.getGroupChildResizePosition(widget, oldGroup, newGroup, dif)\n    },\n\n    getObjectFromArray (list, key) {\n      console.error('Util.vue .getObjectFromArray() > DEPRECATED!')\n      return ModelUtil.getObjectFromArray(list, key)\n    },\n\n\n    getWidgetsByDistanceAndType(widget, types) {\n      var result = [];\n\n      if (this.model) {\n        let screen = this.getParentScreen(widget);\n        let children = screen.children;\n\n        for (let i = 0; i < children.length; i++) {\n          let widgetID = children[i];\n\n          if (widgetID != widget.id) {\n            let childWidget = this.model.widgets[widgetID];\n            var type = childWidget.type;\n            if (types.indexOf(type) >= 0) {\n              result.push({\n                d: 0,\n                y: childWidget.y,\n                w: childWidget\n              });\n            }\n          }\n        }\n        result.sort(function(a, b) {\n          return a.y - b.y;\n        });\n      }\n\n      return result;\n    },\n\n    getObjectLength (o) {\n      if (o) {\n        return Object.keys(o).length;\n      } else {\n        return 0;\n      }\n    },\n\n    getEventStateLabel (state) {\n      if (state.type == \"hidden\") {\n        /**\n         * A little hacky\n         */\n        if (state.options.hidden) {\n          return \"Hide Password\";\n        } else {\n          return \"Show Password\";\n        }\n      }\n      if (state.type == \"text\" || state.type == \"typing\") {\n        return \"Change Text\";\n      }\n      if (state.type == \"checked\") {\n        if (state.value) {\n          return \"Checked\";\n        } else {\n          return \"Unchecked\";\n        }\n      }\n\n      if (state.type == \"open\") {\n        return \"Open\";\n      }\n\n      \n      if (state.type == \"select\") {\n        return \"Select\";\n      }\n\n      if (state.type == \"pos\") {\n        return \"Move\";\n      }\n\n      if (state.type == \"open\") {\n        return \"Open Popup\";\n      }\n\n      if (state.type == \"navigate\") {\n        return \"Popup Click\";\n      }\n      return \"Change\";\n    },\n\n    getGestureLabel (type) {\n      if (this.gestureLabels[type]) {\n        return this.gestureLabels[type];\n      }\n      return type;\n    },\n\n    getEventLabel (type) {\n      if (this.eventLabels[type]) {\n        return this.eventLabels[type];\n      }\n      return type;\n    },\n\n    getScreenName (screenID, shortenIfNeeded = false) {\n      if (this.model.screens[screenID] && this.model.screens[screenID].name) {\n        let name = this.model.screens[screenID].name;\n        if (shortenIfNeeded && name.length > 16) {\n          name = name.substring(0, 16) + '...'\n        } \n        return name\n      }\n      return screenID;\n    },\n    \n\n    getWidgetName (widgetID) {\n      if (this.model.widgets[widgetID] && this.model.widgets[widgetID].name) {\n        return this.model.widgets[widgetID].name;\n      }\n      return widgetID;\n    },\n\n    /**\n     * Filters out bad sessions\n     */\n    filterEvents (events, anno) {\n      var bad = {};\n      for (let i = 0; i < anno.length; i++) {\n        var a = anno[i];\n        if (!a.isValid) {\n          bad[a.reference] = true;\n        }\n      }\n\n      var temp = [];\n      var l = events.length;\n      for (let i = 0; i < l; i++) {\n        var e = events[i];\n        if (!bad[e.session]) {\n          temp.push(e);\n        }\n      }\n\n      return temp;\n    },\n\n    /**\n     * Returns all actionable events\n     */\n    getActionEvents (df) {\n      PerformanceMonitor.start('Util.getActionEvents()')\n      const result = df.select(\"type\", \"in\", [\n        \"ScreenClick\",\n        \"WidgetClick\",\n        \"WidgetChange\",\n        \"ValidationError\",\n        \"ValidationErrorLine\",\n        \"ScreenLoaded\",\n        \"OverlayLoaded\",\n        \"OverlayRemoved\",\n        \"ScreenGesture\",\n        \"WidgetGesture\"\n      ]);\n      PerformanceMonitor.end('Util.getActionEvents()')\n      return result\n    },\n\n    /**\n     * Returns all click events\n     */\n    getClickEvents (df) {\n      return df.select(\"type\", \"in\", [\n        \"ScreenClick\",\n        \"WidgetClick\",\n        \"WidgetChange\"\n      ]);\n    },\n\n    createEmptyImage (x, y, name) {\n      return {\n        type: \"Image\",\n        name: name,\n        x: x,\n        y: y,\n        w: 100,\n        h: 100,\n        z: 0,\n        props: {},\n        has: {\n          onclick: true,\n          backgroundImage: true,\n          border: true\n        },\n        actions: {},\n        style: {\n          borderTopRightRadius: 0,\n          borderTopLeftRadius: 0,\n          borderBottomRightRadius: 0,\n          borderBottomLeftRadius: 0,\n          borderTopWidth: 0,\n          borderBottomWidth: 0,\n          borderRightWidth: 0,\n          borderLeftWidth: 0,\n          borderTopColor: \"#333333\",\n          borderBottomColor: \"#333333\",\n          borderRightColor: \"#333333\",\n          borderLeftColor: \"#333333\",\n          backgroundImage: null\n        }\n      };\n    },\n\n    createEmptyScreen (x, y, name) {\n      return {\n        x: x,\n        y: y,\n        h: this.model.screenSize.h,\n        w: this.model.screenSize.w,\n        name: name,\n        type: \"Screen\",\n        style: {\n          background: \"#ffffff\"\n        },\n        min: {\n          w: this.model.screenSize.w,\n          h: this.model.screenSize.h\n        },\n        has: {\n          image: true\n        },\n        props: {\n          start: false\n        },\n        children: []\n      };\n    },\n\n    getAppTypeIcon (model) {\n      if (model.type == \"smartphone\") {\n        return \"mdi mdi-crop-portrait\";\n      } else if (model.type == \"tablet\") {\n        return \"mdi mdi-crop-landscape\";\n      }\n      return \"mdi mdi-crop-landscape\";\n    },\n\n    getDomain () {\n      var host = window.location.hostname;\n      if (host == \"127.0.0.1\" || host == \"flowalytics.com\") {\n        return \"flowalytics.com\";\n      }\n      return \"quant-ux.com\";\n    },\n\n    /***************************************************************************\n     * Render helper  functios\n     ***************************************************************************/\n\n    ring (label, value, p, node, size, color) {\n      if (!size) {\n        size = 200;\n      }\n\n      if (!color) {\n        color = this.RING_BACKGROUND;\n      }\n\n      var ring = this.$new(Ring);\n      ring.width = 10;\n      ring.size = size;\n      ring.color = this.RING_FOREGROUND;\n      ring.backgroundColor = color;\n      ring.setLabel(label);\n      ring.setValue(value);\n      ring.setPs(p);\n      ring.placeAt(node);\n\n      return ring;\n    },\n\n    // simpleStats (label, mean, std, node) {\n    //   var db = this.getDB();\n    //   var cntr = db.div(\"MatcDashNumberContainer\").build(node);\n    //   db.div(\"MatcDashLabel\", label).build(cntr);\n    //   db.div(\"MatcDashNumber\", mean + \" \").build(cntr);\n    //   db.div(\"MatcDashLabelHint\", \"+/- \" + std).build(cntr);\n\n    //   //node.appendChild(cntr);\n    // },\n\n    getDB () {\n      if (!this.domBuilder) {\n        this.domBuilder = new DomBuilder();\n      }\n      return this.domBuilder;\n    },\n\n    progress (label, value, p, id) {\n      var node = document.getElementById(id);\n\n      var row = document.createElement(\"div\");\n      css.add(row, \"row\");\n      node.appendChild(row);\n\n      var col = document.createElement(\"div\");\n      css.add(col, \"col-md-4\");\n      row.appendChild(col);\n\n      var lbl = document.createElement(\"span\");\n      lbl.innerHTML = label;\n      col.appendChild(lbl);\n\n      col = document.createElement(\"div\");\n      css.add(col, \"col-md-8\");\n      row.appendChild(col);\n\n      var bar = this.$new(ProgressBar);\n      bar.color = this.PROGRESS_COLOR;\n      bar.placeAt(col);\n      bar.setValue(p);\n\n      return bar;\n    },\n\n\n    bulletGraph (row, value, emptyMsg) {\n      var db = this.getDB();\n\n      for (var i = 0; i < value.length; i++) {\n        var item = value[i];\n\n        var tr = db.div().build(row);\n        db.div(\"MatcDashCompareTableLabelSmall\", item.label).build(tr);\n        var tdProgress = db.div(\"\").build(tr);\n        css.add(tdProgress, \"MatcDashCompareTableGraph\");\n        var bar = this.$new(ProgressBar);\n        bar.color = this.PROGRESS_COLOR;\n        bar.placeAt(tdProgress);\n        bar.setValue(item.p);\n\n        if (!item.empty) {\n          bar.setLabel(item.a);\n        } else {\n          if (emptyMsg) {\n            bar.setLabel(emptyMsg);\n          }\n        }\n      }\n    },\n\n    bulletGraphTable (row, value, emptyMsg) {\n      var db = this.getDB();\n\n      var tbody = db\n        .table(\" MatcDashCompareTable\")\n        .tbody()\n        .build(row);\n\n      for (var i = 0; i < value.length; i++) {\n        var item = value[i];\n\n        var tr = db.tr().build(tbody);\n        db.td(\"MatcDashCompareTableLabel\", item.label).build(tr);\n        var tdProgress = db.td(\"\").build(tr);\n        if (!item.empty) {\n          css.add(tdProgress, \"MatcDashCompareTableGraph\");\n          var bar = this.$new(ProgressBar);\n          bar.color = true;\n          bar.placeAt(tdProgress);\n          bar.setValue(item.p);\n          bar.setLabel(item.a);\n        } else {\n          if (emptyMsg) {\n            db.span(\"MatcHint MatcLeft\", emptyMsg).build(tdProgress);\n          }\n        }\n      }\n    },\n\n    createUserImage (user, parent) {\n      var imgCntr = document.createElement(\"div\");\n      css.add(imgCntr, \"MatcUserImageCntr\");\n      parent.appendChild(imgCntr);\n\n      if (!user || user.role == \"guest\") {\n        let img = document.createElement(\"div\");\n        css.add(img, \"MatcCommentGuest\");\n        img.innerHTML = '<span class=\"mdi mdi-account\"></span>';\n        imgCntr.appendChild(img);\n      } else if (user.image) {\n        css.add(imgCntr, \"MatcUserImageCntrTrans\");\n\n        let img = document.createElement(\"img\");\n        img.src = \"https://v1.quant-ux.com/rest/user/\" + user.id + \"/images/\" + user.name + \"_\" + user.lastname + \"/\" + user.image;\n        css.add(img, \"MatcUserImage\");\n        imgCntr.appendChild(img);\n      } else {\n        let img = document.createElement(\"div\");\n        css.add(img, \"MatcUserImageNone\");\n        var span = document.createElement(\"span\");\n        img.appendChild(span);\n        css.add(span, \"MatcMiddle MatcUserLetters\");\n        span.innerHTML = this.getUserLetter(user);\n        imgCntr.appendChild(img);\n      }\n\n      return imgCntr;\n    },\n\n    getCommentUserName (comment) {\n      if ((comment.user && comment.user.name) || comment.user.lastname) {\n        return this.getUserName(comment.user);\n      }\n      return \"Guest\";\n    },\n\n    getUserLetter  (user) {\n      let result = ''\n      if (user.name) {\n        result += user.name.substring(0, 1).toUpperCase();\n        if (user.lastname) {\n          result += user.lastname.substring(0, 1).toUpperCase();\n        }\n      } else {\n        let parts = user.email.split('.')\n        if (parts.length > 0) {\n          result += parts[0].substring(0, 1).toUpperCase();\n        }\n        if (parts.length > 1) {\n          result += parts[1].substring(0, 1).toUpperCase();\n        }\n      }\n      return result\n    },\n\n    getUserName (user) {\n      var result = \"\";\n      if (user.name) {\n        result = user.name + \" \";\n      }\n      if (user.lastname) {\n        result += user.lastname;\n      }\n      if (result.length == 0) {\n        result = user.email;\n      }\n\n      return result;\n    },\n\n    resizeSimulatorContainer (model, container, factor) {\n\n      css.add(container, \"MatchSimulatorContainer\");\n\n      var pos;\n      if (model.type == \"desktop\") {\n        pos = win.getBox();\n        pos.w = pos.w * factor;\n        pos.h = pos.h * factor;\n        pos = this.getScaledSize(pos, \"width\", model);\n        container.style.width = Math.round(pos.w) + \"px\";\n        container.style.height = Math.round(pos.h) + \"px\";\n      } else {\n        pos = { w: 150, h: 400 };\n        pos = win.getBox();\n        pos.w = pos.w * factor;\n        pos.h = pos.h * factor;\n\n        pos = this.getScaledSize(pos, \"height\", model);\n\n        container.style.width = Math.ceil(pos.w) + \"px\";\n        container.style.height = Math.ceil(pos.h) + \"px\";\n      }\n\n      return pos;\n    },\n\n   \n    /***************************************************************************\n     * Model access and query functions\n     ***************************************************************************/\n\n    getWidgets (screenID, filter) {\n      var result = [];\n      if (screenID) {\n        var screen = this.model.screens[screenID];\n        if (screen) {\n          var children = screen.children;\n          for (let i = 0; i < children.length; i++) {\n            let widgetID = children[i];\n            let widget = this.model.widgets[widgetID];\n\n            if (widget) {\n              result.push(widget);\n            }\n          }\n        }\n      } else {\n        for (let id in this.model.widgets) {\n          let widget = this.model.widgets[id];\n          result.push(widget);\n        }\n      }\n\n      result.sort(function(a, b) {\n        return a.y - b.y;\n      });\n\n      if (filter) {\n        var temp = [];\n        for (let i = 0; i < result.length; i++) {\n          if (filter(result[i])) {\n            temp.push(result[i]);\n          }\n        }\n        result = temp;\n      }\n\n      return result;\n    },\n\n    /**\n     * returns screen from left to right!\n     */\n    getScreens (app) {\n      if (!app) {\n        app = this.model;\n      }\n\n      var result = [];\n      for (let id in app.screens) {\n        var screen = app.screens[id];\n        result.push(screen);\n      }\n\n      /**\n       * we order by screen flow!\n       */\n      result.sort(function(a, b) {\n        return a.x - b.x;\n      });\n\n      return result;\n    },\n\n    getClickableWidgets (screen) {\n      var result = [];\n      var children = screen.children;\n      for (let i = 0; i < children.length; i++) {\n        let widgetID = children[i];\n        let widget = this.model.widgets[widgetID];\n        if (this.isClickable(widget)) {\n          result.push(widget);\n        }\n      }\n\n      result.sort(function(a, b) {\n        return a.y - b.y;\n      });\n\n      return result;\n    },\n\n    getModelChildren (screen) {\n      var result = [];\n\n      for (let id in this.model.widgets) {\n        let pos = screen.children.indexOf(id);\n        if (pos >= 0) {\n          result.push(this.model.widgets[id]);\n        }\n      }\n\n      return result;\n    },\n\n    getWidgetsWithoutParent () {\n      var result = [];\n\n      var temp = [];\n      for (let id in this.model.screens) {\n        var screen = this.model.screens[id];\n        temp = temp.concat(screen.children);\n      }\n\n      for (let id in this.model.widgets) {\n        var pos = temp.indexOf(id);\n        if (pos < 0) {\n          result.push(this.model.widgets[id]);\n        }\n      }\n\n      return this.getOrderedWidgets(result);\n    },\n\n    getBoxById (id) {\n      if (this.model.widgets[id]) {\n        return this.model.widgets[id];\n      }\n\n      if (this.model.screens[id]) {\n        return this.model.screens[id];\n      }\n\n      if (this.model.templates && this.model.templates[id]) {\n        return this.model.templates[id];\n      }\n\n      /**\n       * Ok, there seems to be an inherited model id???\n       *\n       *\n       */\n      if (!id || !id.split) {\n        console.debug(\"getBoxById() > ID is wrong: \" + id);\n        return null;\n      }\n      var parts = id.split(\"@\");\n      if (parts.length == 2) {\n        var widgetID = parts[0];\n        var screenID = parts[1];\n\n        var screen = this.model.screens[screenID];\n        var parentWidget = this.model.widgets[widgetID];\n        if (screen && parentWidget) {\n          var parentScreen = this.getHoverScreen(parentWidget);\n\n          var difX = parentScreen.x - screen.x;\n          var difY = parentScreen.y - screen.y;\n\n          var copiedParentWidget = lang.clone(parentWidget);\n\n          /**\n           * Super important the ID mapping!!\n           */\n          copiedParentWidget.id = id;\n          copiedParentWidget.inherited = parentWidget.id;\n          copiedParentWidget.inheritedOrder = 1;\n\n          /**\n           * Now lets also put it at the right position!\n           */\n          copiedParentWidget.x -= difX;\n          copiedParentWidget.y -= difY;\n\n          return copiedParentWidget;\n        } else {\n          console.warn(\n            \"getBoxById() > No screen or widget for inherited id \",\n            id\n          );\n        }\n      }\n\n      return null;\n    },\n\n    /***************************************************************************\n     * Line helpers\n     ***************************************************************************/\n\n    getToLines (box) {\n      var result = [];\n\n      for (var id in this.model.lines) {\n        var line = this.model.lines[id];\n        if (line.to == box.id) {\n          result.push(line);\n        }\n      }\n\n      return result;\n    },\n\n    getLines (box, deep) {\n      var result = [];\n\n      var _ids = {};\n\n      for (let id in this.model.lines) {\n        let line = this.model.lines[id];\n        if (line.to == box.id || line.from == box.id) {\n          result.push(line);\n          _ids[line.id] = true;\n        }\n      }\n\n      if (box.children && deep) {\n        for (let i = 0; i < box.children.length; i++) {\n          let childID = box.children[i];\n          for (let id in this.model.lines) {\n            let line = this.model.lines[id];\n            if (!_ids[line.id]) {\n              if (line.from == childID || line.to == childID) {\n                result.push(line);\n              }\n            }\n          }\n        }\n      }\n\n      return result;\n    },\n\n    hasLine (widget) {\n      for (let id in this.model.lines) {\n        let line = this.model.lines[id];\n        if (line.from == widget.id) {\n          return true;\n        }\n      }\n      return false;\n    },\n\n    getLine (widget) {\n      for (let id in this.model.lines) {\n        let line = this.model.lines[id];\n        if (line.from == widget.id) {\n          return line;\n        }\n      }\n      return null;\n    },\n\n    /**\n     * For all line drawing this function returns the widget, or in case of an\n     * group the bounding box!\n     */\n    getFromBox (line) {\n      let fromPos = this.model.widgets[line.from];\n\n      if (!fromPos) {\n        fromPos = this.model.screens[line.from];\n      }\n\n      if (!fromPos && this.model.groups) {\n        /**\n         * no widget, must be a group\n         */\n        const group = this.model.groups[line.from];\n        if (group) {\n          const children = this.getAllGroupChildren(group)\n          fromPos = this.getBoundingBox(children);\n        }\n      }\n\n      return fromPos;\n    },\n\n    getToBox (line) {\n      var to = this.model.screens[line.to];\n      if (!to) {\n        to = this.model.widgets[line.to];\n      }\n\n      if (!to && line.isGroup && this.model.groups) {\n        /**\n         * no widget, must be a group\n         */\n        var group = this.model.groups[line.to];\n        if (group) {\n          to = this.getBoundingBox(group.children);\n        }\n      }\n      return to;\n    },\n\n    /***************************************************************************\n     * template stuff\n     ***************************************************************************/\n\n    getTemplateGroupOrderChildren (group) {\n      /**\n       * render children, and order by\n       * z values\n       */\n      let children = [];\n      for (var i = 0; i < group.children.length; i++) {\n        const id = group.children[i];\n        const child = this.model.templates[id];\n        children.push(child);\n      }\n      /**\n       * oder by z values\n       */\n      children = this.getOrderedWidgets(children);\n\n      return children;\n    },\n\n    /***************************************************************************\n     * UI Geometrix helpers\n     ***************************************************************************/\n\n    getBoundingBox (ids) {\n      return ModelGeom.getBoundingBox(ids, this.model)\n    },\n\n    getBoundingBoxByBoxes (boxes) {\n       return ModelGeom.getBoundingBoxByBoxes(boxes)\n    },\n\n    /**\n     * Returns for a box if it is on any of the screens\n     */\n    getHoverScreen (box) {\n      return ModelGeom.getHoverScreen(box, this.model);\n    },\n\n    _getHoverScreen (box, model) {\n      return ModelGeom.getHoverScreen(box, model);\n    },\n\n    _isBoxChild (obj, parent) {\n      // http://stackoverflow.com/questions/13390333/two-rectangles-intersection\n      if (\n        obj.x + obj.w < parent.x ||\n        parent.x + parent.w < obj.x ||\n        obj.y + obj.h < parent.y ||\n        parent.y + parent.h < obj.y\n      ) {\n        return false;\n      }\n      return true;\n    },\n\n    _isContainedInBox (obj, parent) {\n      if (parent) {\n        if (\n          obj.x >= parent.x &&\n          obj.x + obj.w <= parent.w + parent.x &&\n          (obj.y >= parent.y && obj.y + obj.h <= parent.y + parent.h)\n        ) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /***************************************************************************\n     * Object Compare and Change functios\n     ***************************************************************************/\n\n    countProps (obj) {\n      var count = 0;\n      for (let k in obj) {\n        if (obj.hasOwnProperty(k)) {\n          count++;\n        }\n      }\n      return count;\n    },\n\n    objectEquals (v1, v2) {\n      if (typeof v1 !== typeof v2) {\n        return false;\n      }\n\n      if (typeof v1 === \"function\") {\n        return v1.toString() === v2.toString();\n      }\n\n      if (v1 instanceof Object && v2 instanceof Object) {\n        if (this.countProps(v1) !== this.countProps(v2)) {\n          return false;\n        }\n        var r = true;\n        for (let k in v1) {\n          r = this.objectEquals(v1[k], v2[k]);\n          if (!r) {\n            return false;\n          }\n        }\n        return true;\n      } else {\n        if (v1 === v2) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    },\n\n    /***************************************************************************\n     * Helper functios\n     ***************************************************************************/\n\n    round (value) {\n      return Math.round(value * 100) / 100;\n    },\n\n    formatTime (millis) {\n      millis = Math.round(millis / 1000);\n      return millis + \"s\";\n    },\n\n    formatSTD (value) {\n      return (\n        '<span class=\"MatcDashTableTdHint\">( +/- ' +\n        this.formatNumber(value) +\n        \")</span>\"\n      );\n    },\n\n    formatRound (value) {\n      return Math.round(value * 100) / 100;\n    },\n\n    formatNumber (value) {\n      if (value > 1000000) {\n        value = Math.floor(value / 1000000) + \"M\";\n        return value;\n      }\n\n      if (value > 1000) {\n        value = Math.floor(value / 1000) + \"K\";\n        return value;\n      }\n\n      if (value > 100) {\n        value = Math.floor(value);\n        return value;\n      }\n\n      value = Math.round(value * 10) / 10.0;\n      return value;\n    },\n\n    formatPercent (value) {\n      value = Math.round(value * 100);\n      var cls = \"MatchDashStatusFailure\";\n      if (value > 70) {\n        cls = \"MatchDashStatusSuccess\";\n      } else if (value > 35) {\n        cls = \"MatchDashStatusOK\";\n      }\n      return '<span class=\"' + cls + '\">' + value + \"%</span>\";\n    },\n\n    formatDate (ts, justDate) {\n      return UIUtil.formatDate(ts, justDate)\n    },\n\n    formatString (s, l) {\n      if (s.length > l) {\n        s = s.substring(0, l - 3) + \"...\";\n      }\n      return s;\n    },\n\n    /***************************************************************************\n     * Layer helpers\n     ***************************************************************************/\n\n    /**\n     * Method to make the z-values pretty and ensure that the z values\n     * are consequtive!\n     */\n    getNormalizeWidgetZValues (values) {\n      /**\n       * convert values to a sorted list!\n       */\n      const list = [];\n      for (var id in values) {\n        list.push({\n          id: id,\n          z: values[id]\n        });\n      }\n      this.sortWidgetList(list);\n\n      let z = 0;\n      let lastZ = null;\n      const result = {};\n      for (let i = 0; i < list.length; i++) {\n        let w = list[i];\n        if (lastZ === null || lastZ != w.z) {\n          z++;\n          lastZ = w.z;\n        }\n        result[w.id] = z;\n      }\n\n      return result;\n    },\n\n    getMinZValue (widgets) {\n      var min = 100000;\n      var l = 0;\n      for (var id in widgets) {\n        var w = widgets[id];\n        min = Math.min(w.z, min);\n        l++;\n      }\n      if (l > 0) {\n        return min;\n      } else {\n        return 0;\n      }\n    },\n\n    getMaxZValue (widgets) {\n      var max = -10000;\n\n      var l = 0;\n      for (var id in widgets) {\n        var w = widgets[id];\n        max = Math.max(w.z, max);\n        l++;\n      }\n\n      if (l > 0) {\n        return max;\n      } else {\n        return 0;\n      }\n    },\n\n    getZValues (widgets) {\n      var values = {};\n      for (var id in widgets) {\n        var widget = widgets[id];\n        this.fixMissingZValue(widget);\n        values[id] = widget.z;\n      }\n      return values;\n    }\n  },\n  mounted() {}\n};\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Util.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Util.vue?vue&type=script&lang=js\"","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.icons[_vm.icon])?_c('div',{staticClass:\"MatcQIcon\",on:{\"click\":_vm.onClick,\"mouseover\":_vm.onMouseOver,\"mouseout\":_vm.onMouseOut}},[_c('svg',{class:'MatcQIconSVG ' + _vm.icon,attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 24 24\",\"stroke-width\":\"1.25\",\"stroke\":\"currentColor\",\"fill\":\"none\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"},domProps:{\"innerHTML\":_vm._s(_vm.icons[_vm.icon])}}),(_vm.bubble)?_c('span',{staticClass:\"MatcQIconBubble\"}):_vm._e()]):_c('span',{class:'MatcQIcon ' + _vm.icon,on:{\"click\":_vm.onClick,\"mouseover\":_vm.onMouseOver,\"mouseout\":_vm.onMouseOut}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n<template>\n    <div class=\"MatcQIcon\" @click=\"onClick\" @mouseover=\"onMouseOver\" @mouseout=\"onMouseOut\" v-if=\"icons[icon]\">\n      <svg \n        xmlns=\"http://www.w3.org/2000/svg\" \n        :class=\"'MatcQIconSVG ' + icon\"\n        width=\"18\" \n        height=\"18\" \n        viewBox=\"0 0 24 24\" \n        stroke-width=\"1.25\" \n        stroke=\"currentColor\" \n        fill=\"none\" \n        stroke-linecap=\"round\" \n        stroke-linejoin=\"round\"\n        v-html=\"icons[icon]\">\n      </svg>\n      <span v-if=\"bubble\" class=\"MatcQIconBubble\" ></span>\n    </div>\n    <span v-else :class=\"'MatcQIcon ' + icon\" @click=\"onClick\" @mouseover=\"onMouseOver\" @mouseout=\"onMouseOut\"></span>\n\n  </template>\n  <style lang=\"scss\">\n  @import \"../style/components/icon.scss\";\n</style>\n  <script>\n  import DojoWidget from \"dojo/DojoWidget\";\n  import _Tooltip from \"common/_Tooltip\";\n  import {icons} from './QIconsSVG'\n  export default {\n    name: \"QIcon\",\n    props:['icon', 'tooltip', 'bubble'],\n    mixins: [DojoWidget, _Tooltip],\n    data: function() {\n      return {\n        icons: icons\n      };\n    },\n    components: {},\n    methods: {\n      onMouseOver (e) {\n        this.$emit('mouseover', e)\n      },\n      onMouseOut (e) {\n        this.$emit('mouseout', e)\n      },\n      onClick (e) {\n        this.$emit('click', e)\n      }\n    },\n    mounted() {\n      if (this.tooltip) {\n        this.addTooltip(this.$el, this.tooltip)\n      }\n\n    }\n  };\n  </script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./QIcon.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./QIcon.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./QIcon.vue?vue&type=template&id=273136a4\"\nimport script from \"./QIcon.vue?vue&type=script&lang=js\"\nexport * from \"./QIcon.vue?vue&type=script&lang=js\"\nimport style0 from \"./QIcon.vue?vue&type=style&index=0&id=273136a4&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Grouping from './Grouping'\n\nexport default class DataFrame {\n\n\tconstructor(data) {\n\t\tthis.data = data\n\t\tthis._isDataFrame = true\n\t}\n\n\tas_array() {\n\t\tif (this.data.length) {\n\t\t\treturn this.data;\n\t\t} else {\n\t\t\tvar result = [];\n\t\t\tthis.foreach(function (row) {\n\t\t\t\tresult.push(row);\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tas_dict(key) {\n\t\tconst arr = this.as_array()\n\t\tconst result = {}\n\t\tarr.forEach(row => {\n\t\t\tresult[row[key]] = row\n\t\t})\n\t\treturn result\n\t}\n\n\tpush(row) {\n\t\tif (this.data.push) {\n\t\t\tthis.data.push(row);\n\t\t} else {\n\t\t\tconsole.warn(\"Data is not array. cannot push\");\n\t\t}\n\t}\n\n\n\tselect(column, operator, value) {\n\n\t\tconst result = [];\n\t\tlet inLookup = null\n\t\tif (operator === 'in') {\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\tinLookup = {}\n\t\t\t\tvalue.forEach(v => {\n\t\t\t\t\tinLookup[v] = true\n\t\t\t\t})\t\t\t\t\n\t\t\t}\n\t\t}\n\n\t\tthis.foreach(function (row) {\n\n\t\t\tconst v = row[column];\n\n\t\t\tswitch (operator) {\n\t\t\t\tcase \"==\":\n\t\t\t\t\tif (v == value) {\n\t\t\t\t\t\tresult.push(row);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \">=\":\n\t\t\t\t\tif (v >= value) {\n\t\t\t\t\t\tresult.push(row);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"<=\":\n\t\t\t\t\tif (v <= value) {\n\t\t\t\t\t\tresult.push(row);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \">\":\n\t\t\t\t\tif (v > value) {\n\t\t\t\t\t\tresult.push(row);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"<\":\n\t\t\t\t\tif (v < value) {\n\t\t\t\t\t\tresult.push(row);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"!=\":\n\t\t\t\t\tif (v != value) {\n\t\t\t\t\t\tresult.push(row);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"in\":\n\t\t\t\t\tif (inLookup && inLookup[v]) {\n\t\t\t\t\t\tresult.push(row);\n\t\t\t\t\t} else if (value.indexOf(v) >= 0) {\n\t\t\t\t\t\tresult.push(row);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t\treturn new DataFrame(result);\n\n\t}\n\n\tcolumns() {\n\t\tvar result = [];\n\t\tfor (let i in this.data) {\n\t\t\tlet row = this.data[i];\n\t\t\tfor (let c in row) {\n\t\t\t\tresult.push(c);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\treturn new DataFrame(result);\n\t}\n\n\tshape() {\n\t\tvar l = this.size();\n\t\tvar count = 0;\n\t\tfor (let i in this.data) {\n\t\t\tlet row = this.data[i];\n\t\t\t// could be done with objetc count...\n\t\t\tfor (let c in row) { // eslint-disable-line no-unused-vars\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\tif (count == 0) {\n\t\t\t\tcount = 1;\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\treturn [l, count];\n\t}\n\n\tlength() {\n\t\treturn this.size();\n\t}\n\n\tsize() {\n\t\tif (this.data && this.data.length) {\n\t\t\treturn this.data.length;\n\t\t}\n\n\t\tif (this.data) {\n\t\t\tvar size = 0;\n\t\t\tthis.foreach(function () {\n\t\t\t\tsize++;\n\t\t\t});\n\t\t\treturn size;\n\t\t}\n\t\treturn 0;\n\t}\n\n\n\trow(row, value) {\n\t\tif (value) {\n\t\t\tthis.data[row] = value;\n\t\t} else {\n\t\t\tvar v = this.data[row];\n\t\t\tif (v != null && isNaN(v) && !v._isDataFrame && !v.substring) {\n\t\t\t\treturn new DataFrame(v);\n\t\t\t}\n\t\t\treturn v;\n\t\t}\n\t}\n\n\n\tcolumn(column, value) {\n\t\tif (value) {\n\t\t\tvar data = this.data;\n\t\t\tthis.foreach(function (v, i) {\n\t\t\t\tdata[i][column] = value.get(i);\n\t\t\t}, column);\n\t\t} else {\n\t\t\tlet result = {};\n\t\t\tthis.foreach(function (v, i) {\n\t\t\t\tresult[i] = v;\n\t\t\t}, column);\n\t\t\treturn new DataFrame(result);\n\t\t}\n\t}\n\n\tget(row, column, defaultValue) {\n\t\tif (column != null && row != null) {\n\t\t\treturn this.data[row][column];\n\t\t} else if (row != null) {\n\t\t\t/**\n\t\t\t * FIXME This is very inefficnet! We hsould have some how a kind of variable what tells me\n\t\t\t * what is to do! So in case\n\t\t\t *\n\t\t\t * BUG: is nun returns true for an [2000]\n\t\t\t */\n\t\t\tvar value = this.data[row];\n\n\t\t\tif (value && isNaN(value) && !value._isDataFrame && !value.substring) {\n\t\t\t\treturn new DataFrame(value);\n\t\t\t}\n\n\t\t\tif (value == null || value == undefined) {\n\t\t\t\tvalue = defaultValue;\n\t\t\t}\n\t\t\treturn value;\n\n\t\t}\n\t}\n\t\n\tcol(column) {\n\t\tvar result = [];\n\t\tthis.foreach(function (value, id) {\n\t\t\tresult[id] = value[column];\n\t\t});\n\t\treturn new DataFrame(result);\n\t}\n\n\n\thist(column, bins, p_min, p_max) {\n\t\tvar values = [];\n\t\tvar max = false;\n\t\tvar min = false;\n\t\tthis.foreach(function (value) {\n\n\t\t\tvar v = value;\n\t\t\tif (column) {\n\t\t\t\tv = value[column];\n\t\t\t}\n\n\t\t\tvalues.push(v);\n\t\t\tif (max === false) {\n\t\t\t\tmax = v;\n\t\t\t} else {\n\t\t\t\tmax = Math.max(max, v);\n\t\t\t}\n\n\t\t\tif (min === false) {\n\t\t\t\tmin = v;\n\t\t\t} else {\n\t\t\t\tmin = Math.min(min, v);\n\t\t\t}\n\t\t});\n\n\t\tif (p_min != null && p_min != undefined) {\n\t\t\tmin = p_min;\n\t\t}\n\n\t\tif (p_max != null && p_max != undefined) {\n\t\t\tmax = p_max;\n\t\t}\n\n\n\t\tvar width = (max - min) / bins;\n\n\t\tvar buckets = [];\n\t\tfor (let i = 0; i < bins; i++) {\n\t\t\tbuckets[i] = {\n\t\t\t\tbucket: i,\n\t\t\t\tcount: 0,\n\t\t\t\tfrom: (i * width) + min,\n\t\t\t\tto: ((i + 1) * width) + min\n\t\t\t}\n\t\t}\n\n\n\n\t\tfor (let i = 0; i < values.length; i++) {\n\t\t\tvar v = values[i];\n\t\t\t/**\n\t\t\t * FIXME: This is somehow stupidly naive. Can't we calcute the\n\t\t\t * bucket number somehow like:\n\t\t\t *\n\t\t\t *  var norm_v = v - min;\n\t\t\t *  var b = Math.min(bins-1, Math.round(norm_v * width));\n\t\t\t *\n\t\t\t *  The round is false in here...\n\t\t\t */\n\n\t\t\t/**\n\t\t\t * We take the first bucket that fits!!!\n\t\t\t */\n\t\t\tfor (var b = 0; b < bins; b++) {\n\t\t\t\tvar bucket = buckets[b];\n\t\t\t\tif (v >= bucket.from && v <= bucket.to) {\n\t\t\t\t\tbucket.count++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\treturn new DataFrame(buckets);\n\t}\n\n\n\n\n\t/**\n\t * shall not be used!\n\t */\n\tset(row, column, value) {\n\t\tif (column != null && row != null) {\n\t\t\tthis.data[row][column] = value;\n\t\t} else if (row != null) {\n\t\t\tthis.data[row] = value;\n\t\t}\n\t}\n\n\tsortBy(column, desc) {\n\t\t/**\n\t\t * FIXME\n\t\t */\n\t\tif (this.data.length || this.data.length == 0) {\n\n\t\t\tthis.data.sort(function (a, b) {\n\n\t\t\t\tif (a._isDataFrame && b._isDataFrame) {\n\t\t\t\t\tif (desc) {\n\t\t\t\t\t\treturn b.get(column) - a.get(column);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn a.get(column) - b.get(column);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tif (desc) {\n\t\t\t\t\t\treturn b[column] - a[column];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn a[column] - b[column];\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t} else {\n\t\t\tconsole.error(\"Can onyl sort array of objects!\");\n\t\t}\n\t}\n\n\tadd(column, value) {\n\t\tif (!value) {\n\t\t\tvalue = column;\n\t\t\tcolumn = null;\n\t\t}\n\t\tif (value._isDataFrame) {\n\t\t\tthis.foreach(function (v, i) {\n\t\t\t\treturn v + value.get(i);\n\t\t\t}, column);\n\t\t} else {\n\t\t\tthis.foreach(function (v) {\n\t\t\t\treturn v + value;\n\t\t\t}, column);\n\t\t}\n\n\t}\n\n\tminus(column, value) {\n\t\tif (!value) {\n\t\t\tvalue = column;\n\t\t\tcolumn = null;\n\t\t}\n\t\tif (value._isDataFrame) {\n\t\t\tconsole.debu\n\t\t\tthis.foreach(function (v, i) {\n\t\t\t\treturn v - value.get(i);\n\t\t\t}, column);\n\t\t} else {\n\t\t\tthis.foreach(function (v) {\n\t\t\t\treturn v - value;\n\t\t\t}, column);\n\t\t}\n\t}\n\n\tmutliply(column, value) {\n\t\tif (!value) {\n\t\t\tvalue = column;\n\t\t\tcolumn = null;\n\t\t}\n\t\tif (value._isDataFrame) {\n\t\t\tthis.foreach(function (v, i) {\n\t\t\t\treturn v * value.get(i);\n\t\t\t}, column);\n\t\t} else {\n\t\t\tthis.foreach(function (v) {\n\t\t\t\treturn v * value;\n\t\t\t}, column);\n\t\t}\n\t}\n\n\tdivide(column, value) {\n\t\tif (!value) {\n\t\t\tvalue = column;\n\t\t\tcolumn = null;\n\t\t}\n\t\tif (value._isDataFrame) {\n\t\t\tthis.foreach(function (v, i) {\n\t\t\t\treturn v / value.get(i);\n\t\t\t}, column);\n\t\t} else {\n\t\t\tthis.foreach(function (v) {\n\t\t\t\treturn v / value;\n\t\t\t}, column);\n\t\t}\n\t}\n\n\tmedian(column) {\n\t\tlet list = []\n\t\tthis.foreach(function (value) {\n\t\t\tlist.push(value)\n\t\t}, column);\n\t\tlist = list.sort(function (a, b) {\n\t\t\treturn a - b\n\t\t})\n\t\tif (list.length > 0) {\n\t\t\treturn list[Math.max(0, Math.floor(list.length / 2) - 1)];\n\t\t}\n\t\treturn 0\n\t}\n\n\tmean(column) {\n\t\tconst sum = this.sum(column);\n\t\tif (this.size() === 0) {\n\t\t\treturn 0\n\t\t}\n\t\treturn sum * 1.0 / this.size();\n\t}\n\n\n\tmax(column) {\n\t\tlet max = Number.MIN_VALUE;\n\t\tthis.foreach(function (value) {\n\t\t\tmax = Math.max(max, value);\n\t\t}, column);\n\t\treturn max;\n\t}\n\n\n\tmin(column) {\n\t\tlet min = Number.MAX_VALUE;\n\t\tthis.foreach(function (value) {\n\t\t\tmin = Math.min(min, value);\n\t\t}, column);\n\t\treturn min;\n\t}\n\n\n\tvariance(column) {\n\t\tvar mean = this.mean(column);\n\t\tvar variance = 0;\n\t\tthis.foreach(function (value) {\n\t\t\tvar dif = mean - value;\n\t\t\tvariance += (dif * dif);\n\t\t}, column);\n\t\treturn variance * 1.0 / this.size();\n\t}\n\n\tstd(column) {\n\t\treturn Math.sqrt(this.variance(column));\n\t}\n\n\tsum(column) {\n\t\tvar sum = 0;\n\t\t/**\n\t\t * FIXME: we should check if we have to return a scaler or DataFrame in case column is null\n\t\t */\n\t\tthis.foreach(function (value) {\n\t\t\tsum += value;\n\t\t}, column);\n\t\treturn sum;\n\t}\n\n\t/**\n\t * returns the number of unique values in a column\n\t */\n\tunique(column) {\n\t\tvar temp = {};\n\t\tvar result = 0;\n\t\tthis.foreach(function (value) {\n\t\t\tif (!temp[value]) {\n\t\t\t\ttemp[value] = true;\n\t\t\t\tresult++;\n\t\t\t}\n\t\t}, column);\n\t\treturn result;\n\t}\n\n\n\t/**\n\t * returns the number of unique values in a column\n\t */\n\tuniqueValues(column) {\n\t\tvar temp = {};\n\t\tvar result = [];\n\t\tthis.foreach(function (value) {\n\t\t\tif (!temp[value]) {\n\t\t\t\ttemp[value] = true;\n\t\t\t\tresult.push(value);\n\t\t\t}\n\t\t}, column);\n\t\treturn new DataFrame(result);\n\t}\n\n\tcount(column) {\n\t\tvar result = {};\n\t\tthis.foreach(function (value) {\n\t\t\tif (!result[value]) {\n\t\t\t\tresult[value] = 0;\n\t\t\t}\n\t\t\tresult[value]++;\n\t\t}, column);\n\t\treturn new DataFrame(result);\n\t}\n\n\tgroupBy(column) {\n\t\tvar temp = {};\n\t\tthis.foreach(function (row) {\n\t\t\tvar value = row[column];\n\t\t\tif (!temp[value]) {\n\t\t\t\ttemp[value] = new DataFrame([]);\n\t\t\t}\n\t\t\ttemp[value].push(row);\n\t\t});\n\t\treturn new Grouping(temp);\n\t}\n\n\tforeach(callback, column) {\n\t\t/**\n\t\t * if(column == null){\n\t\t * loop over all columns}\n\t\t */\n\t\t//console.debug(\"foreach\", this.data.length, column)\n\t\tif (this.data.length) {\n\t\t\t//console.debug(\"  -> Array\");\n\t\t\tfor (let i = 0; i < this.data.length; i++) {\n\t\t\t\tlet row = this.data[i];\n\t\t\t\tif (column) {\n\n\t\t\t\t\tlet value = callback(row[column], i);\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\trow[column] = value;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlet value = callback(row, i);\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tthis.data[i] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t//\tconsole.debug(\"  -> Object\");\n\t\t\tfor (let i in this.data) {\n\t\t\t\tlet row = this.data[i];\n\t\t\t\t//\tconsole.debug(\" o \", row[column]);\n\t\t\t\tif (column) {\n\t\t\t\t\tlet value = callback(row[column], i);\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\trow[column] = value;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlet value = callback(row, i);\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tthis.data[i] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Set an index over some columns for faster lookup via the \"ix()\" method.\n\t * We basically build up a tree which maps the values to the right row..\n\t *\n\t */\n\tsetIndex(keys) {\n\n\t\tvar index = {}\n\t\tvar l = keys.length;\n\t\tthis.foreach(function (row, i) {\n\t\t\tvar node = index;\n\t\t\tfor (let k = 0; k < l; k++) {\n\t\t\t\tvar key = keys[k];\n\t\t\t\tlet value = row[key];\n\t\t\t\tif (!node[value]) {\n\t\t\t\t\tif (k == l - 1) {\n\t\t\t\t\t\tif (node[value] == null) {\n\t\t\t\t\t\t\tnode[value] = i;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * FIXME: Is this really a restriction??\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tconsole.error(\"Multi index not supoprted\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode[value] = {};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tnode = node[value];\n\t\t\t}\n\n\t\t});\n\n\t\tthis.index = index;\n\t}\n\n\t/**\n\t * get *ONE* row by index values. The value have to be in the same\n\t * order as the columns called in the setIndex!\n\t *\n\t * @param values: array of values to be found\n\t *\n\t * @includeIndex boolean: Also return the index not only the row. If true, the result\n\t * \t\t\t\t\t\t  will look like {row:..., index:key}, where key is int or string\n\t *\n\t */\n\tix(values, includeIndex) {\n\n\t\tif (this.index) {\n\n\t\t\tvar node = this.index;\n\t\t\tvar l = values.length\n\t\t\tfor (var k = 0; k < l; k++) {\n\t\t\t\tvar value = values[k];\n\t\t\t\tif (node[value] != null) {\n\t\t\t\t\tif (k == l - 1) {\n\t\t\t\t\t\tvar index = node[value];\n\t\t\t\t\t\tif (includeIndex) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\trow: this.data[index],\n\t\t\t\t\t\t\t\tindex: index\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn this.data[index];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode = node[value];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.error(\"DataFrame.ix() > Error: No Index!\");\n\t\t}\n\t\treturn null;\n\t}\n\n\n\tremove(row) {\n\t\tif (this.data.length) {\n\t\t\tthis.data.splice(row, 1);\n\t\t} else {\n\t\t\tdelete this.data[row];\n\t\t}\n\t}\n\n\n\tprint() {\n\t\tvar header = false;\n\t\tvar me = this;\n\t\tvar s = \"\";\n\t\tthis.foreach(function (row) {\n\n\t\t\tif (!header) {\n\t\t\t\theader = true;\n\t\t\t\tfor (let k in row) {\n\t\t\t\t\ts += me._correctLength(k, Math.max(20, k.length)) + \" | \";\n\t\t\t\t}\n\t\t\t\ts += \"\\n\";\n\t\t\t}\n\t\t\tfor (let k in row) {\n\t\t\t\ts += me._correctLength(row[k] + \"\", Math.max(20, k.length)) + \" | \";\n\t\t\t}\n\t\t\ts += \"\\n\";\n\t\t});\n\n\t\tconsole.debug(s);\n\t\treturn s;\n\t}\n\n\t_correctLength(s, l) {\n\t\ts += \"\";\n\t\tif (s.length < l) {\n\t\t\twhile (s.length < l)\n\t\t\t\ts += \" \";\n\t\t} else {\n\t\t\ts = s.substring(0, l - 3) + \".. \";\n\t\t}\n\t\treturn s;\n\t}\n\n\n\ttoCSV(columns) {\n\t\tvar s = \"\";\n\t\tvar l = columns.length;\n\t\tthis.foreach(function (row) {\n\t\t\tfor (let i = 0; i < l; i++) {\n\t\t\t\tvar c = columns[i];\n\t\t\t\tif (i > 0) {\n\t\t\t\t\ts += \",\";\n\t\t\t\t}\n\t\t\t\ts += row[c];\n\t\t\t}\n\t\t\ts += \"\\n\";\n\t\t});\n\n\t\treturn s;\n\t}\n\n\n\troundTimestampToDate(column) {\n\t\tthis.foreach(function (timestamp) {\n\t\t\tif (timestamp) {\n\t\t\t\tvar d = new Date(timestamp);\n\t\t\t\td.setMinutes(0);\n\t\t\t\td.setMilliseconds(0);\n\t\t\t\treturn d.getTime();\n\t\t\t}\n\t\t\treturn 0;\n\t\t}, column)\n\t}\n\n\tmerge (other) {\n\t\tif (Array.isArray(this.data) && Array.isArray(other.data)) {\n\t\t\tlet newData = this.data.concat(other.data)\n\t\t\treturn new DataFrame(newData)\n\t\t}\n\t\tconsole.error('DataFrame.merge() > Cannot merge to object frames')\n\t\treturn new DataFrame([])\n\t}\n\n}","import css from 'dojo/css'\nimport lang from 'dojo/_base/lang'\nimport win from 'dojo/_base/win'\nimport on from 'dojo/on'\nimport has from 'dojo/has'\nimport touch from 'dojo/touch'\nimport domGeom from 'dojo/domGeom'\nimport topic from 'dojo/topic'\nimport Logger from 'common/Logger'\nimport Evented from 'dojo/Evented'\n\nvar _vommondCurrentDialog = null\n\nexport default class Dialog extends Evented {\n\n\tstatic getCurrentDialog () {\n\t\treturn _vommondCurrentDialog\n\t}\n\n\tconstructor(params) {\n\t\tsuper()\n\t\tthis.autoClose = true\n\t\tthis.wrapperClass = \"\"\n\t\tthis.overflow = false\n\t\tthis.isFullScreen = false\n\t\tthis.hasCSSAnimation = false\n\t\tif (params && params.overflow) {\n\t\t\tthis.overflow = params.overflow\n\t\t}\n\t\tthis.log = new Logger(\"Dialog\");\n\t}\n\n\tdestroy () {\n\t\tthis.log.info('destroy', 'enter')\n\t\t_vommondCurrentDialog = null\n\t\tthis.cleanUpEvented()\n\t}\n\n\tsetFullScreen (callback) {\n\t\tthis.hasFullScreen = true\n\t\tthis.fullScreenListener = callback\n\t}\n\n\tpopup (node, parent, clazz) {\n\t\tthis.log.log(1, \"popup\", \"enter\");\n\n\t\t_vommondCurrentDialog = this\n\n\t\ttopic.publish(\"vommond/dialog/open\", {});\n\n\t\t/**\n\t\t * FIXME: We could somehow try to make the transition still a little smoother.\n\t\t */\n\t\tvar background = document.createElement(\"div\");\n\t\tcss.add(background, \"VommondDialogBackground VommondDialogHidden VommondDialogContentHidden\");\n\n\t\tif (this.hasFullScreen) {\n\t\t\tlet fullscreen = document.createElement(\"span\");\n\t\t\tcss.add(fullscreen, \"VommondDialogFullScreen mdi mdi-fullscreen\");\n\t\t\tbackground.appendChild(fullscreen);\n\t\t\tthis.own(on(fullscreen, touch.press, lang.hitch(this, \"toggleFullScreen\", fullscreen)))\n\t\t}\n\n\t\tvar container = document.createElement(\"div\");\n\t\tcss.add(container, \"VommondDialogContainer\");\n\t\tbackground.appendChild(container);\n\n\t\tvar wrapper = document.createElement(\"div\");\n\t\tcss.add(wrapper, \"VommondDialogWrapper\");\n\t\tif (this.overflow) {\n\t\t\tcss.add(wrapper, \"VommondDialogWrapperOverflow\");\n\t\t}\n\t\tif (clazz) {\n\t\t\tcss.add(wrapper, clazz)\n\t\t}\n\t\tcss.add(wrapper, this.wrapperClass);\n\t\tcontainer.appendChild(wrapper);\n\n\t\tvar content = document.createElement(\"div\");\n\t\tcss.add(content, \"VommondDialogContent\");\n\t\tif (has('mobile')){\n\t\t\tcss.add(content, 'VommondDialogContentMobile')\n\t\t\tcss.add(wrapper, 'VommondDialogWrapperMobile');\n\t\t}\n\t\twrapper.appendChild(content);\n\n\t\tcontent.appendChild(node);\n\t\twin.body().appendChild(background);\n\n\t\t/**\n\t\t * TODO: try to block scroll in the body. Does not work perfectly\n\t\t */\n\t\tthis.own(on(background, \"onmousewheel\", lang.hitch(this, \"stopScroll\")));\n\t\tthis.own(on(background, \"mousewheel\", lang.hitch(this, \"stopScroll\")));\n\t\tthis.own(on(background, \"DOMMouseScroll\", lang.hitch(this, \"stopScroll\")));\n\t\t\n\t\t/**\n\t\t * Close on ESC\n\t\t */\n\t\tthis.own(topic.subscribe(\"matc/canvas/esc\", lang.hitch(this,\"close\")));\n\t\t\t\n\n\t\tvar startPos = this.getStartPos(parent);\n\t\tvar endPos = domGeom.position(wrapper);\n\t\tvar backPos = domGeom.position(background);\n\n\t\tif (this.autoClose) {\n\t\t\tthis.own(on(background, touch.press, lang.hitch(this, \"onBackClick\")));\n\t\t}\n\n\t\twrapper.style.top = startPos.y + \"px\";\n\t\twrapper.style.height = startPos.h + \"px\";\n\t\twrapper.style.width = startPos.w + \"px\";\n\t\twrapper.style.left = startPos.x + \"px\";\n\t\t/*\n\t\tif (this.hasCSSAnimation) {\n\t\t\tvar ratioW = startPos.w / endPos.w;\n\t\t\tvar ratioH = startPos.h / endPos.h;\n\t\t\tvar transform = \" scale(\" + ratioW + \",\" + ratioH + \")\"\n\t\t\twrapper.style.transform = transform;\n\t\t}*/\n\t\t\n\n\t\twrapper.style.top = Math.round((backPos.h - endPos.h) / 2) + \"px\";\n\t\twrapper.style.height = endPos.h + \"px\";\n\t\twrapper.style.width = endPos.w + \"px\";\n\t\twrapper.style.left = Math.round((backPos.w - endPos.w) / 2) + \"px\";\n\t\t// add here a css transform to make the calling smoother\n\t\t// \n\t\t/**\n\t\t * fade in\n\t\t */\n\t\tsetTimeout(() => {\n\t\t\tcss.remove(background, \"VommondDialogHidden\");\n\t\t}, 1);\n\n\t\t/**\n\t\t * fade in\n\t\t */\n\t\tsetTimeout(() => {\n\t\t\tcss.remove(background, \"VommondDialogContentHidden\");\n\t\t}, 350);\n\n\t\t// setTimeout(() => {\n\t\t \t// reset scale\n\t\t// \tif (this.hasCSSAnimation) {\n\t\t// \t\twrapper.style.transform = \"scale(1,1)\";\n\t\t// \t}\n\t\t// \twrapper.style.top = Math.round((backPos.h - endPos.h) / 2) + \"px\";\n\t\t// \twrapper.style.height = endPos.h + \"px\";\n\t\t// \twrapper.style.width = endPos.w + \"px\";\n\t\t// \twrapper.style.left = Math.round((backPos.w - endPos.w) / 2) + \"px\";\n\t\t// }, 100);\n\n\t\t/**\n\t\t * 2.1.9 Fix to allow fixed elements in simulator\n\t\t */\n\t\tif (this.hasCSSAnimation) {\n\t\t\tsetTimeout(() => {\n\t\t\t\twrapper.style.transform = \"\";\n\t\t\t}, 500);\n\t\t}\n\n\t\t/**\n\t\t * Since 4.0.34 we have an an onOpen listener\n\t\t */\n\t\tsetTimeout(() => this.emitOpen(), 500)\n\n\n\t\tthis._dialogBackground = background;\n\t\tthis.node = node;\n\t\tthis.wrapper = wrapper;\n\t}\n\n\tonOpen (callback) {\n\t\tthis._onOpenCallback = callback\n\t}\n\n\temitOpen() {\n\t\tif (this._onOpenCallback) {\n\t\t\tthis._onOpenCallback()\n\t\t}\n\t}\n\n\tgetStartPos(parent) {\n\t\tif (!parent) {\n\t\t\tvar pos = domGeom.position(win.body());\n\t\t\treturn {\n\t\t\t\tw: 0,\n\t\t\t\th: 0,\n\t\t\t\tx: pos.w / 2,\n\t\t\t\ty: pos.h / 2\n\t\t\t};\n\t\t} else {\n\t\t\treturn domGeom.position(parent);\n\t\t}\n\t}\n\n\tresize(endPos) {\n\t\tlet wrapper = this.wrapper;\n\t\tlet background = this._dialogBackground;\n\t\t/**\n\t\t * check of pos of node was passed\n\t\t */\n\t\tif (endPos.appendChild) {\n\t\t\tendPos = domGeom.position(endPos, true);\n\t\t}\n\t\tvar backPos = domGeom.position(background);\n\t\twrapper.style.top = Math.round((backPos.h - endPos.h) / 2) + \"px\";\n\t\twrapper.style.height = endPos.h + \"px\";\n\t\twrapper.style.width = endPos.w + \"px\";\n\t\twrapper.style.left = Math.round((backPos.w - endPos.w) / 2) + \"px\";\n\t}\n\n\tstopScroll(e) {\n\t\t/**\n\t\t * FIXME: This work like shity shit... The detction should be somehow much better... but well.\n\t\t */\n\t\tif (this._dialogBackground == e.target) {\n\t\t\tthis.stopEvent(e);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tonBackClick(e) {\n\n\t\tvar target = e.target;\n\t\tif (target == this._dialogBackground) {\n\t\t\tthis.stopEvent(e);\n\t\t\tcss.add(this._dialogBackground, \" VommondDialogHidden\");\n\t\t\tsetTimeout(lang.hitch(this, \"close\"), 300);\n\t\t}\n\t}\n\n\tshake() {\n\n\t\tvar pos = domGeom.position(this.wrapper);\n\t\tcss.add(this.wrapper, \"VommondDialogWrapperShake\");\n\n\t\tvar wrapper = this.wrapper;\n\t\tsetTimeout(function () {\n\t\t\twrapper.style.left = (pos.x + 50) + \"px\";\n\t\t}, 1);\n\n\t\tsetTimeout(function () {\n\t\t\twrapper.style.left = (pos.x - 50) + \"px\";\n\t\t}, 51);\n\n\t\tsetTimeout(function () {\n\t\t\twrapper.style.left = (pos.x + 50) + \"px\";\n\t\t}, 101);\n\n\t\tsetTimeout(function () {\n\t\t\twrapper.style.left = (pos.x - 50) + \"px\";\n\t\t}, 151);\n\n\t\tsetTimeout(function () {\n\t\t\twrapper.style.left = (pos.x) + \"px\";\n\t\t\tcss.remove(wrapper, \"VommondDialogWrapperShake\");\n\t\t}, 201);\n\n\t}\n\n\ttoggleFullScreen (node) {\n\t\tthis.isFullScreen = !this.isFullScreen\n\t\tif (this.fullScreenListener) {\n\t\t\tthis.fullScreenListener(this.isFullScreen)\n\t\t}\n\t\tif (this.isFullScreen) {\n\t\t\tcss.remove(node, 'mdi-fullscreen')\n\t\t\tcss.add(node, 'mdi-fullscreen-exit')\n\t\t} else {\n\t\t\tcss.add(node, 'mdi-fullscreen')\n\t\t\tcss.remove(node, 'mdi-fullscreen-exit')\n\t\t}\n\t}\n\n\thide() {\n\t\tthis.close();\n\t}\n\n\tclose() {\n\t\tthis.emit(\"close\", {});\n\t\tif (this._dialogBackground) {\n\t\t\twin.body().removeChild(this._dialogBackground);\n\t\t}\n\t\tthis.destroy();\n\t}\n}","import DataFrame from \"./DataFrame\";\n\nexport default class Grouping {\n\n\tconstructor(data) {\n\t\tthis.data = data\n\t\tthis._isDataFrame = false\n\t}\n\n\tas_array() {\n\t\tvar result = [];\n\t\tthis.foreach(function (row) {\n\t\t\tresult.push(row);\n\t\t});\n\t\treturn result;\n\t}\n\n\n\tsize() {\n\t\treturn this._foreach(\"size\");\n\t}\n\n\tget(i) {\n\t\treturn this.data[i];\n\t}\n\n\n\tcount(column) {\n\t\tvar temp = this._foreach(\"count\", column);\n\t\treturn new Grouping(temp.data);\n\t}\n\n\tmax(column) {\n\t\treturn this._foreach(\"max\", column);\n\t}\n\n\tmin(column) {\n\t\treturn this._foreach(\"min\", column);\n\t}\n\n\tmean(column) {\n\t\treturn this._foreach(\"mean\", column);\n\t}\n\n\tvariance(column) {\n\t\treturn this._foreach(\"variance\", column);\n\t}\n\n\tstd(column) {\n\t\treturn this._foreach(\"std\", column);\n\t}\n\n\tsum(column) {\n\t\treturn this._foreach(\"sum\", column);\n\t}\n\n\tunique(column) {\n\t\treturn this._foreach(\"unique\", column);\n\t}\n\n\tgroupBy() {\n\n\t}\n\n\tforeach(callback) {\n\t\tfor (let i in this.data) {\n\t\t\tvar df2 = this.data[i];\n\t\t\tcallback(df2, i);\n\t\t}\n\t}\n\n\t_foreach(method, column) {\n\t\tvar result = {};\n\t\tfor (let i in this.data) {\n\t\t\tvar df2 = this.data[i];\n\t\t\tvar x = df2[method](column);\t\t\n\t\t\tresult[i] = x;\n\t\t}\n\t\treturn new DataFrame (result);\n\t}\n\n\tprint(deep) {\n\t\tfor (let i in this.data) {\n\t\t\tvar df2 = this.data[i];\n\t\t\tif (deep) {\n\t\t\t\tdf2.foreach(function (row, j) {\n\t\t\t\t\tconsole.debug(\"  \", j, row);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}","import Logger from './Logger'\nclass PerformanceMonitor {\n\n    constructor () {\n        this.data = {}\n        this.entries = []\n        this.payloads = {}\n    }\n\n    start (key, payload) {\n        const start = new Date().getTime()\n        this.data[key] = start\n        this.payloads[key] = payload\n    }\n\n    end (key, logLevel = 2) {\n        if (!this.data[key]) {\n            Logger.warn('PerformanceMonitor.end() > no key', key)\n            return\n        }\n        const start = this.data[key]\n        const end = new Date().getTime()\n        const duration = end - start\n        this.entries.push({\n            duration: duration,\n            key: key,\n            payload: this.payloads[key]\n        })\n        if (duration > 1000) {\n            Logger.warn('PerformanceMonitor.end() > ' +  key + ' took ' + duration + 'ms')\n            console.table(this.entries)\n        } else {\n            Logger.log(logLevel, 'PerformanceMonitor.end() > ' +  key + ' took ' + duration + 'ms')\n        }\n        delete this.data[key]\n        delete this.payloads[key]\n    }\n\n}\n\nexport default new PerformanceMonitor()","import lang from '../dojo/_base/lang'\nimport DataFrame from '../common/DataFrame'\nimport Grouping from '../common/Grouping'\nimport PerformanceMonitor from '../core/PerformanceMonitor'\n\n\nexport default class {\n\n\tfilterEvents (events, anno) {\n\t\tPerformanceMonitor.start('Analytics.filterEvents()',events.length)\n\t\tconst bad = {};\n\t\tfor (let i = 0; i < anno.length; i++) {\n\t\t\tlet a = anno[i];\n\t\t\tif (!a.isValid) {\n\t\t\t\tbad[a.reference] = true;\n\t\t\t}\n\t\t}\n\t\tconst temp = [];\n\t\tconst l = events.length;\n\t\tfor (let i = 0; i < l; i++) {\n\t\t\tvar e = events[i];\n\t\t\tif (!bad[e.session]) {\n\t\t\t\ttemp.push(e);\n\t\t\t}\n\t\t}\n\t\tPerformanceMonitor.end('Analytics.filterEvents()')\n\t\treturn temp;\n\t}\n\n\tgetSurveyAnswers (events, app, test, options) {\n\t\tPerformanceMonitor.start('Analytics.getSurveyAnswers()',events.length)\n\t\tconst showId = options.showId\n\t\tconst showTasksSucess = options.showTasksSucess\n\t\tconst showTasksDuration = options.showTaskDetails\n\t\tconst showTasksInteraction = options.showTaskDetails\n\n\n\t\tconst result = {\n\t\t\tids: [],\n\t\t\trows: [],\n\t\t\tcols: [],\n\t\t\tlabels: [],\n\t\t\ttasks: []\n\t\t}\n\n\t\tconst eventsDF = new DataFrame(events);\n\t\teventsDF.sortBy(\"time\");\n\n\t\tlet taskPer = {}\n\t\tif (test.tasks) {\n\t\t\tconst taskPerDF = this.getTaskPerformance(eventsDF, test.tasks)\n\t\t\ttaskPerDF.foreach(row => {\n\t\t\t\tif (!taskPer[row.session]) {\n\t\t\t\t\ttaskPer[row.session] = {}\n\t\t\t\t}\n\t\t\t\ttaskPer[row.session][row.task] = row\n\t\t\t})\n\t\t}\n\n\n\t\tlet widgetColumnNames = {}\n\t\tlet widgetTypes = {}\n\t\tlet widgetColums = {}\n\t\tObject.values(app.widgets).forEach(w => {\n\n\t\t\tif (!widgetColumnNames[w.id]) {\n\t\t\t\twidgetTypes[w.id] = w.type\n\t\t\t\n\t\t\t\tif (w.props && w.props.isSurveyElement && w.type !== 'Password') {\n\t\t\t\t\tif (w.type === 'RadioTable') {\n\t\t\t\t\t\tconst data = w.props.data\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\n\t\t\t\t\t\t\twidgetColums[w.id] = []\n\t\t\t\t\t\t\tdata.forEach((row, i) => {\n\t\t\t\t\t\t\t\tif (i > 0 && row[0]) {\n\t\t\t\t\t\t\t\t\tconst col = row[0]\n\t\t\t\t\t\t\t\t\twidgetColums[w.id].push(col)\n\n\t\t\t\t\t\t\t\t\tresult.cols.push({\n\t\t\t\t\t\t\t\t\t\thidden: false,\n\t\t\t\t\t\t\t\t\t\tkey: col,\n\t\t\t\t\t\t\t\t\t\tlabel: col,\n\t\t\t\t\t\t\t\t\t\tgroup: w.name,\n\t\t\t\t\t\t\t\t\t\ttype: 'data',\n\t\t\t\t\t\t\t\t\t\tid: w.id\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t\t}\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\twidgetColumnNames[w.id] = w.name\n\t\t\t\t\t\tresult.cols.push({\n\t\t\t\t\t\t\thidden: false,\n\t\t\t\t\t\t\tkey: w.name,\n\t\t\t\t\t\t\tlabel: w.name,\n\t\t\t\t\t\t\tgroup: w.name,\n\t\t\t\t\t\t\ttype: 'data',\n\t\t\t\t\t\t\tid: w.id\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n        result.cols.sort((a,b) => {\n          a.group.localeCompare(b.group)\n        })\n\n\t\tif (showId) {\n\t\t\tresult.cols.unshift({\n\t\t\t\tkey: 'id',\n\t\t\t\tlabel: 'ID',\n\t\t\t\ttype: 'id',\n\t\t\t\thidden: true,\n\t\t\t})\t\t\t\n\t\t}\n\n\t\tif (test.tasks) {\n\t\t\ttest.tasks.forEach(task => {\n\t\t\t\tif (showTasksSucess) {\n\t\t\t\t\tresult.cols.push({\n\t\t\t\t\t\tkey: task.name,\n\t\t\t\t\t\tlabel: task.name,\n\t\t\t\t\t\tgroup: task.name,\n\t\t\t\t\t\ttype: 'task',\n\t\t\t\t\t\thidden: true,\n\t\t\t\t\t})\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tif (showTasksDuration) {\n\t\t\t\t\tconst name = task.name + '_Duration'\n\t\t\t\t\tresult.cols.push({\n\t\t\t\t\t\tkey: name,\n\t\t\t\t\t\tlabel: name,\n\t\t\t\t\t\tgroup: task.name,\n\t\t\t\t\t\ttype: 'task',\n\t\t\t\t\t\thidden: true,\n\t\t\t\t\t})\t\n\t\t\t\t\n\t\t\t\t}\n\t\t\t\tif (showTasksInteraction) {\n\t\t\t\t\tconst name = task.name + '_Interactions'\n\t\t\t\t\tresult.cols.push({\n\t\t\t\t\t\tkey: name,\n\t\t\t\t\t\tlabel: name,\n\t\t\t\t\t\tgroup: task.name,\n\t\t\t\t\t\ttype: 'task',\n\t\t\t\t\t\thidden: true,\n\t\t\t\t\t})\t\n\t\t\t\t\tresult.cols.push(task.name + '_Interactions')\n\t\t\t\t}\n\t\t\t\n\t\t\t})\n\t\t}\n\n\n\t\tconst sessionGrouping = eventsDF.groupBy(\"session\");\n\n\t\t/**\n\t\t * sort by start??\n\t\t */\n\t\tlet id = 1\n\t\tsessionGrouping.foreach((df, sessionID) => {\n\t\t\tlet label = `Test ${id}`\n\t\t\tconst row = {}\n\t\t\tconst taskRow = []\n\t\t\tresult.cols.forEach(c => row[c] = '-')\n\t\t\t\n\t\t\tdf.sortBy(\"time\");\n\t\t\tconst sessionEvents = df.as_array();\n\t\t\tsessionEvents.forEach(e => {\n\t\t\t\tdelete e.user\n\t\t\t\tif (app.widgets[e.widget]) {\n\t\t\t\t\tif (e.widget && e.state && widgetColumnNames[e.widget]) {\n\t\t\t\t\t\tconst col = widgetColumnNames[e.widget]\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (widgetTypes[e.widget] === 'Rating') {\n\t\t\t\t\t\t\trow[col] = (e.state.value * 1) + 1\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet value = e.state.value\n\t\t\t\t\t\t\tif (this.isObject(value)) {\n\t\t\t\t\t\t\t\tvalue = Object.entries(value).map((e) => `${e[0]}: ${e[1]}`)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\t\t\trow[col] = value.join(', ')\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trow[col] = value\t\t\t\t\t\n\t\t\t\t\t\t\t}\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (widgetColums[e.widget]) {\n\t\t\t\t\t\t\tconst keys = widgetColums[e.widget]\n\t\t\t\t\t\t\tconst value = e.state.value\n\t\t\t\t\t\t\tkeys.forEach(col => {\n\t\t\t\t\t\t\t\trow[col] = value[col]\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tconst start = sessionEvents.find(e => e.type === 'SessionStart')\n\t\t\tif (start && start.label) {\n\t\t\t  label = start.label\n\t\t\t}\n\n\t\t\tif (showId) {\n\t\t\t\trow['id'] = sessionID\n\t\t\t}\n\n\t\t\tif (test.tasks) {\n\t\t\t\ttest.tasks.forEach(task => {\n\t\t\t\t\tif (taskPer[sessionID] && taskPer[sessionID][task.id]) {\n\t\t\t\t\t\tconst taskData = taskPer[sessionID][task.id]\n\t\t\t\t\t\ttaskRow.push(taskData)\n\t\t\t\t\t\tif (showTasksSucess) {\n\t\t\t\t\t\t\trow[task.name] = 'Completed'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (showTasksSucess) {\n\t\t\t\t\t\t\trow[task.name + '_Duration'] = Math.round(taskData.duration / 1000)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (showTasksSucess) {\n\t\t\t\t\t\t\trow[task.name + 'Interactions'] = taskData.interactions\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\tresult.labels.push(label)\n\t\t\tresult.tasks.push(taskRow)\n\t\t\tresult.ids.push(sessionID)\n\t\t\tresult.rows.push(row)\n\t\t})\n\n\t\tconsole.debug(result.labels)\n\n\t\tPerformanceMonitor.end('Analytics.getSurveyAnswers()')\n\t\treturn result\n\t}\n\n\tisObject(obj) {\t\n\t\treturn typeof obj === 'object' && obj !== null && ! Array.isArray(obj)\n\t}\n\n\tnornalizeContainerChildEvents (events) {\n\t\tevents.forEach(e => {\n\t\t\tif (e.widget && e.widget.indexOf('-') > 0) {\n\t\t\t\te.widget = e.widget.substring(0,e.widget.indexOf('-'))\n\t\t\t}\n\t\t})\n\t\treturn events\n\t}\n\n\tgetFirstNClicks(events, numberOfClicks) {\n\t\tvar filtered = new DataFrame(events);\n\n\t\tvar sessionGrouping = filtered.groupBy(\"session\");\n\n\t\tvar firstNEvents = [];\n\t\tsessionGrouping.foreach(function (df) {\n\t\t\tdf.sortBy(\"time\");\n\t\t\tvar sessionEvents = df.as_array();\n\t\t\tvar count = 0;\n\t\t\tfor (var i = 0; i < sessionEvents.length; i++) {\n\t\t\t\tvar event = sessionEvents[i];\n\t\t\t\tif (event.type == \"ScreenLoaded\" || event.type == \"OverlayLoaded\") {\n\t\t\t\t\tcount = 0;\n\t\t\t\t} else {\n\t\t\t\t\tif (event.x >= 0 && event.y >= 0 && !event.noheat) {\n\t\t\t\t\t\tif (count < numberOfClicks) {\n\t\t\t\t\t\t\tfirstNEvents.push(event);\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t});\n\t\treturn firstNEvents;\n\t}\n\n\n\tgetPValueBionimial() {\n\n\t}\n\n\n\tgetScreenExplorationRate(df, model) {\n\t\tconst screenCount = Object.keys(model.screens).length;\n\t\tconst session = df.groupBy(\"session\");\n\t\tconst uniqueScreenPerSession = session.unique(\"screen\");\n\t\treturn uniqueScreenPerSession.mean() / screenCount;\n\t}\n\n\n\tgetSuccessTaskNames(tasksPerformance, tasks) {\n\t\tconst names = {};\n\t\tfor (var i = 0; i < tasks.length; i++) {\n\t\t\tnames[tasks[i].id] = tasks[i].name;\n\t\t}\n\t\tconst result = {};\n\t\tconst sessionGroup = tasksPerformance.groupBy(\"session\");\n\t\tsessionGroup.foreach((session, id)  => {\n\t\t\tconst temp = [];\n\t\t\tconst successTasks = session.count(\"task\").data;\n\t\t\tfor (let taskID in successTasks) {\n\t\t\t\ttemp.push(names[taskID]);\n\t\t\t}\n\t\t\ttemp.sort();\n\t\t\tresult[id] = temp;\n\t\t});\n\t\treturn result;\n\t}\n\n\t/********************************************************************************************\n\t * Tag Stuff\n\t *******************************************************************************************/\n\n\tgetTagAnalytics(tags) {\n\n\t\tconst tagCount = {};\n\t\tconst tagSessionCount = {};\n\t\tconst tagTime = {};\n\t\tfor (let i = 0; i < tags.length; i++) {\n\t\t\tconst annotation = tags[i];\n\t\t\tconst sessions = annotation.sessions;\n\t\t\tfor (let id in sessions) {\n\t\t\t\tconst sessionTags = sessions[id];\n\t\t\t\tconst tagCounted = {};\n\t\t\t\tfor (let j = 0; j < sessionTags.length; j++) {\n\t\t\t\t\tconst t = sessionTags[j];\n\t\t\t\t\tif (!tagCount[t.tag]) {\n\t\t\t\t\t\ttagCount[t.tag] = 0;\n\t\t\t\t\t}\n\t\t\t\t\ttagCount[t.tag]++;\n\t\t\t\t\tif (!tagCounted[t.tag]) {\n\t\t\t\t\t\tif (!tagSessionCount[t.tag]) {\n\t\t\t\t\t\t\ttagSessionCount[t.tag] = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttagSessionCount[t.tag]++;\n\t\t\t\t\t\ttagCounted[t.tag] = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (!tagTime[t.tag]) {\n\t\t\t\t\t\ttagTime[t.tag] = 0;\n\t\t\t\t\t}\n\t\t\t\t\ttagTime[t.tag] += (t.start);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst result = [];\n\t\tfor (let tag in tagCount) {\n\t\t\tresult.push({\n\t\t\t\ttag: tag,\n\t\t\t\tcount: tagCount[tag],\n\t\t\t\tsessions: tagSessionCount[tag],\n\t\t\t\ttime: tagTime[tag] / tagCount[tag]\n\t\t\t});\n\t\t}\n\t\treturn new DataFrame(result);\n\t}\n\n\t/********************************************************************************************\n\t * Task Stuff\n\t *******************************************************************************************/\n\n\n\t/**\n\t * Creates a mini regex matcher for our tasks. It returns the first match of an flow!\n\t *\n\t * a match has the following properties:\n\t *\n\t *  duration: how long did the task take\n\t *\n\t *  count: how much events where between\n\t *\n\t */\n\tcreateMatcher(name, flow, strict) {\n\n\t\treturn {\n\t\t\tname: name,\n\t\t\tmatch: null,\n\t\t\tflowPos: 0,\n\t\t\tstep: flow[0],\n\t\t\tendStep: flow[flow.length - 1],\n\t\t\tflow: flow,\n\t\t\tstart: null,\n\t\t\tstartTime: 0,\n\t\t\tstrict: strict,\n\t\t\ttaskName: \"\",\n\t\t\tusePartialMatches: false,\n\n\t\t\tinit(e) {\n\t\t\t\tthis.start = e;\n\t\t\t\tthis.startTime = e.time;\n\t\t\t\tthis.interactions = 0;\n\t\t\t},\n\n\t\t\tnext(e, i) {\n\n\t\t\t\tlet result = null;\n\n\t\t\t\t/**\n\t\t\t\t * Since 1.9: Check interactions only if task has started\n\t\t\t\t */\n\t\t\t\tif (this.match) {\n\t\t\t\t\tif (e.type == \"WidgetClick\" ||\n\t\t\t\t\t\te.type == \"WidgetChange\" ||\n\t\t\t\t\t\te.type == \"ScreenGesture\" ||\n\t\t\t\t\t\te.type == \"WidgetGesture\" ||\n\t\t\t\t\t\te.type == \"ScreenClick\") {\n\t\t\t\t\t\tthis.interactions++;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * check if we match the current event to the current\n\t\t\t\t * step in the flow\n\t\t\t\t */\n\t\t\t\tif (this._match(this.step, e)) {\n\t\t\t\t\t/**\n\t\t\t\t\t * create a match object\n\t\t\t\t\t */\n\t\t\t\t\tif (this.match == null) {\n\n\t\t\t\t\t\tthis.match = {\n\t\t\t\t\t\t\tstartTime: e.time,\n\t\t\t\t\t\t\tdiscoveryTime: e.time - this.startTime,\n\t\t\t\t\t\t\tendTime: 1,\n\t\t\t\t\t\t\tstartPosition: i,\n\t\t\t\t\t\t\tendPosition: -1,\n\t\t\t\t\t\t\tduration: 0,\n\t\t\t\t\t\t\tcount: -1,\n\t\t\t\t\t\t\tinteractions: -1,\n\t\t\t\t\t\t\tpartial: false,\n\t\t\t\t\t\t\tsession: e.session,\n\t\t\t\t\t\t\ttask: this.name,\n\t\t\t\t\t\t\tuser: e.user,\n\t\t\t\t\t\t\ttaskName: this.taskName,\n\t\t\t\t\t\t\thits:[]\n\t\t\t\t\t\t};\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * FIX in  1.9.5. We have to start counting interactions\n\t\t\t\t\t\t * from the match if it is an interaction event\n\t\t\t\t\t\t */\n\n\t\t\t\t\t\tif (e.type == \"WidgetClick\" ||\n\t\t\t\t\t\t\te.type == \"WidgetChange\" ||\n\t\t\t\t\t\t\te.type == \"ScreenGesture\" ||\n\t\t\t\t\t\t\te.type == \"WidgetGesture\" ||\n\t\t\t\t\t\t\te.type == \"ScreenClick\") {\n\t\t\t\t\t\t\tthis.interactions++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Since 4.0.65 we also store the matches events\n\t\t\t\t\t */\n\t\t\t\t\tthis.match.hits.push({\n\t\t\t\t\t\ttime: e.time, pos: i, step: this.flowPos\t\n\t\t\t\t\t})\n\n\t\t\t\t\t/**\n\t\t\t\t\t * we have matched the last event. pass the match the result and start again\n\t\t\t\t\t */\n\t\t\t\t\tif (this.flow.length == this.flowPos + 1) {\n\t\t\t\t\t\tvar endTime = this.getEndTime(e);\n\n\t\t\t\t\t\tthis.match.endTime = endTime;\n\t\t\t\t\t\tthis.match.endPosition = i;\n\t\t\t\t\t\tthis.match.interactions = this.interactions;\n\t\t\t\t\t\tthis.match.duration = this.match.endTime - this.match.startTime;\n\t\t\t\t\t\tthis.match.count = (this.match.endPosition - this.match.startPosition) + 1;\n\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * We have a hit!! return this match at the end of the method\n\t\t\t\t\t\t */\n\t\t\t\t\t\tresult = this.match;\n\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * reset shit\n\t\t\t\t\t\t */\n\t\t\t\t\t\tthis.match = null;\n\t\t\t\t\t\tthis.flowPos = -1 // minus one!!\n\t\t\t\t\t}\n\n\t\t\t\t\t\n\n\t\t\t\t\t/**\n\t\t\t\t\t * now move on to the next step\n\t\t\t\t\t */\n\t\t\t\t\tthis.flowPos++;\n\t\t\t\t\tthis.step = this.flow[this.flowPos];\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * check if we have a partial match. The last step must not be like the\n\t\t\t\t * current step.\n\t\t\t\t * \n\t\t\t\t * Since 4.3.8 We disabled partical Matches. Not sure if they are needed anywhere???\n\t\t\t\t */\n\t\t\t\tif (this.usePartialMatches) {\n\t\t\t\t\tif (this.match != null && !this._match(this.step, this.endStep) && this._match(this.endStep, e)) {\n\t\t\t\t\t\n\t\t\t\t\t\tthis.match.endTime = e.time;\n\t\t\t\t\t\tthis.match.endPosition = i;\n\t\t\t\t\t\tthis.match.duration = this.match.endTime - this.match.startTime;\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * count on extra. because we start at event 2, than do two more step\n\t\t\t\t\t\t * and we are at 4. But the user did three steps...\n\t\t\t\t\t\t */\n\t\t\t\t\t\tthis.match.count = (this.match.endPosition - this.match.startPosition) + 1;\n\t\t\t\t\t\tthis.match.partial = true;\n\t\t\t\t\t\tresult = this.match;\n\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * reset\n\t\t\t\t\t\t */\n\t\t\t\t\t\tthis.reset();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t},\n\n\t\t\tgetEndTime(e) {\n\n\t\t\t\tif (e.state && e.state.children) {\n\t\t\t\t\tvar children = e.state.children;\n\t\t\t\t\tvar max = e.time;\n\t\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\t\tmax = Math.max(max, children[i].time);\n\t\t\t\t\t}\n\t\t\t\t\treturn max;\n\t\t\t\t}\n\t\t\t\treturn e.time;\n\t\t\t},\n\t\t\t/**\n\t\t\t * a: the flow event\n\t\t\t * b: event from stream\n\t\t\t */\n\t\t\t_match(a, b) {\n\t\t\t\tif ((a && b && a.screen == b.screen && a.widget == b.widget && a.type == b.type)) {\n\t\t\t\t\tif ((a.type == \"ScreenGesture\" && b.type == \"ScreenGesture\") ||\n\t\t\t\t\t\t(a.type == \"WidgetGesture\" && b.type == \"WidgetGesture\")) {\n\t\t\t\t\t\tif (a.gesture && b.gesture) {\n\t\t\t\t\t\t\treturn a.gesture.type == b.gesture.type;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\n\t\t\t\t\t/**\n\t\t\t\t\t * For widget state change events we will look also into the state\n\t\t\t\t\t */\n\t\t\t\t\tif ((a.type == \"WidgetClick\" || a.type == \"WidgetChange\") && a.state && b.state) {\n\n\t\t\t\t\t\tvar aState = a.state;\n\t\t\t\t\t\tvar bState = b.state;\n\n\n\t\t\t\t\t\tif (aState.type == \"text\" || aState.type == \"typing\" || aState.type == \"select\" || aState.type == \"open\" || aState.type == \"navigate\") {\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * For multi value widgets(textboxes, password, & textarea, and select boxes) and dropdown events\n\t\t\t\t\t\t\t * we have a special\n\t\t\t\t\t\t\t * handling and allow all values\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\treturn aState.type == bState.type;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * Otherwise check if type and value are the same for both states\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\treturn (aState.type == bState.type) && (aState.value == bState.value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ((a.state && !b.state) || (!a.state && b.state)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\n\t\t\treset() {\n\t\t\t\tthis.match = null;\n\t\t\t\tthis.flowPos = 0\n\t\t\t\tthis.step = flow[0];\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t/**\n\t * Does some naive pattern matching. Loops for the entire stream,\n\t * and checks from every event of, if we have a match. The matcher returns\n\t * the first match!\n\t */\n\tmatchFlowInSession(df, flow, taskID, strict) {\n\n\t\tconst result = [];\n\t\tconst matcher = this.createMatcher(taskID, flow, strict)\n\n\t\tdf.sortBy(\"time\");\n\t\tconst events = df.as_array();\n\n\t\tconst l = events.length;\n\t\tmatcher.init(events[0]);\n\t\tfor (let i = 0; i < l; i++) {\n\t\t\tconst e = events[i];\n\t\t\tconst m = matcher.next(e, i);\n\t\t\tif (m) {\n\t\t\t\tif (strict) {\n\t\t\t\t\tif (flow.length == m.count) {\n\t\t\t\t\t\tresult.push(m);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresult.push(m);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tgetFunnelInteraction(df, task, includeDropOff) {\n\t\tconst result = {}\n\t\tconst sessions = this.getTaskPerformance(df, [task])\n\t\tsessions.data.forEach(session => {\n\t\t\tthis.addFunnelInteractionSteps(result, session, false)\n\t\t})\n\n\t\tif (includeDropOff) {\n\t\t\tconst subtasks = this.getFunnelTasks(task);\n\t\t\tsubtasks.forEach(subTask => {\n\t\t\t\tif (subTask.flow.length > 2 && subTask.flow.length < task.flow.length) {\n\t\t\t\t\tconst sessions = this.getTaskPerformance(df, [subTask])\n\t\t\t\t\tsessions.data.forEach(session => {\n\t\t\t\t\t\tif (!result[session.session]) {\n\t\t\t\t\t\t\tthis.addFunnelInteractionSteps(result, session, true)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\treturn result\n\t}\n\n\taddFunnelInteractionSteps (result, session, isDropOff = false) {\n\t\tlet lastPos = 0\n\t\tresult[session.session] = []\n\t\tsession.hits.forEach(hit => {\n\t\t\tconst pos = hit.pos - lastPos\n\t\t\tresult[session.session].push({\n\t\t\t\tvalue: pos,\n\t\t\t\tdropoff:isDropOff\n\t\t\t})\n\t\t\tlastPos = hit.pos\n\t\t})\n\t}\n\n\n\tgetFunnelDuration(df, task, includeDropOff = false) {\n\t\tconst result = {}\n\t\tconst sessions = this.getTaskPerformance(df, [task])\n\t\tsessions.data.forEach(session => {\n\t\t\tthis.addFunnelDurartionSteps(result, session)\n\t\t})\n\n\n\t\tif (includeDropOff) {\n\t\t\tconst subtasks = this.getFunnelTasks(task);\n\t\t\tsubtasks.forEach(subTask => {\n\t\t\t\tif (subTask.flow.length > 2 && subTask.flow.length < task.flow.length) {\n\t\t\t\t\tconst sessions = this.getTaskPerformance(df, [subTask])\n\t\t\t\t\tsessions.data.forEach(session => {\n\t\t\t\t\t\tif (!result[session.session]) {\n\t\t\t\t\t\t\tthis.addFunnelDurartionSteps(result, session, true)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\treturn result\n\t}\n\n\taddFunnelDurartionSteps (result, session, isDropOff = false) {\n\t\tlet lastTime = session.startTime\n\t\tresult[session.session] = []\n\t\tsession.hits.forEach(hit => {\n\t\t\tconst duration = hit.time - lastTime\n\t\t\tresult[session.session].push({\n\t\t\t\tvalue: duration,\n\t\t\t\tdropoff: isDropOff\n\t\t\t})\n\t\t\tlastTime = hit.time\n\t\t})\n\t}\n\n\tgetFunnelMax (stepData) {\n\t\tlet result = 0\n\t\tfor (let id in stepData) {\n\t\t\tlet steps = stepData[id]\n\t\t\tsteps.forEach((step) => {\n\t\t\t\tresult = Math.max(result, step.value)\n\t\t\t})\n\t\t}\n\t\treturn result\n\t}\n\n\tgetSessionSummary(events) {\n\t\tconst result = {}\n\t\tconst sessions = events.groupBy(\"session\");\n\t\tsessions.foreach((session, id) => {\n\t\t\tconst count = session.count('type')\n\t\t\tconst screenLoads = count.get('ScreenLoaded', null, 0) + count.get('OverlayLoaded', null, 0)\n\t\t\tconst uniqueScreens =  session.unique('screen')\n\t\t\tconst clicks = session.select(\"type\", \"in\",[\"ScreenClick\",\"WidgetClick\",\"WidgetChange\", \"ScreenGesture\", \"WidgetGesture\"])\n\t\t\tresult[id] = {\n\t\t\t\tsession: id,\n\t\t\t\tsize: session.size(),\n\t\t\t\tinteractions: clicks.size(),\n\t\t\t\tdate: session.min(\"time\"),\n\t\t\t\tduration:  Math.ceil((session.max(\"time\") - session.min(\"time\"))),\n\t\t\t\tscreenLoads: screenLoads,\n\t\t\t\tscreenUnique: uniqueScreens,\n\t\t\t\tscreenRatio: uniqueScreens / screenLoads,\n\t\t\t\terrors: count.get('ValidationError', null, 0)\n\t\t\t}\n\t\t})\n\t\treturn result\n\t}\n\n\n\tgetSessionDetails (events, tasks) {\n\t\tevents.sortBy(\"time\");\n\t\tconst sessions = this.getSessionSummary(events)\n\t\tObject.values(sessions).forEach(session => {\n\t\t\tsession.tasks = 0\n\t\t\tfor (let t = 0; t < tasks.length; t++) {\n\t\t\t\tconst task = tasks[t];\n\t\t\t\tsession[task.id] = {\n\t\t\t\t\tname: task.name,\n\t\t\t\t\tsuccess: 0,\n\t\t\t\t\tduration: -1,\n\t\t\t\t\tinteractions: -1\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t\n\t\tconst taskPerformance = this.getTaskPerformance(events, tasks).data\n\t\ttaskPerformance.forEach(perf => {\n\t\t\tconst session = sessions[perf.session]\n\t\t\tif (session) {\n\t\t\t\tsession.tasks++\n\t\t\t\tconst t = session[perf.task]\n\t\t\t\tt.success = 1\n\t\t\t\tt.duration = perf.duration\n\t\t\t\tt.interactions = perf.interactions\n\t\t\t} else {\n\t\t\t\tconsole.error('Analytics.getSessionDetails() > No session ??')\n\t\t\t}\n\t\t})\n\n\t\treturn new DataFrame(Object.values(sessions))\n\t}\n\n\tconvertSessionDetails (sessions) {\n\t\treturn sessions.data.map(r => {\n\t\t\tconst result = {}\n\t\t\tfor (let key in r) {\n\t\t\t\tif (key !== 'start') {\n\t\t\t\t\tconst value = r[key]\n\t\t\t\t\tif (value.name) {\n\t\t\t\t\t\tresult[key] = value.success\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult[key] = value\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result\n\t\t})\n\t\t\n\t}\n\n\t\n\t/**\n\t * allowPartial is for funnel??\n\t */\n\tgetTaskPerformance(df, tasks, allowMultiMatch, allowPartial) {\n\t\tPerformanceMonitor.start('Analytics.getTaskPerformance()')\n\t\tconst result = [];\n\t\tconst matchers = [];\n\t\tfor (let t = 0; t < tasks.length; t++) {\n\t\t\tconst task = tasks[t];\n\t\t\tconst flow = task.flow;\n\t\t\tif (flow && flow.length > 0) {\n\t\t\t\tconst matcher = this.createMatcher(task.id, flow, task.strict);\n\t\t\t\tmatcher.taskName = task.name;\n\t\t\t\tmatchers.push(matcher);\n\t\t\t}\n\t\t}\n\t\tconst matcherLength = matchers.length;\n\n\t\tdf.sortBy(\"time\");\n\t\tconst sessions = df.groupBy(\"session\");\n\n\t\t/**\n\t\t * for every session match run all matchers\n\t\t */\n\t\tsessions.foreach((session) => {\n\n\t\t\t/**\n\t\t\t * loop over all events\n\t\t\t */\n\t\t\tconst events = session.as_array();\n\t\t\tconst l = events.length;\n\t\t\n\t\t\t/**\n\t\t\t * reset all matchers\n\t\t\t */\n\t\t\tfor (let m = 0; m < matcherLength; m++) {\n\t\t\t\tconst matcher = matchers[m];\n\t\t\t\tmatcher.reset();\n\t\t\t\tmatcher.init(events[0]);\n\t\t\t\tmatcher.disabled = false;\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < l; i++) {\n\t\t\t\tconst e = events[i];\n\t\t\t\n\t\t\t\t/**\n\t\t\t\t * run all matchers\n\t\t\t\t */\n\t\t\t\tfor (let m = 0; m < matcherLength; m++) {\n\t\t\t\t\tconst matcher = matchers[m];\n\t\t\t\n\t\t\t\t\t/**\n\t\t\t\t\t * Usually we want to match each task max once!\n\t\t\t\t\t * If we have a match, the corresponding\n\t\t\t\t\t * matched will be disabled\n\t\t\t\t\t */\n\t\t\t\t\tif (!matcher.disabled) {\n\t\t\t\t\t\tconst match = matcher.next(e, i);\n\t\t\t\t\t\tif (match) {\n\t\t\t\t\t\t\tif ((match.partial && allowPartial) || !match.partial) {\n\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t * Support strict matching\n\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\tif (matcher.strict) {\n\t\t\t\t\t\t\t\t\tif (match.count == matcher.flow.length) {\n\t\t\t\t\t\t\t\t\t\tresult.push(match);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tresult.push(match);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t * if we do not want to count if\n\t\t\t\t\t\t\t\t * a user manages a task more than one time.\n\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\tif (!allowMultiMatch) {\n\t\t\t\t\t\t\t\t\tmatcher.disabled = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tPerformanceMonitor.end('Analytics.getTaskPerformance()')\n\t\treturn new DataFrame(result);\n\t}\n\n\tgetMergedTaskPerformance(df, tasks, annotations) {\n\t\tlet result = [];\n\t\tconst temp = this.getTaskPerformance(df, tasks);\n\n\n\t\t/**\n\t\t * build fast lookup\n\t\t */\n\t\ttemp.setIndex([\"session\", \"task\"])\n\n\t\t/**\n\t\t * first add all rows from the annotations.\n\t\t */\n\t\tconst l = annotations.length;\n\t\tfor (let i = 0; i < l; i++) {\n\t\t\tconst a = annotations[i];\n\t\t\tif (a.isValid) {\n\t\t\t\tconst session = a.reference;\n\t\t\t\tfor (let task in a.tasks) {\n\t\t\t\t\tconst value = a.tasks[task];\n\t\t\t\t\tconst row = temp.ix([session, task], true)\n\n\t\t\t\t\tif (value && !row) {\n\t\t\t\t\t\t//console.debug(session, task, \" add \", value);\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * Add an artifical math\n\t\t\t\t\t\t * if there is now real match\n\t\t\t\t\t\t */\n\n\t\t\t\t\t\tresult.push({\n\t\t\t\t\t\t\tstartTime: -1,\n\t\t\t\t\t\t\tdiscoveryTime: -1,\n\t\t\t\t\t\t\tendTime: -1,\n\t\t\t\t\t\t\tstartPosition: -1,\n\t\t\t\t\t\t\tendPosition: -1,\n\t\t\t\t\t\t\tduration: 0,\n\t\t\t\t\t\t\tcount: -1,\n\t\t\t\t\t\t\tpartial: false,\n\t\t\t\t\t\t\tsession: session,\n\t\t\t\t\t\t\ttask: task,\n\t\t\t\t\t\t\tuser: \"\" // FIXME: get later the user from this session\n\t\t\t\t\t\t})\n\n\t\t\t\t\t} else if (row && !value) {\n\t\t\t\t\t\t//console.debug(session, task, \" remove \", value);\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * else remove row\n\t\t\t\t\t\t */\n\t\t\t\t\t\tconst index = row.index;\n\t\t\t\t\t\ttemp.remove(index)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * merge both sets.\n\t\t */\n\t\tresult = temp.data.concat(result);\n\t\treturn new DataFrame(result);\n\t}\n\n\n\tgetFunnelSummary(df, task, annotation) {\n\t\t/**\n\t\t * We simply build for each subflow a new task\n\t\t */\n\n\t\tconst tasks = this.getFunnelTasks(task);\n\n\t\t/**\n\t\t * Now we run the normal task analytics\n\t\t */\n\t\tconst summary = this.getTaskSummary(df, tasks, annotation);\n\t\tconst sessionCount = df.count(\"session\").size();\n\n\t\tconst all = [{\n\t\t\tlabel: task.name + \"_all\",\n\t\t\tid: task.id + \"_all\",\n\t\t\tvalue: sessionCount,\n\t\t\tsessionCount: sessionCount,\n\t\t\tp: 1,\n\t\t\tflow: 0,\n\t\t}];\n\n\n\t\tconst result = all.concat(summary.reverse());\n\t\tfor (let i = 1; i < result.length; i++) {\n\t\t\tconst item = result[i];\n\t\t\titem.event = task.flow[i - 1];\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tgetFunnelTasks(task) {\n\t\tconst tasks = [];\n\t\tconst flow = lang.clone(task.flow);\n\t\twhile (flow.length > 0) {\n\t\t\tconst t = lang.clone(task);\n\t\t\tt.id = task.id + \"_\" + flow.length;\n\t\t\tt.name += task.name + \"_\" + flow.length;\n\t\t\tt.flow = lang.clone(flow);\n\t\t\ttasks.push(t);\n\t\t\tflow.pop();\n\t\t}\n\t\treturn tasks\n\t}\n\t\n\n\tgetTaskStarts (df, tasks) {\n\t\tconst startTasks = tasks.map(task => {\n\t\t\tconst t = lang.clone(task);\n\t\t\tt.id = task.id\n\t\t\tt.name = task.name\n\t\t\tt.flow = [task.flow[0]] // just take the start of the flow\n\t\t\treturn t\n\t\t})\n\t\tconst summary = this.getTaskPerformance(df, startTasks);\n\t\treturn summary\n\t}\n\n\n\tgetTaskSummary(df, tasks, annotation) {\n\n\t\tconst sessionCount = df.count(\"session\").size();\n\n\t\tconst tasksPerformance = this.getMergedTaskPerformance(df, tasks, annotation);\n\t\tconst taskGrouping = tasksPerformance.groupBy(\"task\");\n\t\n\t\tconst startTaskPerformace = this.getTaskStarts(df, tasks)\n\t\tconst startGrouping = startTaskPerformace.groupBy(\"task\")\n\t\n\t\tconst list = [];\n\t\tfor (let i = 0; i < tasks.length; i++) {\n\t\t\tconst task = tasks[i];\n\t\t\tlet taskDf = taskGrouping.get(task.id);\n\t\t\n\n\t\t\t/**\n\t\t\t * FIXME: This is a bug! The analytics.getMergedTaskPerformance(df, tasks, annotation );\n\t\t\t * should have also performance for this task!\n\t\t\t */\n\t\t\tif (taskDf) {\n\t\t\t\tconst taskCount = taskDf.size();\n\t\t\t\tconst startDf = startGrouping.get(task.id)\n\t\t\t\tlet startCount = startDf ? startDf.size() : sessionCount\n\t\t\t\n\t\t\t\t/**\n\t\t\t\t * for the time based stats we do not want manual\n\t\t\t\t * annotated tasks\n\t\t\t\t */\n\t\t\t\ttaskDf = taskDf.select(\"startTime\", \">\", 0);\n\n\n\t\t\t\tlist.push({\n\t\t\t\t\tlabel: task.name,\n\t\t\t\t\tid: task.id,\n\t\t\t\t\tvalue: taskCount,\n\t\t\t\t\tsessionCount: sessionCount,\n\t\t\t\t\tsessionStart: startCount / sessionCount,\n\t\t\t\t\tp: taskCount / startCount,\n\t\t\t\t\tsuccess: taskCount / startCount,\n\t\t\t\t\tsuccessRel: taskCount / startCount,\n\t\t\t\t\tsuccessAbs: taskCount,\n\t\t\t\t\tflow: task.flow.length,\n\t\t\t\t\tstartCount: startCount,\n\t\t\t\t\tstartRel: startCount / sessionCount,\n\n\t\t\t\t\tstartMean: taskDf.mean(\"startPosition\"),\n\t\t\t\t\tstartStd: taskDf.std(\"startPosition\"),\n\t\t\t\t\tdiscoveryTimeMean: taskDf.mean(\"discoveryTime\"),\n\t\t\t\t\tdiscoveryTimeStd: taskDf.std(\"discoveryTime\"),\n\t\t\t\t\tdurationMean: taskDf.mean(\"duration\"),\n\t\t\t\t\tdurationMedian: taskDf.median(\"duration\"),\n\t\t\t\t\tdurationStd: taskDf.std(\"duration\"),\n\t\t\t\t\tcountMean: taskDf.mean(\"count\"),\n\t\t\t\t\tcountStd: taskDf.std(\"count\"),\n\t\t\t\t\tinteractionsMean: taskDf.mean(\"interactions\"),\n\t\t\t\t\tinteractionsStd: taskDf.std(\"interactions\")\n\t\t\t\t});\n\t\t\t} else {\n\n\t\t\t\tlist.push({\n\t\t\t\t\tlabel: task.name,\n\t\t\t\t\tid: task.id,\n\t\t\t\t\tsessionCount: sessionCount,\n\t\t\t\t\tvalue: 0,\n\t\t\t\t\tp: 0,\n\t\t\t\t\tstartCount:0,\n\t\t\t\t\tsuccess: 0,\n\t\t\t\t\tsuccessRel: 0,\n\t\t\t\t\tsuccessAbs: 0,\n\t\t\t\t\tflow: task.flow.length,\n\t\t\t\t\tstartAbs: 0,\n\t\t\t\t\tstartMean: 0,\n\t\t\t\t\tstartStd: 0,\n\t\t\t\t\tdiscoveryTimeMean: 0,\n\t\t\t\t\tdiscoveryTimeStd: 0,\n\t\t\t\t\tdurationMean: 0,\n\t\t\t\t\tdurationMedian: 0,\n\t\t\t\t\tdurationStd: 0,\n\t\t\t\t\tcountMean: 0,\n\t\t\t\t\tcountStd: 0,\n\t\t\t\t\tinteractionsMean: 0,\n\t\t\t\t\tinteractionsStd: 0\n\t\t\t\t});\n\t\t\t}\n\n\n\n\t\t}\n\t\treturn list;\n\t}\n\n\n\t/********************************************************************************************\n\t * Overlay Stuff\n\t *******************************************************************************************/\n\n\tgetOverlayTimeGrouping(df) {\n\n\t\t/**\n\t\t * Overlay times\n\t\t */\n\t\tvar sessionGrouping = df.groupBy(\"session\");\n\t\tvar screenTimes = {};\n\t\tsessionGrouping.foreach(function (session) {\n\t\t\tsession.sortBy(\"time\");\n\t\t\tvar startTimes = {};\n\t\t\tvar currentTime = -1;\n\t\t\tvar lastScreen = null;\n\t\t\tvar t = null;\n\n\t\t\tsession.foreach(function (row) {\n\t\t\t\tt = row[\"type\"];\n\t\t\t\tcurrentTime = row[\"time\"];\n\t\t\t\tvar screenID = row[\"overlay\"];\n\t\t\t\t/**\n\t\t\t\t * start counting when overlay is shown\n\t\t\t\t */\n\t\t\t\tif (t == \"OverlayLoaded\") {\n\t\t\t\t\tstartTimes[screenID] = currentTime;\n\t\t\t\t\tlastScreen = screenID;\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Stop when overlay is removed or other screen is loaded\n\t\t\t\t */\n\t\t\t\tif (t == \"OverlayRemoved\") {\n\t\t\t\t\tif (startTimes[screenID]) {\n\t\t\t\t\t\tif (!screenTimes[screenID]) {\n\t\t\t\t\t\t\tscreenTimes[screenID] = new DataFrame([]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar dif = currentTime - startTimes[screenID];\n\t\t\t\t\t\tscreenTimes[screenID].push(dif);\n\t\t\t\t\t}\n\t\t\t\t\tdelete startTimes[screenID];\n\t\t\t\t}\n\n\t\t\t\tif (t == \"ScreenLoaded\") {\n\t\t\t\t\tfor (let screenID in startTimes) {\n\t\t\t\t\t\tif (!screenTimes[screenID]) {\n\t\t\t\t\t\t\tscreenTimes[screenID] = new DataFrame([]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet dif = currentTime - startTimes[screenID];\n\t\t\t\t\t\tscreenTimes[screenID].push(dif);\n\t\t\t\t\t}\n\t\t\t\t\tstartTimes = {};\n\t\t\t\t}\n\n\t\t\t\t//|| t == \"ScreenLoaded\"\n\n\n\t\t\t});\n\n\t\t\tif (startTimes[lastScreen] && currentTime > 0 && t != \"OverlayLoaded\") {\n\t\t\t\tif (!screenTimes[lastScreen]) {\n\t\t\t\t\tscreenTimes[lastScreen] = new DataFrame([]);\n\t\t\t\t}\n\t\t\t\tvar dif = currentTime - startTimes[lastScreen];\n\t\t\t\tscreenTimes[lastScreen].push(dif);\n\t\t\t}\n\n\t\t});\n\n\t\treturn new Grouping(screenTimes, DataFrame);\n\t}\n\n\t/********************************************************************************************\n\t * Screen Stuff\n\t *******************************************************************************************/\n\n\tgetScreenTimeGrouping(df) {\n\n\t\t/**\n\t\t * Screen times\n\t\t */\n\t\tvar sessionGrouping = df.groupBy(\"session\");\n\t\tvar screenTimes = {};\n\t\tsessionGrouping.foreach(function (session) {\n\t\t\tsession.sortBy(\"time\");\n\t\t\tvar lastTime = -1;\n\t\t\tvar currentTime = -1;\n\t\t\tvar lastScreen = null;\n\t\t\tvar t = null;\n\t\t\tsession.foreach(function (row) {\n\t\t\t\tt = row[\"type\"];\n\t\t\t\tcurrentTime = row[\"time\"];\n\t\t\t\tvar screenID = row[\"screen\"];\n\t\t\t\tif (t == \"ScreenLoaded\") {\n\t\t\t\t\tif (lastTime > -1) {\n\t\t\t\t\t\tif (!screenTimes[lastScreen]) {\n\t\t\t\t\t\t\tscreenTimes[lastScreen] = new DataFrame([]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar dif = currentTime - lastTime;\n\t\t\t\t\t\tscreenTimes[lastScreen].push(dif);\n\t\t\t\t\t}\n\t\t\t\t\tlastTime = currentTime;\n\t\t\t\t\tlastScreen = screenID;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (lastTime > 0 && currentTime > 0 && t != \"ScreenLoaded\") {\n\t\t\t\tif (!screenTimes[lastScreen]) {\n\t\t\t\t\tscreenTimes[lastScreen] = new DataFrame([]);\n\t\t\t\t}\n\t\t\t\tvar dif = currentTime - lastTime;\n\t\t\t\tscreenTimes[lastScreen].push(dif);\n\t\t\t}\n\n\t\t});\n\n\t\treturn new Grouping(screenTimes, DataFrame);\n\t}\n\n\tgetScreenTime(df) {\n\n\t\t/**\n\t\t * Screen times\n\t\t */\n\t\tvar sessionGrouping = df.groupBy(\"session\");\n\t\tvar screenTimes = {};\n\t\tsessionGrouping.foreach(function (session) {\n\t\t\tsession.sortBy(\"time\");\n\t\t\tvar lastTime = -1;\n\t\t\tvar lastScreen = null;\n\t\t\tvar t = null;\n\t\t\tvar currentTime = -1;\n\t\t\tsession.foreach(function (row) {\n\t\t\t\tvar t = row[\"type\"];\n\t\t\t\tcurrentTime = row[\"time\"];\n\t\t\t\tvar screenID = row[\"screen\"];\n\t\t\t\tif (t == \"ScreenLoaded\") {\n\t\t\t\t\tif (lastTime > -1) {\n\t\t\t\t\t\tif (!screenTimes[lastScreen]) {\n\t\t\t\t\t\t\tscreenTimes[lastScreen] = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar dif = currentTime - lastTime;\n\t\t\t\t\t\tscreenTimes[lastScreen] += dif;\n\t\t\t\t\t}\n\t\t\t\t\tlastTime = currentTime;\n\t\t\t\t\tlastScreen = screenID;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (lastTime > 0 && currentTime > 0 && t != \"ScreenLoaded\") {\n\t\t\t\tif (!screenTimes[lastScreen]) {\n\t\t\t\t\tscreenTimes[lastScreen] = 0;\n\t\t\t\t}\n\t\t\t\tvar dif = currentTime - lastTime;\n\t\t\t\tscreenTimes[lastScreen] += dif;\n\t\t\t}\n\t\t});\n\n\n\t\treturn new DataFrame(screenTimes);\n\t}\n\n\n\n\t/********************************************************************************************\n\t * Widget Stuff\n\t *******************************************************************************************/\n\n\t/**\n\t * Get merged \"report\" for all widgets relative to the entire application!!\n\t *\n\t */\n\tgetWidgetStatistics(app, df) {\n\n\t\tvar result = {};\n\n\n\t\t/**\n\t\t * Get all clicks for the widgets\n\t\t */\n\t\tvar widgetEvents = df.select(\"type\", \"==\", \"WidgetClick\");\n\t\t// var widgetGrouping = widgetEvents.groupBy(\"widget\");\n\t\tvar widgetCounts = widgetEvents.count(\"widget\");\n\n\n\t\t/**\n\t\t * FIXME: Should be in Screen or?\n\t\t */\n\t\tvar totalWidgetEvents = widgetCounts.sum();\n\n\n\t\tvar discoverTime = this.getWidgetDiscoverTime(df);\n\t\tvar meanDiscoverTime = discoverTime.mean();\n\t\tvar totalDicoverTime = meanDiscoverTime.max();\n\t\tvar discoverTimeSTD = discoverTime.std();\n\n\t\tvar widgetViewCount = discoverTime.size();\n\n\n\t\tvar widgetFirstClick = this.getWidgetFirstClick(df);\n\t\tvar totalFirstClicks = widgetFirstClick.sum();\n\n\t\tvar screenLoadEvents = df.select(\"type\", \"in\", [\"ScreenLoaded\", \"OverlayLoaded\"]);\n\t\tvar screenLoads = screenLoadEvents.count(\"screen\");\n\n\n\t\tfor (var widgetID in app.widgets) {\n\t\t\tvar parentScreenID = this._getParentScreenID(app, widgetID);\n\t\t\tresult[widgetID] = {\n\t\t\t\tclicksAbs: widgetCounts.get(widgetID, null, 0),\n\t\t\t\tclicksRel: widgetCounts.get(widgetID, null, 0) / totalWidgetEvents,\n\t\t\t\tdiscoverTimeAbs: meanDiscoverTime.get(widgetID, null, 0),\n\t\t\t\tdiscoverTimeRel: meanDiscoverTime.get(widgetID, null, 0) / totalDicoverTime,\n\t\t\t\tdiscoverTimeStd: discoverTimeSTD.get(widgetID, null, 0),\n\t\t\t\tviews: widgetViewCount.get(widgetID, null, 0),\n\t\t\t\tfirstClicksAbs: widgetFirstClick.get(widgetID, null, 0),\n\t\t\t\tfirstClicksRelApp: widgetFirstClick.get(widgetID, null, 0) / totalFirstClicks,\n\t\t\t\tfirstClicksRelScreen: widgetFirstClick.get(widgetID, null, 0) / screenLoads.get(parentScreenID, null, 0),\n\t\t\t};\n\n\t\t}\n\t\treturn result;\n\t}\n\n\n\t_getParentScreenID(model, widgetID) {\n\t\t/**\n\t\t * FIXME: This could be faster\n\t\t */\n\t\tfor (var id in model.screens) {\n\t\t\tvar screen = model.screens[id];\n\t\t\tvar i = screen.children.indexOf(widgetID);\n\t\t\tif (i > -1) {\n\t\t\t\treturn screen.id;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\n\n\t/**\n\t * Return a grouping containing the time needed\n\t * from a ScreenLoad until the widget was clicked\n\t */\n\tgetWidgetDiscoverTime(df) {\n\n\t\t/**\n\t\t * Scan each session\n\t\t */\n\t\tvar sessionGrouping = df.groupBy(\"session\");\n\t\tvar widgetGetOrder = {};\n\t\t// var widgetFirstClicks = {};\n\t\tsessionGrouping.foreach(function (session) {\n\t\t\t/**\n\t\t\t * sort by time\n\t\t\t */\n\t\t\tsession.sortBy(\"time\");\n\t\t\t// var t = null;\n\t\t\tvar loadTime = 0;\n\t\t\tvar widgetWasClicked = {};\n\t\t\t// var count = 0;\n\t\t\tsession.foreach(function (row) {\n\t\t\t\tvar type = row[\"type\"];\n\t\t\t\tvar widgetID = row[\"widget\"];\n\t\t\t\tvar time = row[\"time\"];\n\n\t\t\t\tif (type == \"ScreenLoaded\" || type == \"OverlayLoaded\") {\n\t\t\t\t\t/**\n\t\t\t\t\t * Screen load : set reference time and clear flag map\n\t\t\t\t\t * for seen widgets.\n\t\t\t\t\t */\n\t\t\t\t\tloadTime = time;\n\t\t\t\t\twidgetWasClicked = {};\n\t\t\t\t\t// count = 0;\n\n\t\t\t\t} else if (type == \"WidgetClick\" && widgetID) {\n\t\t\t\t\t/**\n\t\t\t\t\t *  We do not want to count widget clicks double... so we\n\t\t\t\t\t *  remember that we have seen the widget already in a\n\t\t\t\t\t *  screen session.\n\t\t\t\t\t */\n\t\t\t\t\tif (!widgetWasClicked[widgetID]) {\n\t\t\t\t\t\tif (!widgetGetOrder[widgetID]) {\n\t\t\t\t\t\t\twidgetGetOrder[widgetID] = new DataFrame([]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\twidgetGetOrder[widgetID].push(time - loadTime);\n\t\t\t\t\t\twidgetWasClicked[widgetID] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn new Grouping(widgetGetOrder);\n\t}\n\n\n\t/**\n\t * Return a grouping containing the time needed\n\t * from a ScreenLoad until the widget was clicked\n\t */\n\tgetWidgetFirstClick(df) {\n\n\t\t/**\n\t\t * Scan each session\n\t\t */\n\t\tvar sessionGrouping = df.groupBy(\"session\");\n\n\t\tvar widgetFirstClicks = {};\n\t\tsessionGrouping.foreach(function (session) {\n\t\t\t/**\n\t\t\t * sort by time\n\t\t\t */\n\t\t\tsession.sortBy(\"time\");\n\t\t\tvar count = 0;\n\t\t\tsession.foreach(function (row) {\n\t\t\t\tvar type = row[\"type\"];\n\t\t\t\tvar widgetID = row[\"widget\"];\n\t\t\t\t// var time = row[\"time\"];\n\n\t\t\t\tif (type == \"ScreenLoaded\" || type == \"OverlayLoaded\") {\n\t\t\t\t\tcount = 0;\n\t\t\t\t} else if (type == \"WidgetClick\" && widgetID) {\n\t\t\t\t\tif (count == 0) {\n\t\t\t\t\t\tif (!widgetFirstClicks[widgetID]) {\n\t\t\t\t\t\t\twidgetFirstClicks[widgetID] = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\twidgetFirstClicks[widgetID]++;\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t});\n\t\treturn new DataFrame(widgetFirstClicks);\n\n\t}\n\n\n\n\tgetWidgetDiscoverOrder(df) {\n\n\t\t/**\n\t\t * Scan each session\n\t\t */\n\t\tvar sessionGrouping = df.groupBy(\"session\");\n\t\tvar widgetGetOrder = {};\n\t\tsessionGrouping.foreach(function (session) {\n\t\t\t/**\n\t\t\t * sort by time\n\t\t\t */\n\t\t\tsession.sortBy(\"time\");\n\t\t\tvar t = null;\n\t\t\tvar count = 0;\n\t\t\tsession.foreach(function (row) {\n\t\t\t\tt = row[\"type\"];\n\t\t\t\tvar widgetID = row[\"widget\"];\n\t\t\t\tif (t == \"ScreenLoaded\" || t == \"OverlayLoaded\") {\n\t\t\t\t\tcount = 0;\n\t\t\t\t\t//console.debug(\" ----- \");\n\t\t\t\t}\n\t\t\t\tif (widgetID) {\n\t\t\t\t\tcount++;\n\t\t\t\t\t//console.debug(\" - \", widgetID, count);\n\t\t\t\t\tif (!widgetGetOrder[widgetID]) {\n\t\t\t\t\t\twidgetGetOrder[widgetID] = new DataFrame([]);\n\t\t\t\t\t}\n\t\t\t\t\twidgetGetOrder[widgetID].push(count);\n\t\t\t\t}\n\n\t\t\t});\n\n\n\t\t});\n\n\t\treturn new Grouping(widgetGetOrder, DataFrame);\n\n\t}\n\n}\n\n","var defaultOptions = {};\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (argument instanceof Date || _typeof(argument) === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\");\n      // eslint-disable-next-line no-console\n      console.warn(new Error().stack);\n    }\n    return new Date(NaN);\n  }\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name compareAsc\n * @category Common Helpers\n * @summary Compare the two dates and return -1, 0 or 1.\n *\n * @description\n * Compare the two dates and return 1 if the first date is after the second,\n * -1 if the first date is before the second or 0 if dates are equal.\n *\n * @param {Date|Number} dateLeft - the first date to compare\n * @param {Date|Number} dateRight - the second date to compare\n * @returns {Number} the result of the comparison\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Compare 11 February 1987 and 10 July 1989:\n * const result = compareAsc(new Date(1987, 1, 11), new Date(1989, 6, 10))\n * //=> -1\n *\n * @example\n * // Sort the array of dates:\n * const result = [\n *   new Date(1995, 6, 2),\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * ].sort(compareAsc)\n * //=> [\n * //   Wed Feb 11 1987 00:00:00,\n * //   Mon Jul 10 1989 00:00:00,\n * //   Sun Jul 02 1995 00:00:00\n * // ]\n */\nexport default function compareAsc(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var diff = dateLeft.getTime() - dateRight.getTime();\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1;\n    // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name differenceInCalendarMonths\n * @category Month Helpers\n * @summary Get the number of calendar months between the given dates.\n *\n * @description\n * Get the number of calendar months between the given dates.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar months\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInCalendarMonths(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 0, 31)\n * )\n * //=> 8\n */\nexport default function differenceInCalendarMonths(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var yearDiff = dateLeft.getFullYear() - dateRight.getFullYear();\n  var monthDiff = dateLeft.getMonth() - dateRight.getMonth();\n  return yearDiff * 12 + monthDiff;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name endOfDay\n * @category Day Helpers\n * @summary Return the end of a day for the given date.\n *\n * @description\n * Return the end of a day for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the end of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The end of a day for 2 September 2014 11:55:00:\n * const result = endOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 23:59:59.999\n */\nexport default function endOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the end of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport default function endOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var month = date.getMonth();\n  date.setFullYear(date.getFullYear(), month + 1, 0);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}","import toDate from \"../toDate/index.js\";\nimport endOfDay from \"../endOfDay/index.js\";\nimport endOfMonth from \"../endOfMonth/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isLastDayOfMonth\n * @category Month Helpers\n * @summary Is the given date the last day of a month?\n *\n * @description\n * Is the given date the last day of a month?\n *\n * @param {Date|Number} date - the date to check\n * @returns {Boolean} the date is the last day of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Is 28 February 2014 the last day of a month?\n * const result = isLastDayOfMonth(new Date(2014, 1, 28))\n * //=> true\n */\nexport default function isLastDayOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  return endOfDay(date).getTime() === endOfMonth(date).getTime();\n}","import toDate from \"../toDate/index.js\";\nimport differenceInCalendarMonths from \"../differenceInCalendarMonths/index.js\";\nimport compareAsc from \"../compareAsc/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport isLastDayOfMonth from \"../isLastDayOfMonth/index.js\";\n/**\n * @name differenceInMonths\n * @category Month Helpers\n * @summary Get the number of full months between the given dates.\n *\n * @description\n * Get the number of full months between the given dates using trunc as a default rounding method.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of full months\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many full months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInMonths(new Date(2014, 8, 1), new Date(2014, 0, 31))\n * //=> 7\n */\nexport default function differenceInMonths(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var sign = compareAsc(dateLeft, dateRight);\n  var difference = Math.abs(differenceInCalendarMonths(dateLeft, dateRight));\n  var result;\n\n  // Check for the difference of less than month\n  if (difference < 1) {\n    result = 0;\n  } else {\n    if (dateLeft.getMonth() === 1 && dateLeft.getDate() > 27) {\n      // This will check if the date is end of Feb and assign a higher end of month date\n      // to compare it with Jan\n      dateLeft.setDate(30);\n    }\n    dateLeft.setMonth(dateLeft.getMonth() - sign * difference);\n\n    // Math.abs(diff in full months - diff in calendar months) === 1 if last calendar month is not full\n    // If so, result must be decreased by 1 in absolute value\n    var isLastMonthNotFull = compareAsc(dateLeft, dateRight) === -sign;\n\n    // Check for cases of one full calendar month\n    if (isLastDayOfMonth(toDate(dirtyDateLeft)) && difference === 1 && compareAsc(dirtyDateLeft, dateRight) === 1) {\n      isLastMonthNotFull = false;\n    }\n    result = sign * (difference - Number(isLastMonthNotFull));\n  }\n\n  // Prevent negative zero\n  return result === 0 ? 0 : result;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name differenceInMilliseconds\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of milliseconds\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * const result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\nexport default function differenceInMilliseconds(dateLeft, dateRight) {\n  requiredArgs(2, arguments);\n  return toDate(dateLeft).getTime() - toDate(dateRight).getTime();\n}","var roundingMap = {\n  ceil: Math.ceil,\n  round: Math.round,\n  floor: Math.floor,\n  trunc: function trunc(value) {\n    return value < 0 ? Math.ceil(value) : Math.floor(value);\n  } // Math.trunc is not supported by IE\n};\n\nvar defaultRoundingMethod = 'trunc';\nexport function getRoundingMethod(method) {\n  return method ? roundingMap[method] : roundingMap[defaultRoundingMethod];\n}","import differenceInMilliseconds from \"../differenceInMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport { getRoundingMethod } from \"../_lib/roundingMethods/index.js\";\n/**\n * @name differenceInSeconds\n * @category Second Helpers\n * @summary Get the number of seconds between the given dates.\n *\n * @description\n * Get the number of seconds between the given dates.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @param {Object} [options] - an object with options.\n * @param {String} [options.roundingMethod='trunc'] - a rounding method (`ceil`, `floor`, `round` or `trunc`)\n * @returns {Number} the number of seconds\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many seconds are between\n * // 2 July 2014 12:30:07.999 and 2 July 2014 12:30:20.000?\n * const result = differenceInSeconds(\n *   new Date(2014, 6, 2, 12, 30, 20, 0),\n *   new Date(2014, 6, 2, 12, 30, 7, 999)\n * )\n * //=> 12\n */\nexport default function differenceInSeconds(dateLeft, dateRight, options) {\n  requiredArgs(2, arguments);\n  var diff = differenceInMilliseconds(dateLeft, dateRight) / 1000;\n  return getRoundingMethod(options === null || options === void 0 ? void 0 : options.roundingMethod)(diff);\n}","var formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'less than a second',\n    other: 'less than {{count}} seconds'\n  },\n  xSeconds: {\n    one: '1 second',\n    other: '{{count}} seconds'\n  },\n  halfAMinute: 'half a minute',\n  lessThanXMinutes: {\n    one: 'less than a minute',\n    other: 'less than {{count}} minutes'\n  },\n  xMinutes: {\n    one: '1 minute',\n    other: '{{count}} minutes'\n  },\n  aboutXHours: {\n    one: 'about 1 hour',\n    other: 'about {{count}} hours'\n  },\n  xHours: {\n    one: '1 hour',\n    other: '{{count}} hours'\n  },\n  xDays: {\n    one: '1 day',\n    other: '{{count}} days'\n  },\n  aboutXWeeks: {\n    one: 'about 1 week',\n    other: 'about {{count}} weeks'\n  },\n  xWeeks: {\n    one: '1 week',\n    other: '{{count}} weeks'\n  },\n  aboutXMonths: {\n    one: 'about 1 month',\n    other: 'about {{count}} months'\n  },\n  xMonths: {\n    one: '1 month',\n    other: '{{count}} months'\n  },\n  aboutXYears: {\n    one: 'about 1 year',\n    other: 'about {{count}} years'\n  },\n  xYears: {\n    one: '1 year',\n    other: '{{count}} years'\n  },\n  overXYears: {\n    one: 'over 1 year',\n    other: 'over {{count}} years'\n  },\n  almostXYears: {\n    one: 'almost 1 year',\n    other: 'almost {{count}} years'\n  }\n};\nvar formatDistance = function formatDistance(token, count, options) {\n  var result;\n  var tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === 'string') {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace('{{count}}', count.toString());\n  }\n  if (options !== null && options !== void 0 && options.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return 'in ' + result;\n    } else {\n      return result + ' ago';\n    }\n  }\n  return result;\n};\nexport default formatDistance;","export default function buildFormatLongFn(args) {\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // TODO: Remove String()\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}","import buildFormatLongFn from \"../../../_lib/buildFormatLongFn/index.js\";\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nexport default formatLong;","var formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: 'P'\n};\nvar formatRelative = function formatRelative(token, _date, _baseDate, _options) {\n  return formatRelativeLocale[token];\n};\nexport default formatRelative;","export default function buildLocalizeFn(args) {\n  return function (dirtyIndex, options) {\n    var context = options !== null && options !== void 0 && options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options !== null && options !== void 0 && options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n      var _width = options !== null && options !== void 0 && options.width ? String(options.width) : args.defaultWidth;\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n    // @ts-ignore: For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}","import buildLocalizeFn from \"../../../_lib/buildLocalizeFn/index.js\";\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter']\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\nvar ordinalNumber = function ordinalNumber(dirtyNumber, _options) {\n  var number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  var rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n      case 2:\n        return number + 'nd';\n      case 3:\n        return number + 'rd';\n    }\n  }\n  return number + 'th';\n};\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function argumentCallback(quarter) {\n      return quarter - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nexport default localize;","export default function buildMatchFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n    if (!matchResult) {\n      return null;\n    }\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    }) : findKey(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    });\n    var value;\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}","export default function buildMatchPatternFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}","import buildMatchFn from \"../../../_lib/buildMatchFn/index.js\";\nimport buildMatchPatternFn from \"../../../_lib/buildMatchPatternFn/index.js\";\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function valueCallback(value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function valueCallback(index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nexport default match;","import formatDistance from \"./_lib/formatDistance/index.js\";\nimport formatLong from \"./_lib/formatLong/index.js\";\nimport formatRelative from \"./_lib/formatRelative/index.js\";\nimport localize from \"./_lib/localize/index.js\";\nimport match from \"./_lib/match/index.js\";\n/**\n * @type {Locale}\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */\nvar locale = {\n  code: 'en-US',\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1\n  }\n};\nexport default locale;","import defaultLocale from \"../../locale/en-US/index.js\";\nexport default defaultLocale;","export default function assign(target, object) {\n  if (target == null) {\n    throw new TypeError('assign requires that input parameter not be null or undefined');\n  }\n  for (var property in object) {\n    if (Object.prototype.hasOwnProperty.call(object, property)) {\n      ;\n      target[property] = object[property];\n    }\n  }\n  return target;\n}","import assign from \"../assign/index.js\";\nexport default function cloneObject(object) {\n  return assign({}, object);\n}","/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport default function getTimezoneOffsetInMilliseconds(date) {\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}","import { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\nimport compareAsc from \"../compareAsc/index.js\";\nimport differenceInMonths from \"../differenceInMonths/index.js\";\nimport differenceInSeconds from \"../differenceInSeconds/index.js\";\nimport defaultLocale from \"../_lib/defaultLocale/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport cloneObject from \"../_lib/cloneObject/index.js\";\nimport assign from \"../_lib/assign/index.js\";\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MINUTES_IN_DAY = 1440;\nvar MINUTES_IN_ALMOST_TWO_DAYS = 2520;\nvar MINUTES_IN_MONTH = 43200;\nvar MINUTES_IN_TWO_MONTHS = 86400;\n\n/**\n * @name formatDistance\n * @category Common Helpers\n * @summary Return the distance between the given dates in words.\n *\n * @description\n * Return the distance between the given dates in words.\n *\n * | Distance between dates                                            | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance between dates | Result               |\n * |------------------------|----------------------|\n * | 0 secs ... 5 secs      | less than 5 seconds  |\n * | 5 secs ... 10 secs     | less than 10 seconds |\n * | 10 secs ... 20 secs    | less than 20 seconds |\n * | 20 secs ... 40 secs    | half a minute        |\n * | 40 secs ... 60 secs    | less than a minute   |\n * | 60 secs ... 90 secs    | 1 minute             |\n *\n * @param {Date|Number} date - the date\n * @param {Date|Number} baseDate - the date to compare with\n * @param {Object} [options] - an object with options.\n * @param {Boolean} [options.includeSeconds=false] - distances less than a minute are more detailed\n * @param {Boolean} [options.addSuffix=false] - result indicates if the second date is earlier or later than the first\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @returns {String} the distance in words\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `baseDate` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `formatDistance` property\n *\n * @example\n * // What is the distance between 2 July 2014 and 1 January 2015?\n * const result = formatDistance(new Date(2014, 6, 2), new Date(2015, 0, 1))\n * //=> '6 months'\n *\n * @example\n * // What is the distance between 1 January 2015 00:00:15\n * // and 1 January 2015 00:00:00, including seconds?\n * const result = formatDistance(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   new Date(2015, 0, 1, 0, 0, 0),\n *   { includeSeconds: true }\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, with a suffix?\n * const result = formatDistance(new Date(2015, 0, 1), new Date(2016, 0, 1), {\n *   addSuffix: true\n * })\n * //=> 'about 1 year ago'\n *\n * @example\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = formatDistance(new Date(2016, 7, 1), new Date(2015, 0, 1), {\n *   locale: eoLocale\n * })\n * //=> 'pli ol 1 jaro'\n */\n\nexport default function formatDistance(dirtyDate, dirtyBaseDate, options) {\n  var _ref, _options$locale;\n  requiredArgs(2, arguments);\n  var defaultOptions = getDefaultOptions();\n  var locale = (_ref = (_options$locale = options === null || options === void 0 ? void 0 : options.locale) !== null && _options$locale !== void 0 ? _options$locale : defaultOptions.locale) !== null && _ref !== void 0 ? _ref : defaultLocale;\n  if (!locale.formatDistance) {\n    throw new RangeError('locale must contain formatDistance property');\n  }\n  var comparison = compareAsc(dirtyDate, dirtyBaseDate);\n  if (isNaN(comparison)) {\n    throw new RangeError('Invalid time value');\n  }\n  var localizeOptions = assign(cloneObject(options), {\n    addSuffix: Boolean(options === null || options === void 0 ? void 0 : options.addSuffix),\n    comparison: comparison\n  });\n  var dateLeft;\n  var dateRight;\n  if (comparison > 0) {\n    dateLeft = toDate(dirtyBaseDate);\n    dateRight = toDate(dirtyDate);\n  } else {\n    dateLeft = toDate(dirtyDate);\n    dateRight = toDate(dirtyBaseDate);\n  }\n  var seconds = differenceInSeconds(dateRight, dateLeft);\n  var offsetInSeconds = (getTimezoneOffsetInMilliseconds(dateRight) - getTimezoneOffsetInMilliseconds(dateLeft)) / 1000;\n  var minutes = Math.round((seconds - offsetInSeconds) / 60);\n  var months;\n\n  // 0 up to 2 mins\n  if (minutes < 2) {\n    if (options !== null && options !== void 0 && options.includeSeconds) {\n      if (seconds < 5) {\n        return locale.formatDistance('lessThanXSeconds', 5, localizeOptions);\n      } else if (seconds < 10) {\n        return locale.formatDistance('lessThanXSeconds', 10, localizeOptions);\n      } else if (seconds < 20) {\n        return locale.formatDistance('lessThanXSeconds', 20, localizeOptions);\n      } else if (seconds < 40) {\n        return locale.formatDistance('halfAMinute', 0, localizeOptions);\n      } else if (seconds < 60) {\n        return locale.formatDistance('lessThanXMinutes', 1, localizeOptions);\n      } else {\n        return locale.formatDistance('xMinutes', 1, localizeOptions);\n      }\n    } else {\n      if (minutes === 0) {\n        return locale.formatDistance('lessThanXMinutes', 1, localizeOptions);\n      } else {\n        return locale.formatDistance('xMinutes', minutes, localizeOptions);\n      }\n    }\n\n    // 2 mins up to 0.75 hrs\n  } else if (minutes < 45) {\n    return locale.formatDistance('xMinutes', minutes, localizeOptions);\n\n    // 0.75 hrs up to 1.5 hrs\n  } else if (minutes < 90) {\n    return locale.formatDistance('aboutXHours', 1, localizeOptions);\n\n    // 1.5 hrs up to 24 hrs\n  } else if (minutes < MINUTES_IN_DAY) {\n    var hours = Math.round(minutes / 60);\n    return locale.formatDistance('aboutXHours', hours, localizeOptions);\n\n    // 1 day up to 1.75 days\n  } else if (minutes < MINUTES_IN_ALMOST_TWO_DAYS) {\n    return locale.formatDistance('xDays', 1, localizeOptions);\n\n    // 1.75 days up to 30 days\n  } else if (minutes < MINUTES_IN_MONTH) {\n    var days = Math.round(minutes / MINUTES_IN_DAY);\n    return locale.formatDistance('xDays', days, localizeOptions);\n\n    // 1 month up to 2 months\n  } else if (minutes < MINUTES_IN_TWO_MONTHS) {\n    months = Math.round(minutes / MINUTES_IN_MONTH);\n    return locale.formatDistance('aboutXMonths', months, localizeOptions);\n  }\n  months = differenceInMonths(dateRight, dateLeft);\n\n  // 2 months up to 12 months\n  if (months < 12) {\n    var nearestMonth = Math.round(minutes / MINUTES_IN_MONTH);\n    return locale.formatDistance('xMonths', nearestMonth, localizeOptions);\n\n    // 1 year up to max Date\n  } else {\n    var monthsSinceStartOfYear = months % 12;\n    var years = Math.floor(months / 12);\n\n    // N years up to 1 years 3 months\n    if (monthsSinceStartOfYear < 3) {\n      return locale.formatDistance('aboutXYears', years, localizeOptions);\n\n      // N years 3 months up to N years 9 months\n    } else if (monthsSinceStartOfYear < 9) {\n      return locale.formatDistance('overXYears', years, localizeOptions);\n\n      // N years 9 months up to N year 12 months\n    } else {\n      return locale.formatDistance('almostXYears', years + 1, localizeOptions);\n    }\n  }\n}","import { formatDistance } from 'date-fns'\n\nexport function formatDate(ms, justDate = false) {\n  if (!ms) {\n    return ''\n  }\n  const dif = Date.now() - ms\n  const date = new Date(ms)\n  if (dif > 1000 * 60 * 60 * 24 * 30) {\n    if (justDate) {\n      return date.toLocaleDateString();\n    }\n    return date.toLocaleString();\n  }\n  return formatDistance(date, new Date(), { addSuffix: true })\n\n}\nexport function getUserName(user) {\n  let result = \"\";\n  if (user.name) {\n    result = user.name + \" \";\n  }\n  if (user.lastname) {\n    result += user.lastname;\n  }\n  if (result.length == 0) {\n    result = user.email;\n  }\n  return result;\n}\n\nexport function getUserLetter(user) {\n  let result = ''\n  if (user.name) {\n    result += user.name.substring(0, 1).toUpperCase();\n    if (user.lastname) {\n      result += user.lastname.substring(0, 1).toUpperCase();\n    }\n  } else {\n    let parts = user.email.split('.')\n    if (parts.length > 0) {\n      result += parts[0].substring(0, 1).toUpperCase();\n    }\n    if (parts.length > 1) {\n      result += parts[1].substring(0, 1).toUpperCase();\n    }\n  }\n  return result\n}","'use strict';\nvar $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.es/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n"],"names":["render","_vm","this","_c","_self","staticClass","_m","label","_v","_s","_e","staticRenderFns","attrs","name","mixins","DojoWidget","data","checked","props","components","methods","postCreate","log","Logger","own","on","domNode","touch","press","lang","hitch","value","setValue","getValue","css","add","remove","setLabel","l","onChange","e","stopEvent","emit","watch","v","mounted","component","addTooltip","node","txt","customCSS","tooltip","document","createElement","arrow","appendChild","lbl","innerHTML","Ring","ProgressBar","Layout","eventLabels","WidgetClick","ScreenLoaded","ScreenClick","WidgetChange","ScreenScroll","OverlayLoaded","OverlayRemoved","ValidationError","ValidationErrorLine","ValidationOK","ScreenGesture","WidgetGesture","gestureLabels","swipeLeft","swipeRight","swipeUp","swipeDown","getIcons","_matcIcons","fixGestures","events","sort","a","b","time","device","error","i","length","event","type","gesture","start","x","Math","min","w","y","h","end","console","warn","debug","_distributedPositions","ids","boundingBox","DistributeUtil","model","getClones","target","result","previews","boudingBox","getBoundingBox","xFactor","yFactor","xCount","floor","yCount","xSpace","round","max","ySpace","offSets","id","box","getBoxById","count","offset","clone","z","group","cloneOff","push","preview","clones","_getGroupChildResizePosition","widget","oldGroup","newGroup","dif","ModelResizer","getGroupChildResizePosition","getObjectFromArray","list","key","ModelUtil","getWidgetsByDistanceAndType","types","screen","getParentScreen","children","widgetID","childWidget","widgets","indexOf","d","getObjectLength","o","Object","keys","getEventStateLabel","state","options","hidden","getGestureLabel","getEventLabel","getScreenName","screenID","shortenIfNeeded","arguments","undefined","screens","substring","getWidgetName","filterEvents","anno","bad","isValid","reference","temp","session","getActionEvents","df","PerformanceMonitor","select","getClickEvents","createEmptyImage","has","onclick","backgroundImage","border","actions","style","borderTopRightRadius","borderTopLeftRadius","borderBottomRightRadius","borderBottomLeftRadius","borderTopWidth","borderBottomWidth","borderRightWidth","borderLeftWidth","borderTopColor","borderBottomColor","borderRightColor","borderLeftColor","createEmptyScreen","screenSize","background","image","getAppTypeIcon","getDomain","host","window","location","hostname","ring","p","size","color","RING_BACKGROUND","$new","width","RING_FOREGROUND","backgroundColor","setPs","placeAt","getDB","domBuilder","DomBuilder","progress","getElementById","row","col","bar","PROGRESS_COLOR","bulletGraph","emptyMsg","db","item","tr","div","build","tdProgress","empty","bulletGraphTable","tbody","table","td","span","createUserImage","user","parent","imgCntr","role","img","src","lastname","getUserLetter","getCommentUserName","comment","getUserName","toUpperCase","parts","email","split","resizeSimulatorContainer","container","factor","pos","win","getBox","getScaledSize","height","ceil","getWidgets","filter","getScreens","app","getClickableWidgets","isClickable","getModelChildren","getWidgetsWithoutParent","concat","getOrderedWidgets","templates","parentWidget","parentScreen","getHoverScreen","difX","difY","copiedParentWidget","inherited","inheritedOrder","getToLines","lines","line","to","getLines","deep","_ids","from","childID","hasLine","getLine","getFromBox","fromPos","groups","getAllGroupChildren","getToBox","isGroup","getTemplateGroupOrderChildren","child","ModelGeom","getBoundingBoxByBoxes","boxes","_getHoverScreen","_isBoxChild","obj","_isContainedInBox","countProps","k","hasOwnProperty","objectEquals","v1","v2","_typeof","toString","r","formatTime","millis","formatSTD","formatNumber","formatRound","formatPercent","cls","formatDate","ts","justDate","UIUtil","formatString","s","getNormalizeWidgetZValues","values","sortWidgetList","lastZ","getMinZValue","getMaxZValue","getZValues","fixMissingZValue","icons","icon","onClick","onMouseOver","onMouseOut","class","domProps","bubble","_Tooltip","$emit","$el","DataFrame","_classCallCheck","_isDataFrame","_createClass","foreach","arr","as_array","forEach","column","operator","inLookup","Array","isArray","c","isNaN","get","defaultValue","bins","p_min","p_max","buckets","bucket","desc","debu","sum","Number","MIN_VALUE","MAX_VALUE","mean","variance","sqrt","Grouping","callback","index","includeIndex","splice","header","me","_correctLength","columns","timestamp","Date","setMinutes","setMilliseconds","getTime","other","newData","_vommondCurrentDialog","Dialog","_Evented","params","_this","_callSuper","autoClose","wrapperClass","overflow","isFullScreen","hasCSSAnimation","_inherits","info","cleanUpEvented","hasFullScreen","fullScreenListener","clazz","_this2","topic","publish","fullscreen","wrapper","content","body","subscribe","startPos","getStartPos","endPos","domGeom","position","backPos","top","left","setTimeout","transform","emitOpen","_dialogBackground","_onOpenCallback","close","removeChild","destroy","Evented","_foreach","df2","method","j","entries","payloads","payload","logLevel","duration","_default","test","showId","showTasksSucess","showTasksDuration","showTaskDetails","showTasksInteraction","rows","cols","labels","tasks","eventsDF","sortBy","taskPer","taskPerDF","getTaskPerformance","task","widgetColumnNames","widgetTypes","widgetColums","isSurveyElement","localeCompare","unshift","sessionGrouping","groupBy","sessionID","taskRow","sessionEvents","isObject","map","join","find","taskData","interactions","numberOfClicks","filtered","firstNEvents","noheat","screenCount","uniqueScreenPerSession","unique","tasksPerformance","names","sessionGroup","successTasks","taskID","tags","tagCount","tagSessionCount","tagTime","annotation","sessions","sessionTags","tagCounted","t","tag","flow","strict","match","flowPos","step","endStep","startTime","taskName","usePartialMatches","init","next","_match","discoveryTime","endTime","startPosition","endPosition","partial","hits","getEndTime","reset","aState","bState","matcher","createMatcher","m","includeDropOff","addFunnelInteractionSteps","subtasks","getFunnelTasks","subTask","isDropOff","lastPos","hit","dropoff","_this3","addFunnelDurartionSteps","lastTime","stepData","steps","screenLoads","uniqueScreens","clicks","date","screenUnique","screenRatio","errors","getSessionSummary","success","taskPerformance","perf","allowMultiMatch","allowPartial","matchers","matcherLength","disabled","annotations","setIndex","ix","summary","getTaskSummary","sessionCount","all","reverse","pop","startTasks","getMergedTaskPerformance","taskGrouping","startTaskPerformace","getTaskStarts","startGrouping","taskDf","taskCount","startDf","startCount","sessionStart","successRel","successAbs","startRel","startMean","startStd","std","discoveryTimeMean","discoveryTimeStd","durationMean","durationMedian","median","durationStd","countMean","countStd","interactionsMean","interactionsStd","startAbs","screenTimes","startTimes","currentTime","lastScreen","widgetEvents","widgetCounts","totalWidgetEvents","discoverTime","getWidgetDiscoverTime","meanDiscoverTime","totalDicoverTime","discoverTimeSTD","widgetViewCount","widgetFirstClick","getWidgetFirstClick","totalFirstClicks","screenLoadEvents","parentScreenID","_getParentScreenID","clicksAbs","clicksRel","discoverTimeAbs","discoverTimeRel","discoverTimeStd","views","firstClicksAbs","firstClicksRelApp","firstClicksRelScreen","widgetGetOrder","loadTime","widgetWasClicked","widgetFirstClicks","defaultOptions","getDefaultOptions","requiredArgs","required","args","TypeError","toDate","argument","argStr","prototype","call","Error","stack","NaN","compareAsc","dirtyDateLeft","dirtyDateRight","dateLeft","dateRight","diff","differenceInCalendarMonths","yearDiff","getFullYear","monthDiff","getMonth","endOfDay","dirtyDate","setHours","endOfMonth","month","setFullYear","isLastDayOfMonth","differenceInMonths","sign","difference","abs","getDate","setDate","setMonth","isLastMonthNotFull","differenceInMilliseconds","roundingMap","trunc","defaultRoundingMethod","getRoundingMethod","differenceInSeconds","roundingMethod","formatDistanceLocale","lessThanXSeconds","one","xSeconds","halfAMinute","lessThanXMinutes","xMinutes","aboutXHours","xHours","xDays","aboutXWeeks","xWeeks","aboutXMonths","xMonths","aboutXYears","xYears","overXYears","almostXYears","formatDistance","token","tokenValue","replace","addSuffix","comparison","buildFormatLongFn","String","defaultWidth","format","formats","dateFormats","full","long","medium","short","timeFormats","dateTimeFormats","formatLong","dateTime","formatRelativeLocale","lastWeek","yesterday","today","tomorrow","nextWeek","formatRelative","_date","_baseDate","_options","buildLocalizeFn","dirtyIndex","valuesArray","context","formattingValues","defaultFormattingWidth","_defaultWidth","_width","argumentCallback","eraValues","narrow","abbreviated","wide","quarterValues","monthValues","dayValues","dayPeriodValues","am","pm","midnight","noon","morning","afternoon","evening","night","formattingDayPeriodValues","ordinalNumber","dirtyNumber","number","rem100","localize","era","quarter","day","dayPeriod","buildMatchFn","string","matchPattern","matchPatterns","defaultMatchWidth","matchResult","matchedString","parsePatterns","defaultParseWidth","findIndex","pattern","findKey","valueCallback","rest","slice","object","predicate","array","buildMatchPatternFn","parseResult","parsePattern","matchOrdinalNumberPattern","parseOrdinalNumberPattern","matchEraPatterns","parseEraPatterns","any","matchQuarterPatterns","parseQuarterPatterns","matchMonthPatterns","parseMonthPatterns","matchDayPatterns","parseDayPatterns","matchDayPeriodPatterns","parseDayPeriodPatterns","parseInt","locale","code","weekStartsOn","firstWeekContainsDate","property","cloneObject","getTimezoneOffsetInMilliseconds","utcDate","UTC","getHours","getMinutes","getSeconds","getMilliseconds","setUTCFullYear","MINUTES_IN_DAY","MINUTES_IN_ALMOST_TWO_DAYS","MINUTES_IN_MONTH","MINUTES_IN_TWO_MONTHS","dirtyBaseDate","_ref","_options$locale","defaultLocale","RangeError","localizeOptions","Boolean","months","seconds","offsetInSeconds","minutes","includeSeconds","hours","days","nearestMonth","monthsSinceStartOfYear","years","ms","now","toLocaleDateString","toLocaleString","$","$entries","stat","O"],"sourceRoot":""}